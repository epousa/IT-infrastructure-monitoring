OpenLayers.Strategy.Fixed=OpenLayers.Class(OpenLayers.Strategy,{preload:!1,initialize:function(e){OpenLayers.Strategy.prototype.initialize.apply(this,[e])},destroy:function(){OpenLayers.Strategy.prototype.destroy.apply(this,arguments)},activate:function(){return!!OpenLayers.Strategy.prototype.activate.apply(this,arguments)&&(this.layer.events.on({refresh:this.load,scope:this}),1==this.layer.visibility||this.preload?this.load():this.layer.events.on({visibilitychanged:this.load,scope:this}),!0)},deactivate:function(){var e=OpenLayers.Strategy.prototype.deactivate.call(this);return e&&this.layer.events.un({refresh:this.load,visibilitychanged:this.load,scope:this}),e},load:function(e){this.layer.events.triggerEvent("loadstart"),this.layer.protocol.read(OpenLayers.Util.applyDefaults({callback:this.merge,filter:this.layer.filter,scope:this},e)),this.layer.events.un({visibilitychanged:this.load,scope:this})},merge:function(e){this.layer.destroyFeatures();var t=e.features;if(t&&t.length>0){var a=this.layer.projection,i=this.layer.map.getProjectionObject();if(!i.equals(a))for(var r,s=0,l=t.length;s<l;++s)(r=t[s].geometry)&&r.transform(a,i);this.layer.addFeatures(t)}this.layer.events.triggerEvent("loadend")},CLASS_NAME:"OpenLayers.Strategy.Fixed"});