OpenLayers.Layer.HTTPRequest=OpenLayers.Class(OpenLayers.Layer,{URL_HASH_FACTOR:(Math.sqrt(5)-1)/2,url:null,params:null,reproject:!1,initialize:function(e,r,t,a){var n=arguments;n=[e,a],OpenLayers.Layer.prototype.initialize.apply(this,n),this.url=r,this.params=OpenLayers.Util.extend({},t)},destroy:function(){this.url=null,this.params=null,OpenLayers.Layer.prototype.destroy.apply(this,arguments)},clone:function(e){return null==e&&(e=new OpenLayers.Layer.HTTPRequest(this.name,this.url,this.params,this.getOptions())),e=OpenLayers.Layer.prototype.clone.apply(this,[e])},setUrl:function(e){this.url=e},mergeNewParams:function(e){this.params=OpenLayers.Util.extend(this.params,e);var r=this.redraw();return null!=this.map&&this.map.events.triggerEvent("changelayer",{layer:this,property:"params"}),r},redraw:function(e){return e?this.mergeNewParams({_olSalt:Math.random()}):OpenLayers.Layer.prototype.redraw.apply(this,[])},selectUrl:function(e,r){for(var t=1,a=0,n=e.length;a<n;a++)t*=e.charCodeAt(a)*this.URL_HASH_FACTOR,t-=Math.floor(t);return r[Math.floor(t*r.length)]},getFullRequestString:function(e,r){var t=r||this.url,a=OpenLayers.Util.extend({},this.params);a=OpenLayers.Util.extend(a,e);var n=OpenLayers.Util.getParameterString(a);t instanceof Array&&(t=this.selectUrl(n,t));var s=OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(t));for(var i in a)i.toUpperCase()in s&&delete a[i];return n=OpenLayers.Util.getParameterString(a),OpenLayers.Util.urlAppend(t,n)},CLASS_NAME:"OpenLayers.Layer.HTTPRequest"});