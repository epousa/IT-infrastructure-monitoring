L.LayerGroup=L.Layer.extend({initialize:function(r){var e,t;if(this._layers={},r)for(e=0,t=r.length;e<t;e++)this.addLayer(r[e])},addLayer:function(r){var e=this.getLayerId(r);return this._layers[e]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var e=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(r){return!!r&&(r in this._layers||this.getLayerId(r)in this._layers)},clearLayers:function(){for(var r in this._layers)this.removeLayer(this._layers[r]);return this},invoke:function(r){var e,t,a=Array.prototype.slice.call(arguments,1);for(e in this._layers)(t=this._layers[e])[r]&&t[r].apply(t,a);return this},onAdd:function(r){for(var e in this._layers)r.addLayer(this._layers[e])},onRemove:function(r){for(var e in this._layers)r.removeLayer(this._layers[e])},eachLayer:function(r,e){for(var t in this._layers)r.call(e,this._layers[t]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];for(var e in this._layers)r.push(this._layers[e]);return r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return L.stamp(r)}}),L.layerGroup=function(r){return new L.LayerGroup(r)};