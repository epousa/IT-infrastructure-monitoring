OpenLayers.Geometry=OpenLayers.Class({id:null,parent:null,bounds:null,initialize:function(){this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){this.id=null,this.bounds=null},clone:function(){return new OpenLayers.Geometry},setBounds:function(e){e&&(this.bounds=e.clone())},clearBounds:function(){this.bounds=null,this.parent&&this.parent.clearBounds()},extendBounds:function(e){this.getBounds()?this.bounds.extend(e):this.setBounds(e)},getBounds:function(){return null==this.bounds&&this.calculateBounds(),this.bounds},calculateBounds:function(){},distanceTo:function(e,n){},getVertices:function(e){},atPoint:function(e,n,t){var r=!1;if(null!=this.getBounds()&&null!=e){var o=null!=n?n:0,s=null!=t?t:0;r=new OpenLayers.Bounds(this.bounds.left-o,this.bounds.bottom-s,this.bounds.right+o,this.bounds.top+s).containsLonLat(e)}return r},getLength:function(){return 0},getArea:function(){return 0},getCentroid:function(){return null},toString:function(){return OpenLayers.Format.WKT.prototype.write(new OpenLayers.Feature.Vector(this))},CLASS_NAME:"OpenLayers.Geometry"}),OpenLayers.Geometry.fromWKT=function(e){var n,t=arguments.callee.format;t||(t=new OpenLayers.Format.WKT,arguments.callee.format=t);var r=t.read(e);if(r instanceof OpenLayers.Feature.Vector)n=r.geometry;else if(r instanceof Array){for(var o=r.length,s=new Array(o),i=0;i<o;++i)s[i]=r[i].geometry;n=new OpenLayers.Geometry.Collection(s)}return n},OpenLayers.Geometry.segmentsIntersect=function(e,n,t){var r=t&&t.point,o=t&&t.tolerance,s=!1,i=e.x1-n.x1,a=e.y1-n.y1,u=e.x2-e.x1,y=e.y2-e.y1,l=n.y2-n.y1,c=n.x2-n.x1,f=l*u-c*y,d=c*a-l*i,h=u*a-y*i;if(0==f)0==d&&0==h&&(s=!0);else{var p=d/f,L=h/f;if(p>=0&&p<=1&&L>=0&&L<=1)if(r){var m=e.x1+p*u,x=e.y1+p*y;s=new OpenLayers.Geometry.Point(m,x)}else s=!0}if(o)if(s){if(r){var O,g=[e,n];e:for(var w=0;w<2;++w){O=g[w];for(var b=1;b<3;++b)if(m=O["x"+b],x=O["y"+b],Math.sqrt(Math.pow(m-s.x,2)+Math.pow(x-s.y,2))<o){s.x=m,s.y=x;break e}}}}else{var v,B,G;g=[e,n];e:for(w=0;w<2;++w){v=g[w],B=g[(w+1)%2];for(b=1;b<3;++b)if(G={x:v["x"+b],y:v["y"+b]},OpenLayers.Geometry.distanceToSegment(G,B).distance<o){s=!r||new OpenLayers.Geometry.Point(G.x,G.y);break e}}}return s},OpenLayers.Geometry.distanceToSegment=function(e,n){var t,r,o=e.x,s=e.y,i=n.x1,a=n.y1,u=n.x2,y=n.y2,l=u-i,c=y-a,f=(l*(o-i)+c*(s-a))/(Math.pow(l,2)+Math.pow(c,2));return f<=0?(t=i,r=a):f>=1?(t=u,r=y):(t=i+f*l,r=a+f*c),{distance:Math.sqrt(Math.pow(t-o,2)+Math.pow(r-s,2)),x:t,y:r}};