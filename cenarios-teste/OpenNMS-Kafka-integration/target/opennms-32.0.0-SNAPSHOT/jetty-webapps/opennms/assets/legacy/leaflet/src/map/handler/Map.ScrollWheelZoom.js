L.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),L.Map.ScrollWheelZoom=L.Handler.extend({addHooks:function(){L.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){L.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var o=L.DomEvent.getWheelDelta(e),t=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var s=Math.max(t-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(L.bind(this._performZoom,this),s),L.DomEvent.stop(e)},_performZoom:function(){var e=this._map,o=e.getZoom(),t=this._map.options.zoomSnap||0;e._stop();var s=this._delta/(4*this._map.options.wheelPxPerZoomLevel),d3=4*Math.log(2/(1+Math.exp(-Math.abs(s))))/Math.LN2,i=t?Math.ceil(d3/t)*t:d3,l=e._limitZoom(o+(this._delta>0?i:-i))-o;this._delta=0,this._startTime=null,l&&("center"===e.options.scrollWheelZoom?e.setZoom(o+l):e.setZoomAround(this._lastMousePos,o+l))}}),L.Map.addInitHook("addHandler","scrollWheelZoom",L.Map.ScrollWheelZoom);