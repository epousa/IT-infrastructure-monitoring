OpenLayers.Control.Attribution=OpenLayers.Class(OpenLayers.Control,{separator:", ",initialize:function(t){OpenLayers.Control.prototype.initialize.apply(this,arguments)},destroy:function(){this.map.events.un({removelayer:this.updateAttribution,addlayer:this.updateAttribution,changelayer:this.updateAttribution,changebaselayer:this.updateAttribution,scope:this}),OpenLayers.Control.prototype.destroy.apply(this,arguments)},draw:function(){return OpenLayers.Control.prototype.draw.apply(this,arguments),this.map.events.on({changebaselayer:this.updateAttribution,changelayer:this.updateAttribution,addlayer:this.updateAttribution,removelayer:this.updateAttribution,scope:this}),this.updateAttribution(),this.div},updateAttribution:function(){var t=[];if(this.map&&this.map.layers){for(var i=0,e=this.map.layers.length;i<e;i++){var a=this.map.layers[i];a.attribution&&a.getVisibility()&&-1===OpenLayers.Util.indexOf(t,a.attribution)&&t.push(a.attribution)}this.div.innerHTML=t.join(this.separator)}},CLASS_NAME:"OpenLayers.Control.Attribution"});