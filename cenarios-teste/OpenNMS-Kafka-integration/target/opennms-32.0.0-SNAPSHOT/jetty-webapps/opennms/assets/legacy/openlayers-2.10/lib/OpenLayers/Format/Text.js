OpenLayers.Format.Text=OpenLayers.Class(OpenLayers.Format,{defaultStyle:null,extractStyles:!0,initialize:function(e){!1!==(e=e||{}).extractStyles&&(e.defaultStyle={externalGraphic:OpenLayers.Util.getImagesLocation()+"marker.png",graphicWidth:21,graphicHeight:25,graphicXOffset:-10.5,graphicYOffset:-12.5}),OpenLayers.Format.prototype.initialize.apply(this,[e])},read:function(e){for(var t,a=e.split("\n"),i=[],r=0;r<a.length-1;r++){var l=a[r].replace(/^\s*/,"").replace(/\s*$/,"");if("#"!=l.charAt(0))if(t){for(var s=l.split("\t"),n=new OpenLayers.Geometry.Point(0,0),p={},o=this.defaultStyle?OpenLayers.Util.applyDefaults({},this.defaultStyle):null,f=!1,c=0;c<s.length;c++)if(s[c])if("point"==t[c]){var h=s[c].split(",");n.y=parseFloat(h[0]),n.x=parseFloat(h[1]),f=!0}else if("lat"==t[c])n.y=parseFloat(s[c]),f=!0;else if("lon"==t[c])n.x=parseFloat(s[c]),f=!0;else if("title"==t[c])p.title=s[c];else if("image"==t[c]||"icon"==t[c]&&o)o.externalGraphic=s[c];else if("iconSize"==t[c]&&o){var y=s[c].split(",");o.graphicWidth=parseFloat(y[0]),o.graphicHeight=parseFloat(y[1])}else if("iconOffset"==t[c]&&o){var g=s[c].split(",");o.graphicXOffset=parseFloat(g[0]),o.graphicYOffset=parseFloat(g[1])}else"description"==t[c]?p.description=s[c]:"overflow"==t[c]?p.overflow=s[c]:p[t[c]]=s[c];if(f){this.internalProjection&&this.externalProjection&&n.transform(this.externalProjection,this.internalProjection);var O=new OpenLayers.Feature.Vector(n,p,o);i.push(O)}}else t=l.split("\t")}return i},CLASS_NAME:"OpenLayers.Format.Text"});