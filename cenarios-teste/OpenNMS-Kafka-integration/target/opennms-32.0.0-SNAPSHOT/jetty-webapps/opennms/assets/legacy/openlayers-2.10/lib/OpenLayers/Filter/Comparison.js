OpenLayers.Filter.Comparison=OpenLayers.Class(OpenLayers.Filter,{type:null,property:null,value:null,matchCase:!0,lowerBoundary:null,upperBoundary:null,initialize:function(e){OpenLayers.Filter.prototype.initialize.apply(this,[e])},evaluate:function(e){e instanceof OpenLayers.Feature.Vector&&(e=e.attributes);var r=!1,a=e[this.property];switch(this.type){case OpenLayers.Filter.Comparison.EQUAL_TO:var s=this.value;r=this.matchCase||"string"!=typeof a||"string"!=typeof s?a==s:a.toUpperCase()==s.toUpperCase();break;case OpenLayers.Filter.Comparison.NOT_EQUAL_TO:s=this.value;r=this.matchCase||"string"!=typeof a||"string"!=typeof s?a!=s:a.toUpperCase()!=s.toUpperCase();break;case OpenLayers.Filter.Comparison.LESS_THAN:r=a<this.value;break;case OpenLayers.Filter.Comparison.GREATER_THAN:r=a>this.value;break;case OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO:r=a<=this.value;break;case OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO:r=a>=this.value;break;case OpenLayers.Filter.Comparison.BETWEEN:r=a>=this.lowerBoundary&&a<=this.upperBoundary;break;case OpenLayers.Filter.Comparison.LIKE:r=new RegExp(this.value,"gi").test(a)}return r},value2regex:function(e,r,a){if("."==e){return OpenLayers.Console.error("'.' is an unsupported wildCard character for OpenLayers.Filter.Comparison"),null}return e=e||"*",r=r||".",a=a||"!",this.value=this.value.replace(new RegExp("\\"+a+"(.|$)","g"),"\\$1"),this.value=this.value.replace(new RegExp("\\"+r,"g"),"."),this.value=this.value.replace(new RegExp("\\"+e,"g"),".*"),this.value=this.value.replace(new RegExp("\\\\.\\*","g"),"\\"+e),this.value=this.value.replace(new RegExp("\\\\\\.","g"),"\\"+r),this.value},regex2value:function(){var e=this.value;return e=(e=(e=(e=(e=e.replace(/!/g,"!!")).replace(/(\\)?\\\./g,(function(e,r){return r?e:"!."}))).replace(/(\\)?\\\*/g,(function(e,r){return r?e:"!*"}))).replace(/\\\\/g,"\\")).replace(/\.\*/g,"*")},clone:function(){return OpenLayers.Util.extend(new OpenLayers.Filter.Comparison,this)},CLASS_NAME:"OpenLayers.Filter.Comparison"}),OpenLayers.Filter.Comparison.EQUAL_TO="==",OpenLayers.Filter.Comparison.NOT_EQUAL_TO="!=",OpenLayers.Filter.Comparison.LESS_THAN="<",OpenLayers.Filter.Comparison.GREATER_THAN=">",OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO="<=",OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO=">=",OpenLayers.Filter.Comparison.BETWEEN="..",OpenLayers.Filter.Comparison.LIKE="~";