OpenLayers.Strategy.Paging=OpenLayers.Class(OpenLayers.Strategy,{features:null,length:10,num:null,paging:!1,initialize:function(e){OpenLayers.Strategy.prototype.initialize.apply(this,[e])},activate:function(){var e=OpenLayers.Strategy.prototype.activate.call(this);return e&&this.layer.events.on({beforefeaturesadded:this.cacheFeatures,scope:this}),e},deactivate:function(){var e=OpenLayers.Strategy.prototype.deactivate.call(this);return e&&(this.clearCache(),this.layer.events.un({beforefeaturesadded:this.cacheFeatures,scope:this})),e},cacheFeatures:function(e){this.paging||(this.clearCache(),this.features=e.features,this.pageNext(e))},clearCache:function(){if(this.features)for(var e=0;e<this.features.length;++e)this.features[e].destroy();this.features=null,this.num=null},pageCount:function(){var e=this.features?this.features.length:0;return Math.ceil(e/this.length)},pageNum:function(){return this.num},pageLength:function(e){return e&&e>0&&(this.length=e),this.length},pageNext:function(e){var t=!1;if(this.features){null===this.num&&(this.num=-1);var a=(this.num+1)*this.length;t=this.page(a,e)}return t},pagePrevious:function(){var e=!1;if(this.features){null===this.num&&(this.num=this.pageCount());var t=(this.num-1)*this.length;e=this.page(t)}return e},page:function(e,t){var a=!1;if(this.features&&e>=0&&e<this.features.length){var s=Math.floor(e/this.length);if(s!=this.num){this.paging=!0;var i=this.features.slice(e,e+this.length);this.layer.removeFeatures(this.layer.features),this.num=s,t&&t.features?t.features=i:this.layer.addFeatures(i),this.paging=!1,a=!0}}return a},CLASS_NAME:"OpenLayers.Strategy.Paging"});