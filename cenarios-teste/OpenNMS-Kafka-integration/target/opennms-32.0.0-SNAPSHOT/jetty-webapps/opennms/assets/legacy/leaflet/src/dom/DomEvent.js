var eventsKey="_leaflet_events";L.DomEvent={on:function(e,t,n,o){if("object"==typeof t)for(var i in t)this._on(e,i,t[i],n);else for(var r=0,a=(t=L.Util.splitWords(t)).length;r<a;r++)this._on(e,t[r],n,o);return this},off:function(e,t,n,o){if("object"==typeof t)for(var i in t)this._off(e,i,t[i],n);else for(var r=0,a=(t=L.Util.splitWords(t)).length;r<a;r++)this._off(e,t[r],n,o);return this},_on:function(e,t,n,o){var i=t+L.stamp(n)+(o?"_"+L.stamp(o):"");if(e[eventsKey]&&e[eventsKey][i])return this;var r=function(t){return n.call(o||e,t||window.event)},a=r;return L.Browser.pointer&&0===t.indexOf("touch")?this.addPointerListener(e,t,r,i):L.Browser.touch&&"dblclick"===t&&this.addDoubleTapListener?this.addDoubleTapListener(e,r,i):"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",r,!1):"mouseenter"===t||"mouseleave"===t?(r=function(t){t=t||window.event,L.DomEvent._isExternalTarget(e,t)&&a(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",r,!1)):("click"===t&&L.Browser.android&&(r=function(e){return L.DomEvent._filterClick(e,a)}),e.addEventListener(t,r,!1)):"attachEvent"in e&&e.attachEvent("on"+t,r),e[eventsKey]=e[eventsKey]||{},e[eventsKey][i]=r,this},_off:function(e,t,n,o){var i=t+L.stamp(n)+(o?"_"+L.stamp(o):""),r=e[eventsKey]&&e[eventsKey][i];return r?(L.Browser.pointer&&0===t.indexOf("touch")?this.removePointerListener(e,t,i):L.Browser.touch&&"dblclick"===t&&this.removeDoubleTapListener?this.removeDoubleTapListener(e,i):"removeEventListener"in e?"mousewheel"===t?e.removeEventListener("onwheel"in e?"wheel":"mousewheel",r,!1):e.removeEventListener("mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,r,!1):"detachEvent"in e&&e.detachEvent("on"+t,r),e[eventsKey][i]=null,this):this},stopPropagation:function(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,L.DomEvent._skipped(e),this},disableScrollPropagation:function(e){return L.DomEvent.on(e,"mousewheel",L.DomEvent.stopPropagation)},disableClickPropagation:function(e){var t=L.DomEvent.stopPropagation;return L.DomEvent.on(e,L.Draggable.START.join(" "),t),L.DomEvent.on(e,{click:L.DomEvent._fakeStop,dblclick:t})},preventDefault:function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this},stop:function(e){return L.DomEvent.preventDefault(e).stopPropagation(e)},getMousePosition:function(e,t){if(!t)return new L.Point(e.clientX,e.clientY);var n=t.getBoundingClientRect();return new L.Point(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},_wheelPxFactor:L.Browser.win&&L.Browser.chrome?2:L.Browser.gecko?window.devicePixelRatio:1,getWheelDelta:function(e){return L.Browser.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/L.DomEvent._wheelPxFactor:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(e){L.DomEvent._skipEvents[e.type]=!0},_skipped:function(e){var t=this._skipEvents[e.type];return this._skipEvents[e.type]=!1,t},_isExternalTarget:function(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e},_filterClick:function(e,t){var n=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,o=L.DomEvent._lastClick&&n-L.DomEvent._lastClick;o&&o>100&&o<500||e.target._simulatedClick&&!e._simulated?L.DomEvent.stop(e):(L.DomEvent._lastClick=n,t(e))}},L.DomEvent.addListener=L.DomEvent.on,L.DomEvent.removeListener=L.DomEvent.off;