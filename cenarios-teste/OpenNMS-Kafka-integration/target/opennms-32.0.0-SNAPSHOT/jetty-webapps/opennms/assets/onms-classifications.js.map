{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///./src/main/assets/js/apps/onms-central-search/index.js","webpack:///./src/main/assets/js/apps/onms-central-search/quicksearch.html","webpack:///./src/main/assets/js/apps/onms-classifications/index.js","webpack:///./src/main/assets/js/apps/onms-classifications/views/config.html","webpack:///./src/main/assets/js/apps/onms-classifications/views/group.html","webpack:///./src/main/assets/js/apps/onms-classifications/views/index.html","webpack:///./src/main/assets/js/apps/onms-classifications/views/modals/export-modal.html","webpack:///./src/main/assets/js/apps/onms-classifications/views/modals/import-modal.html","webpack:///./src/main/assets/js/apps/onms-classifications/views/modals/new-group-modal.html","webpack:///./src/main/assets/js/apps/onms-classifications/views/modals/new-rule-modal.html","webpack:///./src/main/assets/js/apps/onms-classifications/views/modals/popover.html","webpack:///./src/main/assets/js/apps/onms-default-apps/index.js","webpack:///./src/main/assets/js/apps/onms-elementList/lib/elementList.js","webpack:///./src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editInPlace.html","webpack:///./src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editListInPlace.html","webpack:///./src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editMapInPlace.html","webpack:///./src/main/assets/js/apps/search/index.js","webpack:///./src/main/assets/js/apps/search/template.ksc.html","webpack:///./src/main/assets/js/apps/search/template.nodes.html","webpack:///./src/main/assets/js/lib/onms-http/403-permission-denied.html","webpack:///./src/main/assets/js/lib/onms-http/index.js","webpack:///./src/main/assets/js/lib/onms-pagination/index.js","webpack:///./src/main/assets/js/lib/onms-pagination/pagination-toolbar.html","webpack:///./src/main/assets/js/vendor/angular-js.js","webpack:///./src/main/assets/js/vendor/bootstrap-js.js","webpack:///./src/main/assets/js/vendor/jquery-js.js","webpack:///./src/main/assets/js/vendor/moment-js.js","webpack:///./src/main/assets/modules/lib/util/index.js"],"names":["angular","require","quickSearchTemplate","globalErrorHandling","scope","errorResponse","data","error","MODULE_NAME","module","config","$locationProvider","hashPrefix","directive","restrict","transclude","templateUrl","controller","factory","$resource","method","isArray","cancellable","$scope","SearchResource","$timeout","$document","KeyCodes","ENTER","SHIFT","ESC","KEY_LEFT","KEY_UP","KEY_RIGHT","KEY_DOWN","Types","Group","Item","More","query","results","performSearchExecuted","showLoadingIndicator","showLoadingIndicatorDelay","performSearchDelay","performSearchPromise","undefined","performSearchHandle","showLoadingIndicatorPromise","shiftLastPressed","selectedIndex","_bind","default","call","event","isChild","$","has","target","length","isSelf","is","isInside","resetQuery","cancelRequest","e","keyCode","Date","element","focus","select","document","getElementById","navigateSearchResult","parentComponent","parentHeight","clientHeight","resultHeight","resultOffset","offsetTop","padding","scrollTop","type","triggerHandler","click","selected","$cancelRequest","cancel","index","selectIndex","onQueryChange","_forEach","eachResult","_context","push","context","name","label","count","more","item","showMoreElement","loadMore","response","_context2","_context3","endIndex","_indexOf","searchResult","_slice","i","_context4","_splice","_context5","_context6","status","elementList","indexTemplate","configTemplate","groupTemplate","newRuleModalTemplate","newGroupModalTemplate","importModalTemplate","exportModalTemplate","confirmTopoverTemplate","handleErrorResponse","message","_filter","run","confirmationPopoverDefaults","html5Mode","$stateProvider","$urlRouterProvider","state","url","otherwise","input","charAt","toUpperCase","substr","toLowerCase","id","$state","ClassificationService","ClassificationGroupService","ProtocolService","groups","classificationRequest","classificationResponse","isClassificationCollapsed","classify","result","classifyError","classification","refreshTabs","navigateToFirstGroup","limit","orderBy","group","enabled","_sort","l","r","position","_reverse","go","loadProtocols","headers","protocols","fullyDefined","protocol","dstPort","dstAddress","srcPort","srcAddress","exporterAddress","toggleClassificationMode","classificationMode","$rootScope","$uibModal","$location","$log","page","totalItems","updateGroup","$update","refresh","deleteGroup","$delete","then","openModal","open","backdrop","size","resolve","groupsTotalAmount","editGroup","modalInstance","closed","addGroup","parameters","offset","order","contentRange","parseContentRange","total","sortableGroups","start","ui","stop","oldIndex","newIndex","previousGroup","refreshCallback","errorCallback","update","items","$stateParams","$http","$window","ClassificationRuleService","rules","search","splitRule","entry","_replaceAll","findGroup","groupId","get","showExportRulesDialog","editPositionOfRuleEnabled","readOnly","sortable","groupFilter","refreshGroup","refreshAll","$promise","changeOrderBy","column","deleteRule","rule","deleteAllRules","delete","editRule","addRule","sortableRules","previousRule","importRules","clearSearch","$uibModalInstance","setFile","$apply","fileToUpload","files","openFileDialogue","_setTimeout2","resetInput","failedRows","containsHeader","deleteExistingRules","pagination","navigateWithinErrors","Math","min","errors","uploadFile","reader","FileReader","onload","params","close","errorKeys","_getOwnPropertyNames","rowIndex","_parseInt2","readAsText","export","requestedFileName","exportGroup","_trim","location","currentSelection","selectedProtocols","buttonName","maxPosition","ruleCount","selectableGroups","convertStringArrayToProtocolsArray","string","_map","keyword","convertProtocolsArrayToStringArray","save","closeCallback","dismiss","insertProtocol","removeProtocol","_context7","_context8","centralSearch","window","ISO_8601_DATE_FORMAT","ISO_8601_DATE_FORMAT_WITHOUT_MILLIS","jQuery","editInPlaceTemplate","editListInPlaceTemplate","editMapInPlaceTemplate","appendTransform","defaultTransform","transform","t","_concat","escapeSearchValue","value","replace","toFiql","clauses","first","fiql","property","operator","fromFiql","statements","split","segments","end","pattern","Number","normalizeOffset","maxOffset","newOffset","lastPageOffset","floor","fuzzy","rewriteLinks","editing","originalValue","copy","edit","unedit","onKeyup","$event","submit","onSubmit","valueType","step","newValue","add","_values","confirmAndRemove","confirm","onEdit","values","newKey","key","keyType","$filter","debug","defaults","_s","searchClauses","initialLimit","lastOffset","searchParam","newLimit","MAX_VALUE","$watch","queryParams","addSearchClause","clause","isDate","getSearchClause","clauseEquals","a","b","addEpochTimestampSearchClause","removeSearchClause","_context9","_context10","removeSearchClauses","_context11","_context12","replaceSearchClause","oldClause","newClause","scopeOldClause","scopeNewClause","setOffset","o","setLimit","warn","deleteItem","exports","_util","_interopRequireDefault","obj","__esModule","kscTemplate","nodesTemplate","getNodes","criteria","comparator","node","goToChooseResources","href","Util","getBaseHref","getKscReports","kscReport","goToKscReport","ksc","_startsWith","permissionDeniedTemplate","$q","responseError","rejection","console","$emit","reject","$httpProvider","common","interceptors","$on","baseTags","getElementsByTagName","headerLogoutForm","reload","keyboard","paginationTemplate","model","onChangeCallback","link","attrs","Error","currentPage","onChange","log","version","full","moment","_classCallCheck","_createClass","base","setLocation","toggle","booleanValue","elementName","checkboxes","getElementsByName","hasOwnProperty","checked"],"mappings":"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","file":"onms-classifications.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn ","const angular = require('vendor/angular-js');\nrequire('../../lib/onms-http');\nrequire('angular-bootstrap-toggle/dist/angular-bootstrap-toggle');\nrequire('angular-bootstrap-toggle/dist/angular-bootstrap-toggle.css');\nrequire('angular-ui-router');\n\nconst quickSearchTemplate  = require('./quicksearch.html');\n\nconst globalErrorHandling = function(scope, errorResponse) {\n    if (errorResponse.data) {\n        scope.error = errorResponse.data;\n    } else {\n        scope.error = \"An unexpected error occurred while handling the request\";\n    }\n};\n\n(function() {\n    'use strict';\n\n    var MODULE_NAME = 'onms.central.search';\n\n    angular.module(MODULE_NAME, [\n        'angular-loading-bar',\n        'ngResource',\n        'ui.router',\n        'onms.http',\n    ])\n        .config(['$locationProvider', function($locationProvider) {\n            $locationProvider.hashPrefix('');\n        }])\n\n        .directive('onmsCentralSearch', function() {\n            return {\n                restrict: 'E',\n                transclude: false,\n                templateUrl: quickSearchTemplate,\n                controller: 'QuickSearchController'\n            };\n        })\n        .factory('SearchResource', function($resource) {\n            return $resource('api/v2/search', {}, {\n                'query':      { method: 'GET', isArray: true, cancellable: true },\n            });\n        })\n        .controller('QuickSearchController', ['$scope', 'SearchResource', '$timeout', '$document', function($scope, SearchResource, $timeout, $document) {\n            var KeyCodes = {\n                ENTER: 13,\n                SHIFT: 16,\n                ESC: 27,\n                KEY_LEFT: 37,\n                KEY_UP: 38,\n                KEY_RIGHT: 39,\n                KEY_DOWN: 40,\n            };\n\n            var Types = {\n                Group: 'Group',\n                Item: 'Item',\n                More: 'More'\n            };\n\n            $scope.query = '';\n            $scope.results = {};\n            $scope.performSearchExecuted = false;\n            $scope.showLoadingIndicator = false;\n            $scope.showLoadingIndicatorDelay = 250;\n            $scope.performSearchDelay = 500; // in ms\n            $scope.performSearchPromise = undefined;\n            $scope.performSearchHandle = undefined;\n            $scope.showLoadingIndicatorPromise = undefined;\n            $scope.shiftLastPressed = undefined;\n            $scope.selectedIndex = 0;\n\n            $document.bind('mousedown', function(event) {\n                var isChild = $('#onms-search-form').has(event.target).length > 0;\n                var isSelf = $('#onms-search-form').is(event.target);\n                var isInside = isChild || isSelf;\n                if (!isInside) {\n                    $timeout(function() {\n                        $scope.resetQuery();\n                        $scope.cancelRequest();\n                    });\n                }\n            });\n\n            $document.bind('keyup', function(e) {\n                // Search Focus Field\n                $timeout(function() {\n                    if (e.keyCode === KeyCodes.SHIFT && new Date() - $scope.shiftLastPressed <= 350) {\n                        angular.element('#onms-search-query').focus();\n                        angular.element('#onms-search-query').select();\n                        $scope.shiftLastPressed = undefined;\n                    } else if(e.keyCode === KeyCodes.SHIFT) {\n                        $scope.shiftLastPressed = new Date();\n                    }\n\n                    // Reset Search\n                    if (e.keyCode === KeyCodes.ESC) {\n                        $scope.resetQuery();\n                        $scope.cancelRequest();\n                    }\n                });\n            });\n\n            $document.bind('keydown', function(e) {\n                $timeout(function() {\n                    if ($scope.results.length > 0) {\n                        var element = document.getElementById('onms-search-result-item-' + $scope.selectedIndex);\n                        if (e.keyCode === KeyCodes.KEY_UP || e.keyCode === KeyCodes.KEY_DOWN) {\n                            $scope.navigateSearchResult(e.keyCode);\n\n                            // Ideally we would use scrollToView(), but that will also scroll the body, which\n                            // results in the header scrolling down slightly, which looks weird when using the search\n                            // So instead scrolling is implemented manually\n                            var parentComponent = document.getElementById('onms-search-result');\n                            var parentHeight = parentComponent.clientHeight;\n                            var resultHeight = element.clientHeight;\n                            var resultOffset = element.offsetTop;\n                            var padding = 25;\n\n                            // Scroll down\n                            if (resultOffset + resultHeight + padding >= parentHeight + parentComponent.scrollTop) {\n                                parentComponent.scrollTop = resultOffset;\n                            }\n                            // Scroll up\n                            if (parentComponent.scrollTop !== 0\n                                && parentComponent.scrollTop > resultOffset - resultHeight) {\n                                parentComponent.scrollTop = resultOffset - resultHeight;\n                            }\n                        }\n                        if (e.keyCode === KeyCodes.ENTER) {\n                            if ($scope.results[$scope.selectedIndex].type === Types.More) {\n                                // Ensure next action is run in angular context\n                                // Do not use angular.$apply here, as it may fail on angular sites,\n                                // such as the requisition ui\n                                $timeout(function() {\n                                    angular.element(element).triggerHandler('click');\n                                }, 0);\n                            } else {\n                                $scope.resetQuery();\n                                $scope.cancelRequest();\n                                element.click();\n                            }\n                        }\n                    }\n                });\n            });\n\n            $scope.navigateSearchResult = function(keyCode) {\n                $scope.results[$scope.selectedIndex].selected = false;\n                switch(keyCode) {\n                    case KeyCodes.KEY_UP:\n                        $scope.selectedIndex--;\n                        break;\n                    case KeyCodes.KEY_DOWN:\n                        $scope.selectedIndex++;\n                        break;\n                    default:\n                        break;\n                }\n                if ($scope.selectedIndex < 1) {\n                    $scope.selectedIndex = 1;\n                }\n                if ($scope.selectedIndex >= $scope.results.length) {\n                    $scope.selectedIndex = $scope.results.length - 1;\n                }\n                if ($scope.results[$scope.selectedIndex].type === Types.Group) {\n                    $scope.navigateSearchResult(keyCode); // Skip group element\n                } else {\n                    $scope.results[$scope.selectedIndex].selected = true;\n                }\n            };\n\n            $scope.resetQuery = function() {\n                $scope.query = '';\n                $scope.results = [];\n                $scope.performSearchExecuted = false;\n                if ($scope.performSearchHandle) {\n                    $scope.performSearchHandle.$cancelRequest();\n                }\n            };\n\n            $scope.cancelRequest = function() {\n                if ($scope.performSearchHandle) {\n                    $scope.performSearchHandle.$cancelRequest();\n                }\n                $scope.showLoadingIndicator = false;\n                $timeout.cancel($scope.showLoadingIndicatorPromise);\n            };\n\n            // Ensure there is no difference between selected and mouseover\n            $scope.select = function(index) {\n                var selectIndex = index || 1;\n                if ($scope.selectedIndex >= 1) {\n                    $scope.results[$scope.selectedIndex].selected = false;\n                }\n                $scope.selectedIndex = selectIndex;\n                $scope.results[$scope.selectedIndex].selected = true;\n            };\n\n            $scope.onQueryChange = function() {\n                if ($scope.query.length == 0) {\n                    $scope.resetQuery();\n                    return;\n                }\n                if ($scope.query.length < 3) {\n                    return;\n                }\n\n                // Stop any previous loading\n                $timeout.cancel($scope.performSearchPromise);\n                $scope.results = [];\n                $scope.performSearchExecuted = false;\n\n                // Start timeout before actually searching, this will allow for not invoking when the user\n                // is still typing. Fiddle with $scope.loadingDelay to make it resolve faster\n                $scope.performSearchPromise = $timeout(function() {\n                    // Stop any previously started delay\n                    $timeout.cancel($scope.showLoadingIndicatorPromise);\n\n                    // Kick of loading indicator\n                    $scope.showLoadingIndicatorPromise = $timeout(function() {\n                        $scope.showLoadingIndicator = true;\n                    }, $scope.showLoadingIndicatorDelay);\n\n                    // Cancel any previous request\n                    if ($scope.performSearchHandle) {\n                        $scope.performSearchHandle.$cancelRequest();\n                    }\n\n                    // Kick of the search\n                    $scope.error = undefined;\n                    $scope.performSearchHandle = SearchResource.query({'_s' : $scope.query},\n                        function(data) {\n                            $scope.cancelRequest();\n                            $scope.performSearchExecuted = true;\n\n                            var results = [];\n                            data.forEach(function(eachResult) {\n                                // Create the header\n                                results.push({\n                                        context: eachResult.context.name,\n                                        // Make the label have an s at the end if it has multiple items\n                                        label: eachResult.results.length > 1 ? eachResult.context.name + 's' : eachResult.context.name,\n                                        type: Types.Group,\n                                        count: eachResult.results.length,\n                                        more: eachResult.more\n                                    }\n                                );\n\n                                eachResult.results.forEach(function(item) {\n                                    item.type = Types.Item;\n                                    results.push(item);\n                                });\n\n                                if (eachResult.more === true) {\n                                    var showMoreElement = {\n                                        context: eachResult.context.name,\n                                        count: eachResult.results.length,\n                                        type: Types.More,\n                                        loadMore: function() {\n                                            $scope.error = undefined;\n                                            SearchResource.query({'_s': $scope.query, '_l': this.count + 10, '_c' : this.context}, function(response) {\n                                                var endIndex = $scope.results.indexOf(showMoreElement);\n\n                                                // The result is context focused, so there is only one search result anyways\n                                                var searchResult = response[0];\n                                                var results = searchResult.results.slice(endIndex - 1); // Remove first elements, as they are already being showed\n                                                results.forEach(function(item, i) {\n                                                    // Add item\n                                                    item.type = Types.Item;\n                                                    $scope.results.splice(endIndex + i, 0, item);\n                                                    showMoreElement.count++;\n                                                });\n                                                // Toggle Selection\n                                                showMoreElement.selected = false;\n                                                $scope.results[$scope.selectedIndex].selected = true;\n\n                                                // Hide element\n                                                if (searchResult.more === false) {\n                                                    $scope.results.splice($scope.results.indexOf(showMoreElement), 1);\n                                                }\n                                            }, function(response) {\n                                                $scope.performSearchExecuted = true;\n                                                globalErrorHandling($scope, response);\n                                            });\n                                        },\n                                        selected: false\n                                    };\n                                    results.push(showMoreElement);\n                                }\n                            });\n                            $scope.results = results;\n                            if ($scope.results.length != 0) {\n                                $scope.selectedIndex = 1;\n                                $scope.results[$scope.selectedIndex].selected = true;\n                            }\n                        },\n                        function(response) {\n                            if (response.status >= 0) {\n                                $scope.performSearchExecuted = true;\n                                globalErrorHandling($scope, response);\n                                $scope.cancelRequest();\n                            } else {\n                                // Request cancelled\n                            }\n                        }\n                    );\n                }, $scope.performSearchDelay);\n            };\n        }])\n    ;\n}());\n","// Module\nvar code = \"<span>\\n\\n<style type=\\\"text/css\\\">\\n    .search-result {\\n        max-height: 700px;\\n        min-width: 280px;\\n        max-width: 60%;\\n        position: absolute;\\n        top: 100%;\\n        z-index: 100000;\\n        overflow: auto;\\n        border: #343a40 solid 1px;\\n    }\\n\\n    .search-result .list-group-item {\\n        padding: .25rem 0.75rem;\\n        font-size: 90%;\\n    }\\n\\n    .search-result .list-group-item:last-child {\\n        border-bottom-right-radius: 0;\\n        border-bottom-left-radius: 0;\\n    }\\n\\n    .search-bar .form-control {\\n        border: none;\\n        outline: none;\\n        box-shadow: none;\\n        border-radius: 1rem;\\n        padding: 0px;\\n    }\\n\\n    .search-bar .input-group-text {\\n        border-top-left-radius: 1rem;\\n        border-bottom-left-radius: 1rem;\\n        background-color: #fff;\\n        border-color: #fff;\\n    }\\n\\n    .search-result .list-group-item:hover {\\n        background-color: #e9ecef;\\n    }\\n\\n    .selected {\\n        background-color: #e9ecef;\\n    }\\n</style>\\n\\n<form id=\\\"onms-search-form\\\" autocomplete=\\\"off\\\" novalidate class=\\\"form-inline\\\">\\n    <!-- Disable auto complete -->\\n    <input autocomplete=\\\"false\\\" name=\\\"hidden\\\" type=\\\"text\\\" style=\\\"display:none;\\\">\\n\\n    <!-- Search Input -->\\n    <div class=\\\"input-group search-bar\\\">\\n        <div class=\\\"input-group-prepend\\\">\\n            <div class=\\\"input-group-text\\\"><i class=\\\"fa fa-search\\\"></i></div>\\n        </div>\\n        <label class=\\\"form-control\\\">\\n            <input id=\\\"onms-search-query\\\" ng-change=\\\"onQueryChange()\\\" ng-focus=\\\"input.focus=true\\\" ng-blur=\\\"input.focus=false\\\" ng-model=\\\"query\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Search...\\\" aria-label=\\\"Search\\\">\\n            <small class=\\\"text-muted mr-4 quick-search-chevron\\\" ng-show=\\\"!input.focus\\\">\\n                <span></span>\\n                <span></span>\\n            </small>\\n        </label>\\n        <!-- Loading Indicator -->\\n        <div ng-if=\\\"showLoadingIndicator\\\" class=\\\"btn btn-secondary rounded-0\\\">\\n            <div class=\\\"spinner-border spinner-border-sm text-white\\\" role=\\\"status\\\"></div>\\n            <span class=\\\"sr-only\\\">Loading...</span>\\n        </div>\\n        <!-- Reset Search -->\\n        <div ng-if=\\\"performSearchExecuted === true && !showLoadingIndicator\\\" class=\\\"input-group-append\\\">\\n            <button class=\\\"btn btn-secondary\\\" type=\\\"button\\\" title=\\\"Reset Search\\\" ng-click=\\\"resetQuery()\\\"><i class=\\\"fa fa-times\\\"></i></button>\\n        </div>\\n        <!-- Cancel -->\\n        <div ng-if=\\\"showLoadingIndicator\\\" class=\\\"input-group-append\\\">\\n            <button class=\\\"btn btn-secondary\\\" type=\\\"button\\\" title=\\\"Cancel Request\\\" ng-click=\\\"cancelRequest()\\\"><i class=\\\"fa fa-times\\\"></i></button>\\n        </div>\\n    </div>\\n\\n    <!-- Results -->\\n    <div ng-if=\\\"performSearchExecuted === true\\\" class=\\\"bg-dark search-result rounded-bottom\\\" id=\\\"onms-search-result\\\">\\n        <div class=\\\"list-group\\\" ng-if=\\\"results.length > 0\\\">\\n            <div id=\\\"onms-search-result-item-{{$index}}\\\" ng-repeat-start=\\\"item in results track by $index\\\" ng-if=\\\"item.type === 'Group'\\\" class=\\\"list-group-item bg-dark text-grey border-0 pl-2\\\">\\n                <span ng-if=\\\"!item.t\\\">{{item.label}}</span>\\n            </div>\\n            <a id=\\\"onms-search-result-item-{{$index}}\\\" ng-class=\\\"{'selected': item.selected}\\\" ng-if=\\\"item.type === 'More'\\\" ng-click=\\\"item.loadMore()\\\" class=\\\"list-group-item list-group-item-action\\\" href ng-mouseover=\\\"select($index)\\\">more...</a>\\n            <a id=\\\"onms-search-result-item-{{$index}}\\\" ng-class=\\\"{'selected': item.selected}\\\" ng-repeat-end ng-if=\\\"item.type === 'Item'\\\" href=\\\"{{item.url}}\\\" class=\\\"list-group-item list-group-item-action\\\" ng-mouseover=\\\"select($index)\\\" ng-click=\\\"resetQuery()\\\">\\n                <h6 class=\\\"mb-0\\\"><i class=\\\"{{item.icon}}\\\" ng-if=\\\"item.icon\\\">&nbsp;</i>{{item.label}} <i style=\\\"-webkit-transform: scaleY(-1);transform: scaleY(-1);\\\" class=\\\"fa fa-reply pull-right\\\" ng-if=\\\"item.selected\\\"></i></h6>\\n                <small class=\\\"mr-4\\\" ng-class=\\\"{'text-muted': !item.selected}\\\" ng-repeat=\\\"match in item.matches\\\">{{match.label}}: {{match.value}}</small>\\n                <br ng-if=\\\"item.info !== ''\\\">\\n                <small class=\\\"mr-4\\\" ng-class=\\\"{'text-muted': !item.selected}\\\" ng-if=\\\"item.info !== ''\\\">{{item.info}}</small>\\n            </a>\\n        </div>\\n\\n        <!-- No Result -->\\n        <div ng-if=\\\"!error && results.length === 0\\\" class=\\\"text-grey\\\">\\n            <span>No Results found</span>\\n        </div>\\n        <div ng-if=\\\"error\\\" class=\\\"alert alert-danger mx-2 my-2\\\">\\n            <span>{{error}}</span>\\n        </div>\\n    </div>\\n</form>\\n\\n</span>\\n\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-central-search/quicksearch.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","const angular = require('vendor/angular-js');\nconst elementList = require('../onms-elementList/lib/elementList');\nrequire('../../lib/onms-pagination');\nrequire('../../lib/onms-http');\nrequire('../onms-default-apps');\nrequire('angular-bootstrap-confirm');\nrequire('angular-bootstrap-toggle/dist/angular-bootstrap-toggle');\nrequire('angular-bootstrap-toggle/dist/angular-bootstrap-toggle.css');\nrequire('angular-ui-router');\nrequire('angular-ui-sortable');\n\nconst indexTemplate  = require('./views/index.html');\nconst configTemplate = require('./views/config.html');\nconst groupTemplate  = require('./views/group.html');\n\nconst newRuleModalTemplate = require('./views/modals/new-rule-modal.html');\nconst newGroupModalTemplate = require('./views/modals/new-group-modal.html');\nconst importModalTemplate  = require('./views/modals/import-modal.html');\nconst exportModalTemplate  = require('./views/modals/export-modal.html');\n\nconst confirmTopoverTemplate = require('./views/modals/popover.html');\n\nconst handleErrorResponse = function(response, $scope) {\n    if (response && response.data) {\n        var error = response.data;\n        $scope.error = {};\n        $scope.error[error.context] = error.message;\n    }\n};\n\n(function() {\n    'use strict';\n\n    var MODULE_NAME = 'onms.classifications';\n\n    angular.module(MODULE_NAME, [\n            'angular-loading-bar',\n            'ngResource',\n            'ui.router',\n            'ui.bootstrap',\n            'ui.checkbox',\n            'ui.toggle',\n            'ui.sortable',\n            'onms.http',\n            'onms.elementList',\n            'mwl.confirm',\n            'onms.pagination',\n            'onms.default.apps',\n        ])\n        .run(function(confirmationPopoverDefaults) {\n            confirmationPopoverDefaults.templateUrl = confirmTopoverTemplate;\n        })\n\n        .config( ['$locationProvider', function ($locationProvider) {\n            $locationProvider.hashPrefix('!');\n            $locationProvider.html5Mode(false);\n        }])\n        .config(['$stateProvider', '$urlRouterProvider', function ($stateProvider, $urlRouterProvider) {\n            $stateProvider\n                .state('classifications', {\n                    url: '/classifications',\n                    controller: 'ClassificationController',\n                    templateUrl: indexTemplate\n                })\n                .state('classifications.config', {\n                    templateUrl: configTemplate,\n                    url: '/config',\n                    controller: 'ClassificationConfigController'\n                })\n                .state('classifications.group', {\n                    templateUrl: groupTemplate,\n                    url: '/:id',\n                    controller: 'ClassificationGroupController'\n                });\n            $urlRouterProvider.otherwise('classifications/config');\n        }])\n\n        .filter('capitalize', function() {\n            return function(input) {\n                return input ? input.charAt(0).toUpperCase() + input.substr(1).toLowerCase() : '';\n            }\n        })\n\n        .factory('ClassificationService', /* @ngInject */ function($resource) {\n            return $resource('rest/classifications/', {},\n                {\n                    'classify': { method: 'POST', url:'rest/classifications/classify'}\n                }\n            );\n        })\n        .factory('ClassificationGroupService', /* @ngInject */ function($resource) {\n            return $resource('rest/classifications/groups/:id', {id: '@id'},\n                {\n                    'get': {method: 'GET'},\n                    'update': {method: 'PUT'},\n                    'query': {method: 'GET', isArray: true},\n                    'delete': {method: 'DELETE'},\n                }\n            );\n        })\n        .factory('ClassificationRuleService', /* @ngInject */ function($resource) {\n            return $resource('rest/classifications/:id', {id: '@id'},\n                {\n                    'get': {method: 'GET'},\n                    'save': {method: 'POST'},\n                    'update': {method: 'PUT'},\n                    'query': {method: 'GET', isArray: true},\n                    'delete': {method: 'DELETE'}\n                }\n            );\n        })\n\n        .factory('ProtocolService', /* @ngInject */ function($resource) {\n            return $resource('rest/classifications/protocols');\n        })\n        .controller('ClassificationController', ['$scope', '$state', 'ClassificationService', 'ClassificationGroupService', 'ProtocolService', function($scope, $state, ClassificationService, ClassificationGroupService, ProtocolService) {\n            $scope.groups = [];\n            $scope.classificationRequest = {};\n            $scope.classificationResponse = undefined;\n            $scope.isClassificationCollapsed = true;\n            $scope.error = undefined;\n\n            $scope.classify = function (classificationRequest) {\n                ClassificationService.classify(classificationRequest, function (result) {\n                    $scope.classifyError = undefined;\n                    $scope.classificationResponse = result.classification === undefined ? 'No mapping found' : result.classification;\n                }, function (response) {\n                    $scope.classificationResponse = undefined;\n                    if (response.status === 400 && response.data && response.data.context && response.data.message) {\n                        $scope.classifyError = {};\n                        $scope.classifyError[response.data.context] = response.data.message;\n                    } else {\n                        $scope.classifyError['entity'] = 'Cannot perform the request.';\n                    }\n                });\n            };\n\n            $scope.refreshTabs = function(navigateToFirstGroup) {\n                return ClassificationGroupService.query({\n                    limit: 1000, // override default limit (we want to show as many groups as possible)\n                    orderBy: 'position',\n                }, function(response) {\n                    // Remove disabled groups\n                    $scope.groups = response.filter(function(group) {\n                        return group.enabled === true\n                    });\n                    // Sort by position (lowest first)\n                    $scope.groups = $scope.groups.sort(function(l, r) {\n                        return r.position - l.position;\n                    });\n                    $scope.groups = $scope.groups.reverse();\n\n                    // Select first group if available\n                    if (navigateToFirstGroup && $scope.groups.length !== 0) {\n                        $state.go('classifications.group', {id: $scope.groups[0].id});\n                    }\n                });\n            };\n\n            $scope.loadProtocols = function() {\n                ProtocolService.query(function(response, headers) {\n                    $scope.protocols = response;\n                });\n            };\n\n            $scope.fullyDefined = function() {\n                var fullyDefined = $scope.classificationRequest\n                    && $scope.classificationRequest.protocol\n                    && $scope.classificationRequest.dstPort && $scope.classificationRequest.dstAddress\n                    && $scope.classificationRequest.srcPort && $scope.classificationRequest.srcAddress\n                    && $scope.classificationRequest.exporterAddress;\n                return fullyDefined;\n            };\n\n            $scope.toggleClassificationMode = function() {\n                $scope.classificationMode = ($scope.classificationMode === 'simple' ? 'complex' : 'simple');\n            };\n\n            $scope.loadProtocols();\n            $scope.refreshTabs(true);\n\n        }])\n        .controller('ClassificationConfigController', ['$scope', '$rootScope', '$uibModal', '$location', '$log', 'ClassificationGroupService', function($scope, $rootScope, $uibModal, $location, $log, ClassificationGroupService) {\n            $scope.groups = [];\n            $scope.query = {\n                page: 1,\n                limit: 20,\n                totalItems: 0,\n            };\n            $scope.updateGroup = function(group) {\n                group.$update({}, function() {\n                    $scope.refreshTabs();\n                    $scope.refresh();\n                });\n            };\n            $scope.deleteGroup = function(group) {\n                group.$delete().then(function() {\n                    $scope.refreshTabs();\n                    $scope.refresh();\n                });\n            };\n            var openModal = function(group) {\n                return $uibModal.open({\n                    backdrop: false,\n                    controller: 'GroupModalController',\n                    templateUrl: newGroupModalTemplate,\n                    size: 'lg',\n                    resolve: {\n                        group: function() {\n                            return group;\n                        },\n                        groups: function () {\n                            return $scope.groups;\n                        },\n                        groupsTotalAmount: function () {\n                            return $scope.query.totalItems;\n                        }\n                    }\n                });\n            };\n            $scope.editGroup = function(group) {\n                var modalInstance = openModal(group);\n                modalInstance.closed.then(function () {\n                    $scope.refreshTabs();\n                    $scope.refresh();\n                }, function() {\n                    // modal was dismissed\n                    $scope.refresh();\n                });\n            };\n            $scope.addGroup = function(group) {\n                var modalInstance = openModal(group);\n                modalInstance.closed.then(function () {\n                    $scope.refreshTabs();\n                    $scope.refresh();\n                });\n            };\n            $scope.refresh = function() {\n                var parameters = $scope.query || {};\n                ClassificationGroupService.query({\n                    limit: 20,\n                    offset: (parameters.page -1) * parameters.limit || 0,\n                    orderBy: 'position',\n                    order: 'asc'\n                }, function(result, headers) {\n                    $scope.groups = result;\n                    var contentRange = elementList.parseContentRange(headers('Content-Range'));\n                    $scope.query.totalItems = contentRange.total;\n                });\n            };\n            // for drag and drop of groups (redefining position)\n            $scope.sortableGroups = {\n                start: function(e, ui) {\n                    // remember old index before moving\n                    angular.element(ui.item).data('oldIndex', ui.item.index());\n                },\n                stop: function(e, ui) {\n\n                    // Check Precondition:  item was actually moved\n                    var oldIndex =  angular.element(ui.item).data().oldIndex;\n                    var newIndex =  ui.item.index();\n                    if(oldIndex !== newIndex) {\n                        // Calculate and set new position (index + offset)\n                        var parameters = $scope.query || {};\n                        var offset = (parameters.page - 1) * parameters.limit || 0;\n                        var group = $scope.groups[newIndex];\n                        var position;\n                        if (newIndex - 1 < 0) {\n                            // we are already at the beginning of the visible paged list\n                            position = offset;\n                        } else {\n                            var previousGroup = $scope.groups[newIndex - 1];\n                            position = (newIndex > oldIndex) ? previousGroup.position : previousGroup.position + 1;\n                        }\n                        group.position = position;\n\n                        // Update backend\n                        var refreshCallback = function () {\n                            $scope.refreshTabs();\n                            $scope.refresh();\n                        };\n                        var errorCallback = function(response) {\n                            handleErrorResponse(response, $scope);\n                        };\n\n                        ClassificationGroupService.update(group, refreshCallback, errorCallback);\n                    }\n                },\n                items: \"tr:not(.unsortable)\"\n            };\n            $scope.refresh();\n        }])\n        .controller('ClassificationGroupController', ['$scope', '$stateParams', '$uibModal', '$log', '$http', '$window','ClassificationRuleService', 'ClassificationGroupService', function($scope, $stateParams, $uibModal, $log, $http, $window,ClassificationRuleService, ClassificationGroupService) {\n            // Defaults\n            $scope.rules = [];\n            $scope.query = {\n                page: 1,\n                limit: 20,\n                totalItems: 0,\n                orderBy: 'position',\n                order: 'asc',\n                groups: [$stateParams.id],\n                search: undefined\n            };\n\n            $scope.splitRule = (entry) => {\n                return entry ? entry.replaceAll(',', '\\n') : entry;\n            };\n\n            $scope.findGroup = function(groupId) {\n                return ClassificationGroupService.get({id: groupId}, function(response) {\n                    $scope.group = response;\n                    $scope.refresh();\n                });\n            };\n\n            $scope.showExportRulesDialog = function() {\n                var modalInstance = $uibModal.open({\n                    backdrop: false,\n                    controller: 'ClassificationExportController',\n                    templateUrl: exportModalTemplate,\n                    resolve: {\n                        group: function () {\n                            return $scope.group;\n                        }\n                    }\n                });\n                modalInstance.result.then(function () {\n                    $scope.refreshTabs();\n                    $scope.refresh();\n                });\n            };\n\n            $scope.refresh = function() {\n                var parameters = $scope.query || {};\n                var editPositionOfRuleEnabled = !($scope.group.readOnly) && ($scope.query.orderBy === 'position' && $scope.query.order === 'asc');\n                var sortable =  angular.element( '.ui-sortable' );\n                if(editPositionOfRuleEnabled === true) {\n                    sortable.sortable('enable');\n                } else {\n                    sortable.sortable('disable');\n                }\n                return ClassificationRuleService.query( {\n                    limit: parameters.limit || 20,\n                    offset: (parameters.page -1) * parameters.limit || 0,\n                    orderBy: parameters.orderBy,\n                    order: parameters.order,\n                    groupFilter: parameters.groups || [],\n                    query: parameters.search\n                }, function (result, headers) {\n                    $scope.rules = result;\n                    var contentRange = elementList.parseContentRange(headers('Content-Range'));\n                    $scope.query.totalItems = contentRange.total;\n                });\n            };\n\n            // In some cases the currently selected group needs to be refreshed, this method finds the group from\n            // $scope.groups and updates $scope.group accordingly, in order to reflect updates in $scope.groups\n            $scope.refreshGroup = function() {\n                for (var i = 0; i<$scope.groups.length; i++) {\n                    var group = $scope.groups[i];\n                    if (group.id === $scope.group.id) {\n                        $scope.group = group;\n                        return;\n                    }\n                }\n            };\n\n            $scope.refreshAll = function() {\n                var result = $scope.refreshTabs();\n                result.$promise.then(function() {\n                    $scope.refreshGroup()\n                    $scope.refresh();\n                });\n            };\n\n            $scope.changeOrderBy = function(column) {\n                if ($scope.query.orderBy === column) {\n                    $scope.query.order = $scope.query.order === 'asc' ? 'desc' : 'asc';\n                } else {\n                    $scope.query.orderBy = column;\n                    $scope.query.order = 'asc';\n                }\n                $scope.refresh();\n            };\n\n            $scope.deleteRule = function(rule) {\n                rule.$delete().then(function() {\n                    $scope.refreshAll();\n                });\n            };\n\n            $scope.deleteAllRules = function() {\n                ClassificationRuleService.delete({groupId: $scope.group.id}, function() {\n                    $scope.refreshAll();\n                });\n            };\n\n            var openModal = function(classification, group) {\n                return $uibModal.open({\n                    backdrop: false,\n                    controller: 'ClassificationModalController',\n                    templateUrl: newRuleModalTemplate,\n                    size: 'lg',\n                    resolve: {\n                        classification: function() {\n                            return classification;\n                        },\n                        group: function() {\n                            return group;\n                        },\n                        groups: function () {\n                            return $scope.groups;\n                        }\n                    }\n                });\n            };\n\n            $scope.editRule = function(rule) {\n                var modalInstance = openModal(rule, rule.group);\n                modalInstance.closed.then(function () {\n                    $scope.refreshAll();\n                }, function() {\n                    // modal was dismissed\n                    $scope.refresh();\n                });\n            };\n\n            $scope.addRule = function(group) {\n                var modalInstance = openModal(null, group);\n                modalInstance.closed.then(function () {\n                    $scope.refreshAll();\n                });\n            };\n\n            // for drag and drop of rules (redefining position)\n            $scope.sortableRules = {\n                start: function(e, ui) {\n                    // remember old index before moving\n                    angular.element(ui.item).data('oldIndex', ui.item.index());\n                },\n                stop: function(e, ui) {\n                    // Check Precondition: item was actually moved\n                    var oldIndex =  angular.element(ui.item).data().oldIndex;\n                    var newIndex =  ui.item.index();\n                    if(oldIndex !== newIndex) {\n                        // Calculate and set new position (index + offset)\n                        var parameters = $scope.query || {};\n                        var offset = (parameters.page - 1) * parameters.limit || 0;\n                        var rule = $scope.rules[newIndex];\n                        var position;\n                        if (newIndex - 1 < 0) {\n                            // we are already at the beginning of the visible paged list\n                            position = offset;\n                        } else {\n                            var previousRule = $scope.rules[newIndex - 1];\n                            position = (newIndex > oldIndex) ? previousRule.position : previousRule.position + 1;\n                        }\n                        rule.position = position;\n\n                        // Update backend\n                        var refreshCallback = function () {\n                            $scope.refreshAll();\n                        };\n                        var errorCallback = function(response) {\n                            handleErrorResponse(response, $scope);\n                        };\n\n                        ClassificationRuleService.update(rule, refreshCallback, errorCallback);\n                    }\n                }\n            };\n\n            $scope.importRules = function() {\n                var modalInstance = $uibModal.open({\n                    size: 'lg',\n                    backdrop: false,\n                    controller: 'ClassificationImportController',\n                    templateUrl: importModalTemplate,\n                    resolve: {\n                        group: function () {\n                            return $scope.group;\n                        }\n                    }\n                });\n                modalInstance.closed.then(function () {\n                    $scope.refreshAll();\n                });\n            };\n\n            $scope.clearSearch = function() {\n                $scope.query.search = undefined;\n                $scope.refresh();\n            };\n\n            $scope.findGroup($stateParams.id);\n        }])\n        .controller('ClassificationImportController', ['$scope', '$http', '$uibModalInstance', 'group', function($scope, $http, $uibModalInstance, group) {\n            $scope.group = group;\n            $scope.setFile = function(element) {\n                $scope.$apply(function(scope) {\n                    scope.fileToUpload = element.files[0];\n                });\n            };\n            $scope.openFileDialogue = function() {\n                setTimeout(function() {\n                    document.getElementById('fileToImport').click();\n                }, 0);\n            };\n            $scope.resetInput = function() {\n                $scope.fileToUpload = undefined;\n                $scope.error = undefined;\n                $scope.failedRows = [];\n                $scope.containsHeader = true;\n                $scope.deleteExistingRules = false;\n                $scope.pagination = {\n                    page: 1,\n                    totalItems: 0,\n                    limit: 5\n                };\n            };\n\n            $scope.navigateWithinErrors = function() {\n                var limit = $scope.pagination.limit;\n                var offset = ($scope.pagination.page - 1) * limit;\n                var endIndex = Math.min(offset + limit, $scope.errors.length);\n                $scope.failedRows = $scope.errors.slice(offset, endIndex);\n            };\n\n            $scope.uploadFile = function() {\n                var reader = new FileReader();\n                reader.onload = function(e) {\n                    $scope.error = undefined;\n                    $scope.errors = [];\n                    $scope.failedRows = [];\n                    $http({\n                        url: 'rest/classifications/groups/'+group.id,\n                        method: 'POST',\n                        data: reader.result,\n                        params: {'hasHeader': $scope.containsHeader, 'deleteExistingRules' : $scope.deleteExistingRules},\n                        headers: {'Content-Type': 'text/comma-separated-values'}\n                    }).then(function () {\n                        $uibModalInstance.close();\n                    }, function (r) {\n                        const response = r.data;\n                        const status = r.status;\n                        if (status === 500) {\n                            $scope.error = 'An unexpected error occurred.';\n                        }\n                        if (status === 400) {\n                            // General error\n                            if (response.error) {\n                                $scope.error = response.error.message;\n                                return;\n                            }\n                            // Report failed rows\n                            if (response.errors) {\n                                $scope.error = 'The rules could not be imported. Please fix the errors shown below and retry.';\n                                // Persist locally\n                                var errorKeys = Object.getOwnPropertyNames(response.errors);\n                                for (var i = 0; i<errorKeys.length; i++) {\n                                    var index = errorKeys[i];\n                                    var rowIndex = $scope.containsHeader ? parseInt(index, 10) + 1 : index; // increase row index if csv contains header\n                                    $scope.errors.push({index: rowIndex, message: response.errors[index].message});\n                                }\n                                // Update pagination settings\n                                $scope.pagination.totalItems = $scope.errors.length;\n                                $scope.navigateWithinErrors();\n                            }\n                        }\n                    });\n                };\n                reader.readAsText($scope.fileToUpload);\n            };\n            $scope.resetInput();\n        }])\n        .controller('ClassificationExportController', ['$scope', '$http', '$uibModalInstance', 'group', '$window',\n            function($scope, $http, $uibModalInstance, group, $window) {\n                $scope.group = group;\n                $scope.export = {};\n                $scope.export.requestedFileName = group.name + '_rules.csv';\n                $scope.exportGroup = function() {\n                    var requestedFileName = $scope.export.requestedFileName.trim();\n                    $window.location = 'rest/classifications/groups/' + $scope.group.id +'?filename='\n                        +requestedFileName+'&format=csv';\n                    $uibModalInstance.close();\n            };\n\n        }])\n        .controller('ClassificationModalController', ['$scope', '$uibModalInstance', 'ProtocolService', 'ClassificationRuleService', 'classification', 'group', 'groups', function($scope, $uibModalInstance, ProtocolService, ClassificationRuleService, classification, group, groups) {\n            $scope.classification = classification || {group:group};\n            $scope.protocols = [];\n            $scope.currentSelection = undefined;\n            $scope.selectedProtocols = [];\n            $scope.buttonName = $scope.classification.id ? 'Update' : 'Create';\n            $scope.group = group;\n            $scope.maxPosition = (classification === null) ? group.ruleCount : group.ruleCount-1;\n            $scope.selectableGroups = groups.filter((group) => group.readOnly === false);\n\n            var convertStringArrayToProtocolsArray = function(string) {\n                return string.map(function(protocol) {\n                    return {keyword: protocol};\n                })\n            };\n\n            var convertProtocolsArrayToStringArray = function(protocols) {\n                return protocols.map(function(protocol) {\n                    return protocol.keyword;\n                });\n            };\n\n            $scope.save = function() {\n                // Close modal afterwards\n                var closeCallback = function() {\n                    $uibModalInstance.close();\n                };\n                var errorCallback = function(response) {\n                    handleErrorResponse(response, $scope);\n                };\n                $scope.classification.protocols = convertProtocolsArrayToStringArray($scope.selectedProtocols);\n                if ($scope.classification.id) {\n                    ClassificationRuleService.update($scope.classification, closeCallback, errorCallback);\n                } else {\n                    ClassificationRuleService.save($scope.classification, closeCallback, errorCallback);\n                }\n            };\n\n            $scope.cancel = function() {\n                $uibModalInstance.dismiss('Cancelled by User');\n            };\n\n            $scope.insertProtocol = function(item) {\n                if (item && $scope.selectedProtocols.indexOf(item) === -1) {\n                    $scope.currentSelection = '';\n                    $scope.selectedProtocols.push(item);\n                }\n            };\n\n            $scope.removeProtocol = function(protocol) {\n                var index = $scope.selectedProtocols.indexOf(protocol);\n                if (index !== -1) {\n                    $scope.selectedProtocols.splice(index, 1);\n                }\n            };\n\n            $scope.loadProtocols = function() {\n                ProtocolService.query(function(response, headers) {\n                    $scope.protocols = response;\n                });\n            };\n\n            if ($scope.classification.id) {\n                $scope.selectedProtocols = convertStringArrayToProtocolsArray($scope.classification.protocols);\n            }\n\n            $scope.loadProtocols();\n\n        }])\n        .controller('GroupModalController', ['$scope', '$uibModalInstance', 'ClassificationGroupService', 'group', 'groups', 'groupsTotalAmount', function($scope, $uibModalInstance, ClassificationGroupService, group, groups, groupsTotalAmount) {\n            $scope.group = group || {enabled:true};\n            $scope.currentSelection = undefined;\n            $scope.buttonName = $scope.group.id ? 'Update' : 'Create';\n            $scope.groups = groups;\n            $scope.groupsTotalAmount = groupsTotalAmount;\n            $scope.maxPosition = (group === undefined) ? groupsTotalAmount-1 : groupsTotalAmount-2; // pre-defined group has always the last position\n\n            $scope.save = function() {\n                // Close modal afterwards\n                var closeCallback = function() {\n                    $uibModalInstance.close();\n                };\n                var errorCallback = function(response) {\n                    handleErrorResponse(response, $scope);\n                };\n                if ($scope.group.id) {\n                    ClassificationGroupService.update($scope.group, closeCallback, errorCallback);\n                } else {\n                    ClassificationGroupService.save($scope.group, closeCallback, errorCallback);\n                }\n            };\n\n            $scope.cancel = function() {\n                $uibModalInstance.dismiss('Cancelled by User');\n            };\n        }])\n    ;\n}());\n","// Module\nvar code = \"<div class=\\\"card-body\\\">\\n    <div class=\\\"btn-toolbar pull-right mb-2\\\">\\n        <div class=\\\"btn-group ml-2\\\" role=\\\"group\\\">\\n            <button id=\\\"action.refresh\\\" class=\\\"btn btn-secondary\\\" ng-click=\\\"refresh()\\\" title=\\\"Refresh list\\\"><i class=\\\"fa fa-refresh\\\"></i></button>\\n        </div>\\n        <div class=\\\"btn-group ml-2\\\" role=\\\"group\\\">\\n            <button id=\\\"action.addGroup\\\" class=\\\"btn btn-secondary\\\" ng-click=\\\"addGroup()\\\" title=\\\"Add new classification group\\\"><i class=\\\"fa fa-plus\\\"></i></button>\\n        </div>\\n    </div>\\n    <div ng-show=\\\"groups.length == 0\\\">No groups defined.</div>\\n    <pagination model=\\\"query\\\" ng-show=\\\"groups.length > 0\\\" position=\\\"bottom\\\" on-change=\\\"refresh\\\">\\n        <table class=\\\"table table-striped\\\">\\n            <thead>\\n            <tr class=\\\"d-flex\\\">\\n                <th class=\\\"col-md-1 text-nowrap\\\">Position</th>\\n                <th class=\\\"col-md-3 text-nowrap\\\">Name</th>\\n                <th class=\\\"col-md-5 text-nowrap\\\">Description</th>\\n                <th class=\\\"col-md-1 text-nowrap\\\">Editable</th>\\n                <th class=\\\"col-md-1 text-nowrap\\\">Enabled</th>\\n                <th class=\\\"col-md-1 text-nowrap\\\">Actions</th>\\n            </tr>\\n            </thead>\\n            <tbody ng-model=\\\"groups\\\" ui-sortable=\\\"sortableGroups\\\">\\n            <tr class=\\\"d-flex\\\" ng-repeat=\\\"group in groups\\\" data-row=\\\"{{group.name}}\\\" ng-class=\\\"{'unsortable': group['readOnly']}\\\">\\n                <td class=\\\"col-md-1 text-nowrap\\\">\\n                    <i class=\\\"fa fa-bars text-muted\\\" style=\\\"padding-right:1em\\\"\\n                        ng-style=\\\"{'visibility': !group['readOnly'] ? 'visible' : 'hidden'}\\\"></i>\\n                    {{group['position']}}</td>\\n                <td class=\\\"col-md-3 text-nowrap\\\">{{group['name']}}</td>\\n                <td class=\\\"col-md-5 text-nowrap\\\">{{group['description']}}</td>\\n                <td class=\\\"col-md-1 text-nowrap\\\">{{!group['readOnly']}}</td>\\n                <td class=\\\"col-md-1 text-nowrap\\\">\\n                    <toggle id=\\\"action.{{group.name}}.toggle\\\" size=\\\"btn-sm\\\" ng-model=\\\"group['enabled']\\\" ng-change=\\\"updateGroup(group)\\\"></toggle>\\n                </td>\\n                <td class=\\\"col-md-1 text-nowrap\\\">\\n                    <div class=\\\"pull-right\\\">\\n                        <button id=\\\"action.{{group.position}}.edit\\\" class=\\\"btn btn-sm btn-secondary\\\" ng-click=\\\"editGroup(group)\\\" title=\\\"edit group\\\" ng-show=\\\"!group.readOnly\\\"><i class=\\\"fa fa-edit\\\"></i></button>\\n\\n                        <button\\n                                id=\\\"action.{{group.position}}.delete\\\"\\n                                class=\\\"btn btn-sm btn-secondary\\\"\\n                                mwl-confirm\\n                                title=\\\"delete group\\\"\\n                                message=\\\"Do you want to delete group '{{group.name}}' with {{group.ruleCount}} rule(s)?\\\"\\n                                on-confirm=\\\"deleteGroup(group)\\\"\\n                                placement=\\\"left\\\"\\n                                confirm-button-type=\\\"danger\\\"\\n                                cancel-button-type=\\\"secondary\\\"\\n                                confirm-text=\\\"Yes\\\"\\n                                cancel-text=\\\"No\\\"\\n                                ng-show=\\\"!group.readOnly\\\"><i class=\\\"fa fa-trash-o\\\"></i></button>\\n                    </div>\\n                </td>\\n            </tr>\\n            </tbody>\\n        </table>\\n    </pagination>\\n</div>\\n\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-classifications/views/config.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<div>\\n<style type=\\\"text/css\\\">\\n    .wrapped {\\n        white-space: pre;\\n    }\\n    .text-ellipsis {\\n        overflow: hidden;\\n        text-overflow: ellipsis;\\n        white-space: nowrap !important;\\n    }\\n</style>\\n<div class=\\\"card-body\\\">\\n    <div class=\\\"btn-toolbar pull-right mb-2\\\" role=\\\"toolbar\\\">\\n        <div class=\\\"input-group\\\" role=\\\"group\\\" ng-show=\\\"group.ruleCount > 0\\\">\\n            <div class=\\\"input-group-prepend\\\">\\n                <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-search\\\"></i></span>\\n            </div>\\n            <input type=\\\"text\\\"\\n                   id=\\\"action.search\\\"\\n                   ng-model=\\\"query.search\\\"\\n                   ng-change=\\\"refresh()\\\"\\n                   placeholder=\\\"search...\\\"\\n                   class=\\\"form-control\\\">\\n            <div class=\\\"input-group-append\\\">\\n                <button class=\\\"btn btn-secondary\\\" title=\\\"Clear search\\\" ng-click=\\\"clearSearch()\\\" ng-show=\\\"query.search\\\"><i class=\\\"fa fa-close\\\"></i></button>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"btn-group ml-4\\\" role=\\\"group\\\">\\n            <button id=\\\"action.refresh\\\" class=\\\"btn btn-secondary\\\" ng-click=\\\"refreshAll()\\\" title=\\\"Refresh list\\\"><i class=\\\"fa fa-refresh\\\"></i></button>\\n        </div>\\n        <div class=\\\"btn-group ml-2\\\" role=\\\"group\\\" ng-show=\\\"!group.readOnly\\\">\\n            <button id=\\\"action.addRule\\\" class=\\\"btn btn-secondary\\\" ng-click=\\\"addRule(group)\\\" title=\\\"Add new classification rule\\\"><i class=\\\"fa fa-plus\\\"></i></button>\\n            <button ng-if=\\\"rules.length > 0\\\"\\n                    id=\\\"action.deleteAll\\\"\\n                    class=\\\"btn btn-secondary\\\"\\n                    mwl-confirm\\n                    title=\\\"Delete rules\\\"\\n                    message=\\\"Do you want to delete all {{group.name}} rules?\\\"\\n                    on-confirm=\\\"deleteAllRules()\\\"\\n                    placement=\\\"left\\\"\\n                    confirm-button-type=\\\"danger\\\"\\n                    cancel-button-type=\\\"secondary\\\"\\n                    confirm-text=\\\"Yes\\\"\\n                    cancel-text=\\\"No\\\"><i class=\\\"fa fa-trash-o\\\"></i></button>\\n        </div>\\n        <div class=\\\"btn-group ml-2\\\" role=\\\"group\\\" ng-show=\\\"!group.readOnly\\\">\\n            <button id=\\\"action.importCSV\\\" class=\\\"btn btn-secondary\\\" ng-click=\\\"importRules()\\\" title=\\\"Import classification rules from CSV\\\"><i class=\\\"fa fa-upload\\\"></i></button>\\n            <button id=\\\"action.exportCSV\\\" class=\\\"btn btn-secondary\\\" ng-click=\\\"showExportRulesDialog()\\\" title=\\\"Export classification rules as CSV\\\" >\\n                <i class=\\\"fa fa-download\\\"></i>\\n            </button>\\n        </div>\\n    </div>\\n    <h5 class=\\\"pt-2\\\">{{group.description}} <span class=\\\"badge badge-secondary\\\" ng-if=\\\"group.readOnly\\\">read-only</span></h5>\\n    <div class=\\\"text-center mt-4\\\" ng-show=\\\"rules.length == 0\\\"><pre>No rules defined.</pre></div>\\n    <pagination model=\\\"query\\\" ng-show=\\\"rules.length > 0\\\" position=\\\"bottom\\\" on-change=\\\"refresh\\\">\\n        <table class=\\\"table table-striped\\\">\\n            <thead>\\n            <tr class=\\\"d-flex\\\">\\n                <th class=\\\"col-md-1 text-nowrap\\\">\\n                    <a ng-click=\\\"changeOrderBy('position')\\\">Position</a>\\n                    <i ng-show=\\\"query.orderBy === 'position' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n                    <i ng-show=\\\"query.orderBy === 'position' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n                </th>\\n                <th class=\\\"col-md-1 text-nowrap\\\">\\n                    <a ng-click=\\\"changeOrderBy('name')\\\">Application</a>\\n                    <i ng-show=\\\"query.orderBy === 'name' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n                    <i ng-show=\\\"query.orderBy === 'name' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n                </th>\\n                <th class=\\\"col-md-1 text-nowrap\\\">\\n                    <a ng-click=\\\"changeOrderBy('protocol')\\\">Protocol</a>\\n                    <i ng-show=\\\"query.orderBy === 'protocol' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n                    <i ng-show=\\\"query.orderBy === 'protocol' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n                </th>\\n                <th class=\\\"col-md-2 text-nowrap\\\">\\n                    <a ng-click=\\\"changeOrderBy('srcAddress')\\\">Src. Address</a>\\n                    <i ng-show=\\\"query.orderBy === 'srcAddress' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n                    <i ng-show=\\\"query.orderBy === 'srcAddress' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n                </th>\\n                <th class=\\\"col-md-1 text-nowrap\\\">\\n                    <a ng-click=\\\"changeOrderBy('srcPort')\\\">Src. Port</a>\\n                    <i ng-show=\\\"query.orderBy === 'srcPort' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n                    <i ng-show=\\\"query.orderBy === 'srcPort' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n                </th>\\n                <th class=\\\"col-md-2 text-nowrap\\\">\\n                    <a ng-click=\\\"changeOrderBy('dstAddress')\\\">Dst. Address</a>\\n                    <i ng-show=\\\"query.orderBy === 'dstAddress' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n                    <i ng-show=\\\"query.orderBy === 'dstAddress' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n                </th>\\n                <th class=\\\"col-md-1 text-nowrap\\\">\\n                    <a ng-click=\\\"changeOrderBy('dstPort')\\\">Dst. Port</a>\\n                    <i ng-show=\\\"query.orderBy === 'dstPort' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n                    <i ng-show=\\\"query.orderBy === 'dstPort' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n                </th>\\n                <th ng-class=\\\"{'col-md-1': group.readOnly === false, 'col-md-2': group.readOnly === true}\\\" class=\\\"text-nowrap\\\">\\n                    <a ng-click=\\\"changeOrderBy('exporterFilter')\\\">Exporter Filter</a>\\n                    <i ng-show=\\\"query.orderBy === 'exporterFilter' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n                    <i ng-show=\\\"query.orderBy === 'exporterFilter' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n                </th>\\n                <th class=\\\"col-md-1 text-nowrap\\\">\\n                    <a ng-click=\\\"changeOrderBy('omnidirectional')\\\">Omnidirectional</a>\\n                    <i ng-show=\\\"query.orderBy === 'omnidirectional' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n                    <i ng-show=\\\"query.orderBy === 'omnidirectional' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n                </th>\\n                <th class=\\\"col-md-1\\\" ng-if=\\\"group.readOnly === false\\\">\\n                    Actions\\n                </th>\\n            </tr>\\n            </thead>\\n\\n            <tbody ng-model=\\\"rules\\\" ui-sortable=\\\"sortableRules\\\">\\n            <tr ng-repeat=\\\"rule in rules\\\" class=\\\"d-flex\\\">\\n                <td class=\\\"col-md-1 text-nowrap\\\">\\n                    <i class=\\\"fa fa-bars text-muted\\\"\\n                       ng-show=\\\"!group.readOnly && query.orderBy === 'position' && query.order === 'asc'\\\"\\n                       style=\\\"padding-right:1em\\\"></i>{{rule['position']}}\\n                </td>\\n                <td class=\\\"col-md-1 text-nowrap\\\">{{rule['name']}}</td>\\n                <td class=\\\"col-md-1 text-nowrap\\\">\\n                    <span ng-repeat=\\\"protocol in rule.protocols\\\" class=\\\"badge badge-secondary mr-2\\\">{{protocol}}</span>\\n                </td>\\n                <td class=\\\"col-md-2 wrapped\\\">{{splitRule(rule['srcAddress'])}}</td>\\n                <td class=\\\"col-md-1 wrapped\\\">{{splitRule(rule['srcPort'])}}</td>\\n                <td class=\\\"col-md-2 wrapped\\\">{{splitRule(rule['dstAddress'])}}</td>\\n                <td class=\\\"col-md-1 wrapped\\\">{{splitRule(rule['dstPort'])}}</td>\\n                <td ng-class=\\\"{'col-md-1': group.readOnly === false, 'col-md-2': group.readOnly === true}\\\" class=\\\"text-ellipsis\\\">\\n                    <span title=\\\"{{rule['exporterFilter']}}\\\">{{rule['exporterFilter']}}</span>\\n                </td>\\n                <td class=\\\"col-md-1 text-nowrap\\\"><span class=\\\"fa fa-exchange\\\" ng-if=\\\"rule['omnidirectional'] === true\\\" aria-hidden=\\\"true\\\"></span></td>\\n                <td class=\\\"col-md-1\\\" ng-if=\\\"group.readOnly === false\\\">\\n                    <div class=\\\"pull-right\\\">\\n                        <button id=\\\"action.{{rule.position}}.edit\\\" class=\\\"btn btn-sm btn-secondary\\\" ng-click=\\\"editRule(rule, group)\\\" title=\\\"edit rule\\\"><i class=\\\"fa fa-edit\\\"></i></button>\\n                        <button id=\\\"action.{{rule.position}}.delete\\\" class=\\\"btn btn-sm btn-secondary\\\" ng-click=\\\"deleteRule(rule)\\\" title=\\\"delete rule\\\"><i class=\\\"fa fa-trash-o\\\"></i></button>\\n                    </div>\\n                </td>\\n            </tr>\\n            </tbody>\\n        </table>\\n    </pagination>\\n</div>\\n</div>\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-classifications/views/group.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<div class=\\\"row\\\">\\n    <div class=\\\"\\\" ng-class=\\\"{'col-md-12': isClassificationCollapsed, 'col-md-9': !isClassificationCollapsed}\\\">\\n        <ul id=\\\"tabs\\\" class=\\\"nav nav-tabs\\\">\\n            <li role=\\\"presentation\\\" class=\\\"nav-item\\\">\\n                <a ui-sref-active=\\\"active\\\" ui-sref=\\\"classifications.config\\\" data-name=\\\"settings\\\" class=\\\"nav-link\\\">Settings</a>\\n            </li>\\n\\n            <li role=\\\"presentation\\\" ng-repeat=\\\"group in groups\\\" class=\\\"nav-item\\\">\\n                <a ui-sref-active=\\\"active\\\" ui-sref=\\\"classifications.group({'id': group.id, 'group': group})\\\" title=\\\"{{group.description}}\\\" data-name=\\\"{{group.name}}\\\" class=\\\"nav-link\\\">\\n                    {{group.name | capitalize}} Rules <span class=\\\"badge badge-primary\\\" title=\\\"{{group.ruleCount}} defined rules\\\">{{group.ruleCount}}</span>\\n                </a>\\n            </li>\\n            <button id=\\\"action.classification.toggle\\\" class=\\\"btn btn-secondary mr-3\\\"\\n                    style=\\\"position: absolute; right: 0px; z-index: 900\\\"\\n                    ng-click=\\\"isClassificationCollapsed = !isClassificationCollapsed\\\"\\n                    title=\\\"{{isClassificationCollapsed ? 'Test classification' : 'Collapse classification panel'}}\\\">\\n                <i class=\\\"fa\\\" ng-class=\\\"{'fa-magic': isClassificationCollapsed, 'fa-caret-right': !isClassificationCollapsed}\\\"></i>\\n            </button>\\n        </ul>\\n        <div class=\\\"card border-top-0\\\" ui-view>\\n        </div>\\n    </div>\\n\\n    <div id=\\\"classification-tab\\\" class=\\\"col-md-3 collapse\\\" uib-collapse=\\\"isClassificationCollapsed\\\">\\n        <div>\\n            <ul class=\\\"nav nav-tabs\\\">\\n                <li role=\\\"presentation\\\" class=\\\"nav-item\\\">\\n                    <a class=\\\"nav-link active\\\">Test Classification</a>\\n                </li>\\n            </ul>\\n        </div>\\n        <div class=\\\"card border-top-0\\\">\\n            <div class=\\\"card-default card-body\\\">\\n                    <form name=\\\"classifyForm\\\">\\n                        <div class=\\\"form-group\\\">\\n                            <label class=\\\"col-form-label\\\" for=\\\"classify-protocol\\\">Protocol</label>\\n                            <input class=\\\"form-control\\\"\\n                                   type=\\\"text\\\"\\n                                   autocomplete=\\\"off\\\"\\n                                   id=\\\"classify-protocol\\\"\\n                                   name=\\\"classify-protocol\\\"\\n                                   ng-model=\\\"classificationRequest.protocol\\\"\\n                                   placeholder=\\\"A valid RFC specified IP protocol, e.g. TCP, UDP\\\"\\n                                   typeahead-min-length=\\\"0\\\"\\n                                   uib-typeahead=\\\"protocol.keyword for protocol in protocols | filter:$viewValue\\\"\\n                                   typeahead-editable=\\\"false\\\"\\n                                   ng-class=\\\"{ 'is-invalid' : ruleForm['classify-protocol'].$invalid || classifyError.protocol }\\\">\\n                            <p id=\\\"classifyError.protocol\\\" ng-show=\\\"classifyError.protocol\\\" class=\\\"form-text text-muted\\\">{{classifyError.protocol}}</p>\\n                        </div>\\n                        <div class=\\\"form-group\\\">\\n                            <label class=\\\"col-form-label\\\" for=\\\"classify-exporterAddress\\\">Exporter Address</label>\\n                            <input class=\\\"form-control\\\" type=\\\"text\\\" id=\\\"classify-exporterAddress\\\" name=\\\"classify-exporterAddress\\\" placeholder=\\\"e.g. 10.0.0.1\\\"\\n                                   ng-model=\\\"classificationRequest.exporterAddress\\\"\\n                                   ng-class=\\\"{ 'is-invalid' : ruleForm['classify-exporterAddress'].$invalid || classifyError.exporterAddress }\\\">\\n                            <p id=\\\"classifyError.exporterAddress\\\" ng-show=\\\"classifyError.exporterAddress\\\" class=\\\"invalid-feedback\\\">{{classifyError.exporterAddress}}</p>\\n                        </div>\\n                        <div class=\\\"form-row\\\">\\n                            <div class=\\\"form-group col-md-8 col-sm-8 col-xs-8\\\">\\n                                <label class=\\\"col-form-label\\\" for=\\\"classify-srcAddress\\\" >Source Address</label>\\n                                <input class=\\\"form-control\\\" type=\\\"text\\\" id=\\\"classify-srcAddress\\\" name=\\\"classify-srcAddress\\\" placeholder=\\\"e.g. 127.0.0.1\\\"\\n                                       ng-model=\\\"classificationRequest.srcAddress\\\"\\n                                       ng-class=\\\"{ 'is-invalid' : ruleForm['classify-srcAddress'].$invalid || classifyError.srcAddress }\\\">\\n                                <p id=\\\"classifyError.srcAddress\\\" ng-show=\\\"classifyError.srcAddress\\\" class=\\\"invalid-feedback\\\">{{classifyError.srcAddress}}</p>\\n                            </div>\\n                            <div class=\\\"form-group col-md-4 col-sm-4 col-xs-4\\\">\\n                                <label class=\\\"col-form-label\\\" for=\\\"classify-srcPort\\\" >Port</label>\\n                                <input class=\\\"form-control\\\" type=\\\"text\\\" id=\\\"classify-srcPort\\\" name=\\\"classify-srcPort\\\" placeholder=\\\"e.g. 55252\\\"\\n                                       ng-model=\\\"classificationRequest.srcPort\\\"\\n                                       ng-class=\\\"{ 'is-invalid' : ruleForm['classify-srcPort'].$invalid || classifyError.srcPort }\\\">\\n                                <p id=\\\"classifyError.srcPort\\\" ng-show=\\\"classifyError.srcPort\\\" class=\\\"invalid-feedback\\\">{{classifyError.srcPort}}</p>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"form-row\\\">\\n                            <div class=\\\"form-group col-md-8 col-sm-8 col-xs-8\\\">\\n                                <label class=\\\"col-form-label\\\" for=\\\"classify-dstAddress\\\">Destination Address</label>\\n                                <input class=\\\"form-control\\\" type=\\\"text\\\" id=\\\"classify-dstAddress\\\" name=\\\"classify-dstAddress\\\" placeholder=\\\"e.g. 127.0.0.1\\\"\\n                                       ng-model=\\\"classificationRequest.dstAddress\\\"\\n                                       ng-class=\\\"{ 'is-invalid' : ruleForm['classify-dstAddress'].$invalid || classifyError.dstAddress }\\\">\\n                                <p id=\\\"classifyError.dstAddress\\\" ng-show=\\\"classifyError.dstAddress\\\" class=\\\"invalid-feedback\\\">{{classifyError.dstAddress}}</p>\\n                            </div>\\n                            <div class=\\\"form-group col-md-4 col-sm-4 col-xs-4\\\">\\n                                <label class=\\\"col-form-label\\\" for=\\\"classify-dstPort\\\">Port</label>\\n                                <input class=\\\"form-control\\\" type=\\\"text\\\" id=\\\"classify-dstPort\\\" name=\\\"classify-dstPort\\\" placeholder=\\\"e.g. 80\\\"\\n                                       ng-model=\\\"classificationRequest.dstPort\\\"\\n                                       ng-class=\\\"{ 'is-invalid' : ruleForm['classify-dstPort'].$invalid || classifyError.dstPort }\\\">\\n                                <p id=\\\"classifyError.dstPort\\\" ng-show=\\\"classifyError.dstPort\\\" class=\\\"invalid-feedback\\\">{{classifyError.dstPort}}</p>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"badge badge-secondary\\\" ng-show=\\\"classificationResponse\\\">\\n                            <span id=\\\"classification-response\\\" title=\\\"Based on the current set of rules, the given flow would be mapped to\\\">{{classificationResponse}}</span>\\n                        </div>\\n                        <div class=\\\"alert alert-danger\\\" ng-show=\\\"classifyError.entity\\\">\\n                            <span id=\\\"classification-error\\\">{{classifyError.entity}}</span>\\n                        </div>\\n                        <div class=\\\"form-group\\\">\\n                            <button type=\\\"submit\\\" class=\\\"btn btn-primary pull-right\\\" id=\\\"classification-submit\\\" ng-click=\\\"classify(classificationRequest)\\\" ng-disabled=\\\"classifyForm.$invalid || !fullyDefined()\\\">Classify</button>\\n                        </div>\\n                    </form>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-classifications/views/index.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<div id=\\\"exportModal\\\">\\n<div class=\\\"modal-header\\\">\\n    <h5 class=\\\"modal-title\\\">Export Classification Rules for Group: {{group.name}}</h5>\\n</div>\\n\\n<div class=\\\"modal-body\\\">\\n    <form name=\\\"exportGroupForm\\\">\\n        <div class=\\\"form-group\\\">\\n            <div class=\\\"form-group\\\">\\n                <label class=\\\"col-form-label\\\" for=\\\"export.requestedFileName\\\">File Name</label>\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" id=\\\"export.requestedFileName\\\" name=\\\"requestedFileName\\\"\\n                       value=\\\"{{group.id}}_rules.csv\\\" ng-model=\\\"export.requestedFileName\\\"\\n                       ng-pattern=\\\"/^[a-zA-Z1-9_ .-]{1,}$/\\\"\\n                       required\\n                       ng-class=\\\"{ 'is-invalid' : exportGroupForm.requestedFileName.$invalid }\\\">\\n                <p ng-show=\\\"exportGroupForm.requestedFileName.$invalid\\\" class=\\\"invalid-feedback\\\">\\n                    A valid file name is required, allowed characters: [a-zA-Z1-9_ .-]</p>\\n            </div>\\n        </div>\\n    </form>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"exportGroup()\\\" ng-disabled=\\\"exportGroupForm.$invalid\\\">Export</button>\\n    <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" ng-click=\\\"$dismiss('cancelled by user')\\\">Cancel</button>\\n</div>\\n</div>\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-classifications/views/modals/export-modal.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<div>\\n<div class=\\\"modal-header\\\">\\n  <h5 class=\\\"modal-title\\\">Import Classification Rules</h5>\\n</div>\\n<div class=\\\"modal-body\\\">\\n  <form class=\\\"form\\\">\\n    <div class=\\\"form-group form-row\\\">\\n      <label class=\\\"col-sm-3 col-form-label\\\">Group</label>\\n      <div class=\\\"col-sm-9\\\">\\n        <p class=\\\"form-control-plaintext\\\">{{group.name}}</p>\\n      </div>\\n    </div>\\n    <div class=\\\"form-group form-row\\\">\\n      <label class=\\\"col-sm-3 col-form-label\\\" for=\\\"importFile\\\">Select file to import</label>\\n      <div class=\\\"col-sm-9\\\">\\n        <div class=\\\"input-group\\\">\\n          <span class=\\\"input-group-prepend\\\">\\n              <button ng-click=\\\"openFileDialogue()\\\" class=\\\"btn btn-secondary\\\" type=\\\"button\\\">Choose</button>\\n          </span>\\n          <input ng-click=\\\"openFileDialogue()\\\" type=\\\"text\\\" id=\\\"importFile\\\" class=\\\"form-control\\\" placeholder=\\\"Choose a file...\\\" ng-model=\\\"fileToUpload.name\\\">\\n          <span class=\\\"input-group-append\\\">\\n             <button class=\\\"btn btn-secondary\\\" type=\\\"button\\\" ng-click=\\\"resetInput()\\\">Reset</button>\\n          </span>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"form-group form-row\\\">\\n      <div class=\\\"col-sm-offset-3 col-sm-9\\\">\\n        <div class=\\\"checkbox\\\">\\n          <label>\\n            <input type=\\\"checkbox\\\" ng-model=\\\"containsHeader\\\"> Contains header\\n          </label>\\n        </div>\\n        <div class=\\\"checkbox\\\">\\n          <label>\\n            <input type=\\\"checkbox\\\" ng-model=\\\"deleteExistingRules\\\"> Delete existing rules\\n          </label>\\n        </div>\\n      </div>\\n    </div>\\n    <input id=\\\"fileToImport\\\" type=\\\"file\\\" style=\\\"visibility:hidden; display:none\\\" onchange=\\\"angular.element(this).scope().setFile(this)\\\">\\n  </form>\\n  <div class=\\\"alert alert-danger\\\" ng-show=\\\"error\\\">\\n    {{error}}\\n  </div>\\n  <div ng-show=\\\"failedRows.length > 0\\\">\\n    <pagination model=\\\"pagination\\\" position=\\\"bottom\\\" on-change=\\\"navigateWithinErrors\\\">\\n      <table class=\\\"table table-bordered table-striped\\\">\\n        <tbody>\\n        <tr class=\\\"d-flex\\\">\\n          <th class=\\\"col-md-1\\\">Row Index</th>\\n          <th class=\\\"col-md-11\\\">Error Message</th>\\n        </tr>\\n\\n        <tr class=\\\"d-flex\\\" ng-repeat=\\\"failedRow in failedRows\\\">\\n          <td class=\\\"col-md-1\\\">{{failedRow['index']}}</td>\\n          <td class=\\\"col-md-11\\\">{{failedRow['message']}}</td>\\n        </tr>\\n        </tbody>\\n      </table>\\n    </pagination>\\n  </div>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n  <div style=\\\"display: inline\\\" title=\\\"Please confirm deletion\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"uploadFile()\\\" ng-show=\\\"fileToUpload\\\" title=\\\"Upload Rule\\\">Upload</button>\\n  </div>\\n  <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" ng-click=\\\"$dismiss('cancelled by user')\\\" >Cancel</button>\\n</div>\\n</div>\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-classifications/views/modals/import-modal.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<div id=\\\"groupModal\\\">\\n  <div class=\\\"modal-header\\\">\\n    <h5 class=\\\"modal-title\\\" ng-show=\\\"group.id === undefined\\\">Create Classification Group</h5>\\n    <h5 class=\\\"modal-title\\\" ng-show=\\\"group.id !== undefined\\\">Edit Classification Group</h5>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <form name=\\\"groupForm\\\" novalidate>\\n      <div class=\\\"form-group\\\">\\n        <div ng-show=\\\"error.entity\\\" class=\\\"form-text text-danger\\\">{{error.entity}}</div>\\n      </div>\\n      <div class=\\\"form-group form-row\\\">\\n        <label class=\\\"col-form-label\\\" for=\\\"group.position\\\">Position</label>\\n        <button class=\\\"btn btn-link\\\"\\n                uib-popover-html=\\\"'<div>Groups on low positions will be evaluated first:<br>position 0 -&gt; position 1 -&gt; position 2 -&gt; ...</div>'\\\"\\n                popover-trigger=\\\"'outsideClick'\\\"><i class=\\\"fa fa-question-circle\\\"></i></button>\\n        <input class=\\\"form-control\\\" id=\\\"group.position\\\" name=\\\"position\\\" placeholder=\\\"{{maxPosition}}\\\" type=\\\"number\\\" min=\\\"0\\\" max=\\\"{{maxPosition}}\\\" step=\\\"1\\\" pattern=\\\"[0-9]*\\\" ng-model=\\\"group.position\\\"\\n               ng-class=\\\"{ 'is-invalid' : groupForm.position.$invalid || error.position }\\\">\\n        <div ng-show=\\\"groupForm.position.$invalid\\\" class=\\\"invalid-feedback\\\">Position must be between 0 and {{maxPosition}}.</div>\\n      </div>\\n      <div class=\\\"form-group form-row\\\">\\n        <label class=\\\"col-form-label\\\" for=\\\"group.name\\\">Group Name</label>\\n        <input class=\\\"form-control\\\" type=\\\"text\\\" id=\\\"group.name\\\" name=\\\"name\\\" placeholder=\\\"my classification group\\\" ng-model=\\\"group.name\\\"\\n               ng-class=\\\"{ 'is-invalid' : groupForm.name.$invalid || error.name }\\\" required>\\n        <div ng-show=\\\"groupForm.name.$invalid\\\" class=\\\"invalid-feedback\\\">The name is required.</div>\\n        <div ng-show=\\\"error.name\\\" class=\\\"invalid-feedback\\\">{{error.name}}</div>\\n      </div>\\n      <div class=\\\"form-group form-row\\\">\\n        <label class=\\\"col-form-label\\\" for=\\\"group.description\\\">Group Description</label>\\n        <input class=\\\"form-control\\\" type=\\\"text\\\" id=\\\"group.description\\\" name=\\\"description\\\" placeholder=\\\"my description\\\" ng-model=\\\"group.description\\\"\\n               ng-class=\\\"{ 'is-invalid' : groupForm.description.$invalid || error.description }\\\" required>\\n        <div ng-show=\\\"error.description\\\" class=\\\"invalid-feedback\\\">{{error.description}}</div>\\n      </div>\\n    </form>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" id=\\\"save-group\\\" ng-click=\\\"save()\\\" ng-disabled=\\\"groupForm.$invalid\\\">{{buttonName}}</button>\\n    <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" id=\\\"cancel-group\\\" ng-click=\\\"cancel()\\\" >Cancel</button>\\n  </div>\\n</div>\\n\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-classifications/views/modals/new-group-modal.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<div id=\\\"ruleModal\\\">\\n  <div class=\\\"modal-header\\\">\\n    <h5 class=\\\"modal-title\\\" ng-show=\\\"classification.id === undefined\\\">Create Classification Rule</h5>\\n    <h5 class=\\\"modal-title\\\" ng-show=\\\"classification.id !== undefined\\\">Edit Classification Rule</h5>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <form name=\\\"ruleForm\\\" novalidate>\\n      <div class=\\\"form-group\\\">\\n        <div ng-show=\\\"error.entity\\\" class=\\\"form-text text-danger\\\">{{error.entity}}</div>\\n      </div>\\n      <div class=\\\"form-group form-row\\\">\\n        <label class=\\\"col-form-label\\\" for=\\\"rule.group\\\">Group</label>\\n        <select class=\\\"form-control custom-select\\\"\\n                ng-options=\\\"group as group.name for group in selectableGroups track by group.id\\\"\\n                ng-model=\\\"classification.group\\\"\\n                ng-disabled=\\\"classification.id === undefined\\\"\\n                id=\\\"rule.group\\\" ></select>\\n      </div>\\n      <div class=\\\"form-group form-row\\\">\\n        <label class=\\\"col-form-label\\\" for=\\\"rule.position\\\">Position</label>\\n        <button class=\\\"btn btn-link\\\"\\n                uib-popover-html=\\\"'<div>Rules on low positions will be evaluated first:<br>position 0 -&gt; position 1 -&gt; position 2 -&gt; ...</div>'\\\"\\n                popover-trigger=\\\"'outsideClick'\\\"><i class=\\\"fa fa-question-circle\\\"></i></button>\\n        <input class=\\\"form-control\\\" id=\\\"rule.position\\\" name=\\\"position\\\" placeholder=\\\"{{maxPosition}}\\\" type=\\\"number\\\" min=\\\"0\\\" max=\\\"{{maxPosition}}\\\" step=\\\"1\\\" pattern=\\\"[0-9]*\\\" ng-model=\\\"classification.position\\\"\\n               ng-class=\\\"{ 'is-invalid' : ruleForm.position.$invalid || error.position }\\\">\\n        <div ng-show=\\\"ruleForm.position.$invalid\\\" class=\\\"invalid-feedback\\\">Position must be between 0 and {{maxPosition}}.</div>\\n      </div>\\n      <div class=\\\"form-group form-row\\\">\\n        <label class=\\\"col-form-label\\\" for=\\\"rule.name\\\">Application Name</label>\\n        <input class=\\\"form-control\\\" type=\\\"text\\\" id=\\\"rule.name\\\" name=\\\"name\\\" placeholder=\\\"HTTP\\\" ng-model=\\\"classification.name\\\"\\n               ng-class=\\\"{ 'is-invalid' : ruleForm.name.$invalid || error.name }\\\" required>\\n        <div ng-show=\\\"ruleForm.name.$invalid\\\" class=\\\"invalid-feedback\\\">The name is required.</div>\\n        <div ng-show=\\\"error.name\\\" class=\\\"invalid-feedback\\\">{{error.name}}</div>\\n      </div>\\n      <div class=\\\"form-row\\\">\\n        <div class=\\\"form-group col-md-8\\\">\\n          <label class=\\\"col-form-label\\\" for=\\\"rule.srcAddress\\\">Source IP Address</label>\\n          <input class=\\\"form-control\\\" type=\\\"text\\\" id=\\\"rule.srcAddress\\\" name=\\\"srcAddress\\\" placeholder=\\\"127.0.0.1,10.0.0.0/24,10.0.0.0-10.255.255.255\\\" ng-model=\\\"classification.srcAddress\\\"\\n                 ng-class=\\\"{ 'is-invalid' : ruleForm.srcAddress.$invalid || error.srcAddress}\\\">\\n          <div ng-show=\\\"error.srcAddress\\\" class=\\\"invalid-feedback\\\">{{error.srcAddress}}</div>\\n        </div>\\n        <div class=\\\"form-group col-md-4\\\">\\n          <label class=\\\"col-form-label\\\" for=\\\"rule.srcPort\\\">Source Port</label>\\n          <input class=\\\"form-control\\\" type=\\\"text\\\" id=\\\"rule.srcPort\\\" name=\\\"srcPort\\\" placeholder=\\\"80,8080\\\" ng-model=\\\"classification.srcPort\\\"\\n                 ng-class=\\\"{ 'is-invalid' : ruleForm.srcPort.$invalid || error.srcPort }\\\">\\n          <div ng-show=\\\"error.srcPort\\\" class=\\\"invalid-feedback\\\">{{error.srcPort}}</div>\\n        </div>\\n      </div>\\n      <div class=\\\"form-row\\\">\\n        <div class=\\\"form-group col-md-8\\\">\\n          <label class=\\\"col-form-label\\\" for=\\\"rule.dstAddress\\\">Destination IP Address</label>\\n          <input class=\\\"form-control\\\" type=\\\"text\\\" id=\\\"rule.dstAddress\\\" name=\\\"dstAddress\\\" placeholder=\\\"127.0.0.1,10.0.0.0/24,10.0.0.0-10.255.255.255\\\" ng-model=\\\"classification.dstAddress\\\"\\n                 ng-class=\\\"{ 'is-invalid' : ruleForm.dstAddress.$invalid || error.dstAddress}\\\">\\n          <div ng-show=\\\"error.dstAddress\\\" class=\\\"invalid-feedback\\\">{{error.dstAddress}}</div>\\n        </div>\\n        <div class=\\\"form-group col-md-4\\\">\\n          <label class=\\\"col-form-label\\\" for=\\\"rule.dstPort\\\">Destination Port</label>\\n          <input class=\\\"form-control\\\" type=\\\"text\\\" id=\\\"rule.dstPort\\\" name=\\\"dstPort\\\" placeholder=\\\"80,8080\\\" ng-model=\\\"classification.dstPort\\\"\\n                 ng-class=\\\"{ 'is-invalid' : ruleForm.dstPort.$invalid || error.dstPort }\\\">\\n          <div ng-show=\\\"error.dstPort\\\" class=\\\"invalid-feedback\\\">{{error.dstPort}}</div>\\n        </div>\\n      </div>\\n      <div class=\\\"form-group\\\">\\n        <label class=\\\"col-form-label\\\" for=\\\"rule.omnidirectional\\\">Omnidirectional</label>\\n        <div class=\\\"form-check\\\">\\n          <input class=\\\"form-check-input\\\" type=\\\"checkbox\\\" id=\\\"rule.omnidirectional\\\" name=\\\"omnidirectional\\\" ng-model=\\\"classification.omnidirectional\\\"\\n                 ng-class=\\\"{ 'is-invalid' : ruleForm.omnidirectional.$invalid || error.omnidirectional }\\\">\\n          <label class=\\\"form-check-label\\\" for=\\\"rule.omnidirectional\\\">Enable matching independent of the flow direction</label>\\n          <div ng-show=\\\"error.omnidirectional\\\" class=\\\"invalid-feedback\\\">{{error.omnidirectional}}</div>\\n        </div>\\n      </div>\\n      <div class=\\\"form-group form-row\\\">\\n        <label class=\\\"col-form-label\\\" for=\\\"rule.exporterFilter\\\">Exporter Filter</label>\\n        <button class=\\\"btn btn-link\\\"\\n                uib-popover-html=\\\"'<div>The rule is only applied if the exporter of the flow matches the defined <a href=https://docs.opennms.com/horizon/latest/reference/configuration/filters/filters.html target=_blank>filter</a>.</div>'\\\"\\n                popover-trigger=\\\"'outsideClick'\\\"><i class=\\\"fa fa-question-circle\\\"></i></button>\\n        <input class=\\\"form-control\\\" type=\\\"text\\\" id=\\\"rule.exporterFilter\\\" name=\\\"exporterFilter\\\" placeholder=\\\"categoryName == 'Exporters' | ipAddr == '10.0.0.1'\\\" ng-model=\\\"classification.exporterFilter\\\"\\n               ng-class=\\\"{ 'is-invalid' : ruleForm.exporterFilter.$invalid || error.exporterFilter }\\\">\\n        <div ng-show=\\\"error.exporterFilter\\\" class=\\\"invalid-feedback\\\">{{error.exporterFilter}}</div>\\n      </div>\\n      <div class=\\\"form-group form-row\\\" >\\n        <label class=\\\"col-form-label\\\" for=\\\"rule.protocol\\\">IP Protocol</label>\\n        <input class=\\\"form-control\\\" type=\\\"text\\\"\\n               id=\\\"rule.protocol\\\"\\n               name=\\\"protocol\\\"\\n               ng-model=\\\"currentSelection\\\"\\n               placeholder=\\\"tcp\\\"\\n               typeahead-on-select=\\\"insertProtocol($item)\\\"\\n               typeahead-min-length=\\\"0\\\"\\n               uib-typeahead=\\\"protocol.keyword for protocol in protocols | filter:$viewValue\\\"\\n               typeahead-editable=\\\"false\\\"\\n               ng-class=\\\"{ 'is-invalid' : ruleForm.protocol.$invalid || error.protocol }\\\">\\n        <span ng-repeat=\\\"protocol in selectedProtocols\\\" class=\\\"badge badge-secondary mt-2 mr-2\\\">\\n          {{protocol.keyword | uppercase}} <a href class=\\\"text-danger\\\" name=\\\"remove-protocol\\\" ng-click=\\\"removeProtocol(protocol)\\\"><i class=\\\"fa fa-remove\\\" title=\\\"remove protocol\\\"></i></a>\\n        </span>\\n        <div ng-show=\\\"error.protocol\\\" class=\\\"invalid-feedback\\\">{{error.protocol}}</div>\\n      </div>\\n    </form>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" id=\\\"save-rule\\\" ng-click=\\\"save()\\\" ng-disabled=\\\"ruleForm.$invalid\\\">{{buttonName}}</button>\\n    <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" id=\\\"cancel-rule\\\" ng-click=\\\"cancel()\\\" >Cancel</button>\\n  </div>\\n</div>\\n\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-classifications/views/modals/new-rule-modal.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<div\\n        class=\\\"popover px-2 py-2\\\"\\n        ng-class=\\\"[vm.$attrs.placement || vm.defaults.placement, 'bs-popover-' + (vm.$attrs.placement || vm.defaults.placement), vm.$attrs.popoverClass || vm.defaults.popoverClass, {fade: vm.animation}]\\\">\\n    <div class=\\\"popover-arrow arrow\\\" style=\\\"top: 50px\\\"></div>\\n    <h3 class=\\\"popover-title\\\" ng-bind-html=\\\"vm.$attrs.title\\\"></h3>\\n    <div class=\\\"popover-content\\\">\\n        <p ng-bind-html=\\\"vm.$attrs.message\\\"></p>\\n        <div class=\\\"row\\\">\\n            <div\\n                    class=\\\"col-sm-6\\\"\\n                    ng-if=\\\"!vm.$attrs.hideConfirmButton && !vm.defaults.hideConfirmButton\\\"\\n                    ng-class=\\\"{'col-sm-offset-3': vm.$attrs.hideCancelButton || vm.defaults.hideCancelButton}\\\">\\n                <button\\n                        class=\\\"btn btn-block confirm-button\\\"\\n                        ng-class=\\\"'btn-' + (vm.$attrs.confirmButtonType || vm.defaults.confirmButtonType)\\\"\\n                        ng-click=\\\"vm.onConfirm(); vm.hidePopover()\\\"\\n                        ng-bind-html=\\\"vm.$attrs.confirmText || vm.defaults.confirmText\\\">\\n                </button>\\n            </div>\\n            <div\\n                    class=\\\"col-sm-6\\\"\\n                    ng-if=\\\"!vm.$attrs.hideCancelButton && !vm.defaults.hideCancelButton\\\"\\n                    ng-class=\\\"{'col-sm-offset-3': vm.$attrs.hideConfirmButton || vm.defaults.hideConfirmButton}\\\">\\n                <button\\n                        class=\\\"btn btn-block cancel-button\\\"\\n                        ng-class=\\\"'btn-' + (vm.$attrs.cancelButtonType || vm.defaults.cancelButtonType)\\\"\\n                        ng-click=\\\"vm.onCancel(); vm.hidePopover()\\\"\\n                        ng-bind-html=\\\"vm.$attrs.cancelText || vm.defaults.cancelText\\\">\\n                </button>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-classifications/views/modals/popover.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","const angular = require('vendor/angular-js');\nconst search = require('apps/search');\nconst centralSearch = require('apps/onms-central-search');\n\nconst MODULE_NAME = 'onms.default.apps';\n\nangular.module(MODULE_NAME, [ 'onms.central.search', 'onms-search' ]);\n","const MODULE_NAME = 'onms.elementList';\n\n/**\n * ISO-8601 date format string.\n */\nwindow.ISO_8601_DATE_FORMAT = 'yyyy-MM-ddTHH:mm:ss.sssZ';\nwindow.ISO_8601_DATE_FORMAT_WITHOUT_MILLIS = 'yyyy-MM-ddTHH:mm:ssZ';\n\nconst angular = require('vendor/angular-js');\nconst jQuery = require('vendor/jquery-js');\nrequire('vendor/bootstrap-js');\n\nconst editInPlaceTemplate = require('../templates/angular-onms-elementList-editInPlace.html');\nconst editListInPlaceTemplate = require('../templates/angular-onms-elementList-editListInPlace.html');\nconst editMapInPlaceTemplate = require('../templates/angular-onms-elementList-editMapInPlace.html');\n\n/**\n * Function used to append an extra transformer to the default $http transforms.\n */\nconst appendTransform = (defaultTransform, transform) => {\n\tconst t = angular.isArray(defaultTransform) ? defaultTransform : [ defaultTransform ];\n\treturn t.concat(transform);\n};\n\n/**\n * Escape FIQL reserved characters by URL-encoding them. Reserved characters are:\n * <ul>\n * <li>!</li>\n * <li>$</li>\n * <li>'</li>\n * <li>(</li>\n * <li>)</li>\n * <li>*</li>\n * <li>+</li>\n * <li>,</li>\n * <li>;</li>\n * <li>=</li>\n * </ul>\n * @param value\n * @returns String with reserved characters URL-encoded\n */\nconst escapeSearchValue = (value) => {\n\tif (typeof value === 'string') {\n\t\t\treturn value\n\t\t\t\t\t.replace('!', '%21')\n\t\t\t\t\t.replace('$', '%24')\n\t\t\t\t\t.replace('\\'', '%27')\n\t\t\t\t\t.replace('(', '%28')\n\t\t\t\t\t.replace(')', '%29')\n\t\t\t\t\t// People are going to type this in as a wildcard, so I\n\t\t\t\t\t// guess they'll have to type in '%2A' if they want to\n\t\t\t\t\t// match an asterisk...\n\t\t\t\t\t//.replace('*', '%2A')\n\t\t\t\t\t.replace('+', '%2B')\n\t\t\t\t\t.replace(',', '%2C')\n\t\t\t\t\t.replace(';', '%3B')\n\t\t\t\t\t.replace('=', '%3D');\n\t}\n\treturn value;\n};\n\n/**\n * Convert from a clause into a FIQL query string.\n */\nconst toFiql = (clauses) => {\n\tlet first = true;\n\tlet fiql = '';\n\tfor (let i = 0; i < clauses.length; i++) {\n\t\tif (!first) {\n\t\t\tfiql += ';';\n\t\t}\n\t\tfiql += clauses[i].property;\n\n\t\tswitch (clauses[i].operator) {\n\t\tcase 'EQ':\n\t\t\tfiql += '=='; break;\n\t\tcase 'NE':\n\t\t\tfiql += '!='; break;\n\t\tcase 'LT':\n\t\t\tfiql += '=lt='; break;\n\t\tcase 'LE':\n\t\t\tfiql += '=le='; break;\n\t\tcase 'GT':\n\t\t\tfiql += '=gt='; break;\n\t\tcase 'GE':\n\t\t\tfiql += '=ge='; break;\n\t\tdefault:\n\t\t\t// otherwise, do nothing\n\t\t\tbreak;\n\t\t}\n\n\t\tfiql += escapeSearchValue(clauses[i].value);\n\n\t\tfirst = false;\n\t}\n\treturn fiql;\n};\n\n/**\n * Convert from a FIQL query string into separate clause objects.\n * This only works for simple queries composed of multiple AND (';')\n * clauses.\n * \n * TODO: Expand this to cover more FIQL syntax\n */\nconst fromFiql = (fiql) => {\n\tlet statements = fiql.split(';');\n\tlet segments = [];\n\tlet clauses = [];\n\tfor (let i = 0; i < statements.length; i++) {\n\t\tif (statements[i].indexOf('==') > 0) {\n\t\t\tsegments = statements[i].split('==');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'EQ',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t} else if (statements[i].indexOf('!=') > 0) {\n\t\t\tsegments = statements[i].split('!=');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'NE',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t} else if (statements[i].indexOf('=lt=') > 0) {\n\t\t\tsegments = statements[i].split('=lt=');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'LT',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t} else if (statements[i].indexOf('=le=') > 0) {\n\t\t\tsegments = statements[i].split('=le=');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'LE',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t} else if (statements[i].indexOf('=gt=') > 0) {\n\t\t\tsegments = statements[i].split('=gt=');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'GT',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t} else if (statements[i].indexOf('=ge=') > 0) {\n\t\t\tsegments = statements[i].split('=ge=');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'GE',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t}\n\t}\n\treturn clauses;\n};\n\n\n/**\n * Parse an HTTP Content-Range header into the start, end, and total fields.\n * The header should be in a format like: \"items 0-14/28\".\n * \n * @param contentRange String from the Content-Range header\n */\nconst parseContentRange = (contentRange) => {\n\tif (!contentRange) {\n\t\treturn {start: 0, end: 0, total: 0};\n\t}\n\t// Example: items 0-14/28\n\tconst pattern = /items\\s+?(\\d+)\\s*-\\s*(\\d+)\\s*\\/\\s*(\\d+)/;\n\treturn {\n\t\tstart: Number(contentRange.replace(pattern, '$1')),\n\t\tend: Number(contentRange.replace(pattern, '$2')),\n\t\ttotal: Number(contentRange.replace(pattern, '$3'))\n\t};\n};\n\nconst normalizeOffset = (offset, maxOffset, limit) => {\n\tlet newOffset = offset;\n\n\t// Offset of the last page\n\tlet lastPageOffset;\n\tif (maxOffset < 0) {\n\t\tnewOffset = 0;\n\t\tlastPageOffset = 0;\n\t} else {\n\t\tlastPageOffset = Math.floor(maxOffset / limit) * limit; \n\t}\n\n\t// Bounds checking\n\tnewOffset = ((newOffset < 0) ? 0 : newOffset);\n\tnewOffset = ((newOffset > lastPageOffset) ? lastPageOffset : newOffset);\n\n\t// Make sure that offset is a multiple of limit\n\tnewOffset = Math.floor(newOffset / limit) * limit;\n\n\treturn newOffset;\n};\n\n/* // BMR: this doesn't seem to actually be used anywhere\nString.prototype.endsWith = function(suffix) {\n\treturn this.indexOf(suffix, this.length - suffix.length) !== -1;\n};\n*/\n\n// $filters that can be used to create human-readable versions of filter values\nangular.module('onmsListFilters', [])\n.filter('operator', function() {\n\treturn function(input, value) {\n\t\t// See if the string contains a wildcard\n\t\tvar fuzzy = (typeof value === 'string' && value.indexOf('*') > -1);\n\n\t\tswitch (input) {\n\t\tcase 'EQ':\n\t\t\treturn fuzzy ? 'is like' : 'equals';\n\t\tcase 'NE':\n\t\t\treturn fuzzy ? 'is not like' : 'does not equal';\n\t\tcase 'LT':\n\t\t\treturn 'is less than';\n\t\tcase 'LE':\n\t\t\treturn 'is less than or equal';\n\t\tcase 'GT':\n\t\t\treturn 'is greater than';\n\t\tcase 'GE':\n\t\t\treturn 'is greater than or equal';\n\t\tdefault:\n\t\t\t// If no match, return the input\n\t\t\treturn input;\n\t\t}\n\t}\n})\n.filter('isNotEmpty', function() {\n\treturn function(input) {\n\t\treturn input &&\n\t\t\t(typeof input === 'string' ? input.trim() !== '' : true);\n\t}\n})\n;\n\n// List module\nangular.module(MODULE_NAME, [])\n\n.config(/* @ngInject */ function($locationProvider) {\n\t$locationProvider.hashPrefix('');\n\t$locationProvider.html5Mode({\n\t\t// Use HTML5 \n\t\tenabled: true,\n\t\t// Don't rewrite all <a> links on the page\n\t\trewriteLinks: false\n\t});\n})\n\n.directive('onmsListEditInPlace', /* @ngInject */ function() {\n\treturn {\n\t\tcontroller: function($scope) {\n\t\t\t$scope.editing = false;\n\t\t\t$scope.originalValue = angular.copy($scope.value);\n\n\t\t\t// Start editing the value\n\t\t\t$scope.edit = function() {\n\t\t\t\t$scope.editing = true;\n\t\t\t}\n\n\t\t\t// Stop editing the value\n\t\t\t$scope.unedit = function() {\n\t\t\t\t$scope.editing = false;\n\t\t\t}\n\n\t\t\t$scope.onKeyup = function($event) {\n\t\t\t\t// If the user types ESC, then abort the edit\n\t\t\t\tif($event.keyCode === 27) {\n\t\t\t\t\t$scope.cancel();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.submit = function() {\n\t\t\t\t$scope.onSubmit();\n\t\t\t\t// TODO: Handle update failures\n\t\t\t\t// Now that we've save a new value, use it as the original value\n\t\t\t\t$scope.originalValue = $scope.value;\n\t\t\t\t// Switch out of edit mode\n\t\t\t\t$scope.unedit();\n\t\t\t}\n\n\t\t\t$scope.cancel = function() {\n\t\t\t\t// Restore the original value\n\t\t\t\t$scope.value = $scope.originalValue;\n\t\t\t\t// Switch out of edit mode\n\t\t\t\t$scope.unedit();\n\t\t\t}\n\t\t},\n\t\t// Use an isolated scope\n\t\tscope: {\n\t\t\titem: '=',\n\t\t\tvalue: '=',\n\t\t\tvalueType: '=',\n\t\t\t// Optional step attribute for number fields\n\t\t\tstep: '=',\n\t\t\tonSubmit: '&onSubmit'\n\t\t},\n\t\ttemplateUrl: editInPlaceTemplate,\n\t\ttransclude: true\n\t};\n})\n\n.directive('onmsListEditListInPlace', /* @ngInject */ function($window) {\n\treturn {\n\t\tcontroller: function($scope) {\n\t\t\t$scope.editing = false;\n\n\t\t\t// Start editing the value\n\t\t\t$scope.edit = function() {\n\t\t\t\t$scope.editing = true;\n\t\t\t}\n\n\t\t\t// Stop editing the value\n\t\t\t$scope.unedit = function() {\n\t\t\t\t// Undo any edits\n\t\t\t\t$scope.newValue = null;\n\t\t\t\t$scope.editing = false;\n\t\t\t}\n\n\t\t\t$scope.onKeyup = function(event) {\n\t\t\t\tswitch(event.keyCode) {\n\t\t\t\t// If the user types Enter, then submit the edit\n\t\t\t\tcase 13: $scope.add($scope.values, $scope.newValue); break;\n\t\t\t\t// If the user types ESC, then abort the edit\n\t\t\t\tcase 27: $scope.unedit(); break;\n\t\t\t\t// otherwise, do nothing\n\t\t\t\tdefault: break;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.confirmAndRemove = function(items, item) {\n\t\t\t\t// Splice the value out of the array\n\t\t\t\tif ($window.confirm('Are you sure you want to remove \"' + item + '\"?')) {\n\t\t\t\t\titems.splice(items.indexOf(item), 1);\n\t\t\t\t\t$scope.onEdit();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.add = function(items, item) {\n\t\t\t\titems.push(item);\n\t\t\t\titems.sort();\n\t\t\t\t// TODO: Handle update failures\n\t\t\t\t$scope.onEdit();\n\t\t\t\t// Switch out of edit mode\n\t\t\t\t$scope.unedit();\n\t\t\t}\n\t\t},\n\t\t// Use an isolated scope\n\t\tscope: {\n\t\t\tvalues: '=',\n\t\t\tvalueType: '=',\n\t\t\t// Optional step attribute for number fields\n\t\t\tstep: '=',\n\t\t\tonEdit: '&onEdit'\n\t\t},\n\t\ttemplateUrl: editListInPlaceTemplate,\n\t\ttransclude: true\n\t};\n})\n\n.directive('onmsListEditMapInPlace', /* @ngInject */ function($window) {\n\treturn {\n\t\tcontroller: function($scope) {\n\t\t\t$scope.editing = false;\n\n\t\t\t// Start editing the value\n\t\t\t$scope.edit = function() {\n\t\t\t\t$scope.editing = true;\n\t\t\t}\n\n\t\t\t// Stop editing the value\n\t\t\t$scope.unedit = function() {\n\t\t\t\t// Undo any edits\n\t\t\t\t$scope.newKey = null;\n\t\t\t\t$scope.newValue = null;\n\t\t\t\t$scope.editing = false;\n\t\t\t}\n\n\t\t\t$scope.onKeyup = function(event) {\n\t\t\t\tswitch(event.keyCode) {\n\t\t\t\t// If the user types Enter, then submit the edit\n\t\t\t\tcase 13: $scope.add($scope.values, $scope.newKey, $scope.newValue); break;\n\t\t\t\t// If the user types ESC, then abort the edit\n\t\t\t\tcase 27: $scope.unedit(); break;\n\t\t\t\t// otherwise, do nothing\n\t\t\t\tdefault: break;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.confirmAndRemove = function(items, key) {\n\t\t\t\t// Splice the value out of the array\n\t\t\t\tif ($window.confirm('Are you sure you want to remove \"' + key + '\"?')) {\n\t\t\t\t\tdelete items[key];\n\t\t\t\t\t$scope.onEdit();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.add = function(items, key, value) {\n\t\t\t\titems[key] = value;\n\t\t\t\t// TODO: Handle update failures\n\t\t\t\t$scope.onEdit();\n\t\t\t\t// Switch out of edit mode\n\t\t\t\t$scope.unedit();\n\t\t\t}\n\t\t},\n\t\t// Use an isolated scope\n\t\tscope: {\n\t\t\tvalues: '=',\n\t\t\tkeyType: '=',\n\t\t\tvalueType: '=',\n\t\t\t// Optional step attribute for number fields\n\t\t\tstep: '=',\n\t\t\tonEdit: '&onEdit'\n\t\t},\n\t\ttemplateUrl: editMapInPlaceTemplate,\n\t\ttransclude: true\n\t};\n})\n\n/**\n * Generic list controller\n */\n.controller('ListCtrl', ['$scope', '$location', '$window', '$log', '$filter', function($scope, $location, $window, $log, $filter) {\n\t$log.debug('ListCtrl initializing...');\n\n\t$scope.defaults = {\n\t\t_s: '',\n\t\tsearchClauses: [],\n\t\tlimit: 20,\n\t\toffset: 0,\n\t\torderBy: '',\n\t\torder: 'asc'\n\t}\n\n\tvar initialLimit = typeof $location.search().limit === 'undefined' ? $scope.defaults.limit : (Number($location.search().limit) > 0 ? Number($location.search().limit) : $scope.defaults.limit);\n\n\t// Restore any query parameters that you can from the \n\t// query string, blank out the rest\n\t$scope.query = {\n\t\tlastOffset: 0,\n\t\tmaxOffset: 0,\n\n\t\tsearchParam: typeof $location.search()._s === 'undefined' ? $scope.defaults._s : $location.search()._s,\n\t\tsearchClauses: typeof $location.search()._s === 'undefined' ? $scope.defaults.searchClauses : fromFiql($location.search()._s),\n\t\tlimit: initialLimit,\n\t\tnewLimit: initialLimit,\n\t\toffset: typeof $location.search().offset === 'undefined' ? $scope.defaults.offset : (Number($location.search().offset) > 0 ? normalizeOffset(Number($location.search().offset), Number.MAX_VALUE, initialLimit) : $scope.defaults.offset),\n\n\t\t// TODO: Validate that the orderBy is in a list of supported properties\n\t\torderBy: typeof $location.search().orderBy === 'undefined' ? $scope.defaults.orderBy : $location.search().orderBy,\n\t\torder: typeof $location.search().order === 'undefined' ? $scope.defaults.order : ($location.search().order === 'asc' ? 'asc' : 'desc')\n\t};\n\n\t// Sync the query hash with the $location query string\n\t$scope.$watch('query', function() {\n\t\tvar queryParams = angular.copy($scope.query);\n\n\t\t// Delete derived values that we don't need in the query string\n\t\tdelete queryParams.searchClauses;\n\t\tdelete queryParams.newLimit;\n\t\tdelete queryParams.lastOffset;\n\t\tdelete queryParams.maxOffset;\n\n\t\t// Rename searchParam to _s\n\t\tqueryParams._s = (queryParams.searchParam === '' ? null : queryParams.searchParam);\n\t\tdelete queryParams.searchParam;\n\n\t\t// Delete any parameters that have default or blank values\n\t\tif (queryParams.limit === $scope.defaults.limit || queryParams.limit === '') { delete queryParams.limit; }\n\t\tif (queryParams.offset === $scope.defaults.offset || queryParams.offset === '') { delete queryParams.offset; }\n\t\tif (queryParams.orderBy === $scope.defaults.orderBy || queryParams.orderBy === '') { delete queryParams.orderBy; }\n\t\tif (queryParams.order === $scope.defaults.order || queryParams.order === '') { delete queryParams.order; }\n\t\tif (queryParams._s === $scope.defaults._s || queryParams._s === '') { delete queryParams._s; }\n\n\t\t$location.search(queryParams);\n\t}, \n\ttrue // Use object equality because the reference doesn't change\n\t);\n\n\t// Add the search clause to the list of clauses\n\t$scope.addSearchClause = function(clause) {\n\t\tif(angular.isDate(clause.value)) {\n\t\t\t// Returns a value in yyyy-MM-ddTHH:mm:ss.sssZ format\n\t\t\t// Unfortunately, I don't think CXF will like this because\n\t\t\t// it includes the millisecond portion of the date.\n\t\t\t//clause.value = new Date(clause.value).toISOString();\n\n\t\t\tclause.value = $filter('date')(new Date(clause.value), ISO_8601_DATE_FORMAT);\n\t\t}\n\n\t\t// Make sure the clause isn't already in the list of search clauses\n\t\tif ($scope.getSearchClause(clause)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// TODO: Add validation?\n\t\t$scope.query.searchClauses.push(angular.copy(clause));\n\t\t$scope.query.searchParam = toFiql($scope.query.searchClauses);\n\t\t$scope.refresh();\n\t}\n\n\t$scope.getSearchClause = function(clause) {\n\t\tfor (var i = 0; i < $scope.query.searchClauses.length; i++) {\n\t\t\tif ($scope.clauseEquals(clause, $scope.query.searchClauses[i])) {\n\t\t\t\treturn $scope.query.searchClauses[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t$scope.clauseEquals = function(a, b) {\n\t\treturn a.property === b.property &&\n\t\t\ta.operator === b.operator &&\n\t\t\ta.value === b.value;\n\t}\n\n\t// Convert an epoch timestamp into String format before adding the search clause\n\t$scope.addEpochTimestampSearchClause = function(clause) {\n\t\tclause.value = $filter('date')(clause.value, ISO_8601_DATE_FORMAT);\n\t\t$scope.addSearchClause(clause);\n\t}\n\n\t// Remove a search clause from the list of clauses\n\t$scope.removeSearchClause = function(clause) {\n\t\t// TODO: Add validation?\n\t\t$scope.query.searchClauses.splice($scope.query.searchClauses.indexOf(clause), 1);\n\t\t$scope.query.searchParam = toFiql($scope.query.searchClauses);\n\t\t$scope.refresh();\n\t}\n\n\t$scope.removeSearchClauses = function(clauses) {\n\t\tfor (var i = 0; i < clauses.length; i++) {\n\t\t\tvar index = $scope.query.searchClauses.indexOf(clauses[i]);\n\t\t\tif (index >= 0) {\n\t\t\t\t$scope.query.searchClauses.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\t$scope.query.searchParam = toFiql($scope.query.searchClauses);\n\t\t$scope.refresh();\n\t}\n\n\t// Replace a search clause with a new clause\n\t$scope.replaceSearchClause = function(oldClause, newClause) {\n\t\tif(angular.isDate(newClause.value)) {\n\t\t\t// Returns a value in yyyy-MM-ddTHH:mm:ss.sssZ format\n\t\t\t// Unfortunately, I don't think CXF will like this because\n\t\t\t// it includes the millisecond portion of the date.\n\t\t\t//clause.value = new Date(clause.value).toISOString();\n\n\t\t\tnewClause.value = $filter('date')(new Date(newClause.value), ISO_8601_DATE_FORMAT);\n\t\t}\n\n\t\t// TODO: Add validation?\n\t\tvar scopeOldClause = $scope.getSearchClause(oldClause);\n\t\tvar scopeNewClause = $scope.getSearchClause(newClause);\n\t\tif (!scopeOldClause) {\n\t\t\tif (!scopeNewClause) {\n\t\t\t\t// If the old clause is not present, simply add the new clause\n\t\t\t\t$scope.addSearchClause(newClause);\n\t\t\t} else {\n\t\t\t\t// If the old clause is not present and the new clause is already\n\t\t\t\t// present, then do nothing\n\t\t\t}\n\t\t} else {\n\t\t\tif (!scopeNewClause) {\n\t\t\t\t// If the old clause is present and the new clause is not, replace\n\t\t\t\t// the values inside the old clause and then refresh\n\t\t\t\tscopeOldClause.property = newClause.property;\n\t\t\t\tscopeOldClause.operator = newClause.operator;\n\t\t\t\tscopeOldClause.value = newClause.value;\n\n\t\t\t\t$scope.query.searchParam = toFiql($scope.query.searchClauses);\n\t\t\t\t$scope.refresh();\n\t\t\t} else {\n\t\t\t\t// If the old clause is present and the new clause is present,\n\t\t\t\t// then just remove the old clause (as if it had been replaced by\n\t\t\t\t// the already-existing new clause)\n\t\t\t\t$scope.removeSearchClause(oldClause);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Clear the current search\n\t$scope.clearSearch = function() {\n\t\tif ($scope.query.searchClauses.length > 0) {\n\t\t\t$scope.query.searchClauses = [];\n\t\t\t$scope.query.searchParam = '';\n\t\t\t$scope.refresh();\n\t\t}\n\t}\n\n\t// Change the sorting of the table\n\t$scope.changeOrderBy = function(property) {\n\t\tif ($scope.query.orderBy === property) {\n\t\t\t// TODO: Figure out if we should reset limit/offset here also\n\t\t\t// If the property is already selected then reverse the sorting\n\t\t\t$scope.query.order = ($scope.query.order === 'asc' ? 'desc' : 'asc');\n\t\t} else {\n\t\t\t// TODO: Figure out if we should reset limit/offset here also\n\t\t\t$scope.query.orderBy = property;\n\t\t\t$scope.query.order = $scope.defaults.order;\n\t\t}\n\t\t$scope.refresh();\n\t}\n\n\t$scope.setOffset = function(offset) {\n\t\tconst o = normalizeOffset(offset, $scope.query.maxOffset, $scope.query.limit);\n\n\t\tif ($scope.query.offset !== o) {\n\t\t\t$scope.query.offset = o;\n\t\t\t$scope.refresh();\n\t\t}\n\t}\n\n\t$scope.setLimit = function(limit) {\n\t\tif (limit < 1) {\n\t\t\t$scope.query.newLimit = $scope.query.limit;\n\t\t\t// TODO: Throw a validation error\n\t\t\treturn;\n\t\t}\n\t\tif ($scope.query.limit !== limit) {\n\t\t\t$scope.query.limit = limit;\n\t\t\t$scope.query.offset = normalizeOffset($scope.query.offset, $scope.query.maxOffset, $scope.query.limit);\n\t\t\t$scope.refresh();\n\t\t}\n\t}\n\n\t// Override this to implement updates to an object\n\t$scope.refresh = function() {\n\t\t$log.warn('You need to override $scope.$parent.refresh() in your controller');\n\t}\n\n\t// Override this to implement updates to an object\n\t$scope.update = function() {\n\t\t$log.warn('You need to override $scope.$parent.update() in your controller');\n\t}\n\n\t// Override this to implement deletions\n\t$scope.deleteItem = function(item) {\n\t\t$log.warn('You need to override $scope.$parent.deleteItem() in your controller');\n\t}\n\n\t$log.debug('ListCtrl initialized');\n}])\n\n.run(['$rootScope', '$log', function($rootScope, $log) {\n\t$log.debug('Finished initializing ' + MODULE_NAME);\n}])\n\n;\n\n/*\nangular.element(document).ready(function() {\n\tconsole.log('Bootstrapping ' + MODULE_NAME);\n\tangular.bootstrap(document, [MODULE_NAME]);\n});\n*/\n\nmodule.exports = {\n\tappendTransform: appendTransform,\n\ttoFiql: toFiql,\n\tfromFiql: fromFiql,\n\tparseContentRange: parseContentRange,\n\tescapeSearchValue: escapeSearchValue,\n\tnormalizeOffset: normalizeOffset\n};\n","// Module\nvar code = \"<form class=\\\"form-inline\\\" ng-submit=\\\"submit()\\\" style=\\\"margin: 0;\\\">\\n\\t<!-- Editing input -->\\n\\t<input ng-show=\\\"editing\\\" ng-keyup=\\\"onKeyup($event)\\\" type=\\\"{{valueType}}\\\" step=\\\"{{step}}\\\" ng-model=\\\"value\\\">\\n\\n\\t<!-- Text label -->\\n\\t<span style=\\\"line-height:24px;\\\" ng-hide=\\\"editing\\\" ng-click=\\\"edit()\\\">{{value}}&nbsp;</span>\\n\\n\\t<!-- Edit button -->\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"edit()\\\" ng-hide=\\\"editing\\\"><i class=\\\"fa fa-edit fa-lg\\\"></i></a>\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"submit()\\\" ng-show=\\\"editing\\\"><i class=\\\"fa fa-check fa-lg\\\"></i></a>\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"cancel()\\\" ng-show=\\\"editing\\\"><i class=\\\"fa fa-close fa-lg\\\"></i></a>\\n\\n\\t<!-- Transclude any content inside the tag -->\\n\\t<span ng-transclude></span>\\n</form>\\n\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editInPlace.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<span>\\n\\t<!-- Show all of the current values -->\\n<span ng-repeat=\\\"value in values\\\">\\n\\t<button class=\\\"btn btn-sm btn-secondary\\\" ng-click=\\\"confirmAndRemove(values, value)\\\" style=\\\"margin-bottom:3px;margin-right:3px;\\\">\\n\\t\\t{{value}}&nbsp;<i class=\\\"fa fa-close\\\"></i>\\n\\t</button>\\n</span>\\n\\n<!-- Edit button -->\\n<span style=\\\"line-height:24px;\\\" ng-hide=\\\"editing\\\">\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"edit()\\\"><i class=\\\"fa fa-edit fa-lg\\\"></i></a>&nbsp;\\n</span>\\n\\n<!-- TODO: Add the ability to support select controls -->\\n<!-- Input for new item -->\\n<span ng-show=\\\"editing\\\" class=\\\"text-nowrap\\\">\\n\\t<input type=\\\"{{valueType}}\\\" ng-keyup=\\\"onKeyup($event)\\\" ng-model=\\\"newValue\\\">\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"add(values, newValue)\\\"><i class=\\\"fa fa-plus fa-lg\\\"></i></a>\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"unedit()\\\"><i class=\\\"fa fa-close fa-lg\\\"></i></a>\\n</span>\\n\\n<!-- Transclude any content inside the tag -->\\n<span ng-transclude></span>\\n</span>\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editListInPlace.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<span>\\n<!-- Show all of the current values -->\\n<span ng-repeat=\\\"(key,value) in values\\\">\\n\\t<button class=\\\"btn btn-sm btn-secondary\\\" ng-click=\\\"confirmAndRemove(values, key)\\\" style=\\\"margin-bottom:3px;margin-right:3px;\\\">\\n\\t\\t<b>{{key}}:</b> {{value}}&nbsp;<i class=\\\"fa fa-close\\\"></i>\\n\\t</button>\\n</span>\\n\\n<!-- Edit button -->\\n<span style=\\\"line-height:24px;\\\" ng-hide=\\\"editing\\\">\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"edit()\\\"><i class=\\\"fa fa-edit fa-lg\\\"></i></a>&nbsp;\\n</span>\\n\\n<!-- TODO: Add the ability to support select controls -->\\n<!-- Input for new item -->\\n<span ng-show=\\\"editing\\\" class=\\\"text-nowrap\\\">\\n\\t<input type=\\\"{{keyType}}\\\" ng-keyup=\\\"onKeyup($event)\\\" ng-model=\\\"newKey\\\">\\n\\t<input type=\\\"{{valueType}}\\\" ng-keyup=\\\"onKeyup($event)\\\" ng-model=\\\"newValue\\\">\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"add(values, newKey, newValue)\\\"><i class=\\\"fa fa-plus fa-lg\\\"></i></a>\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"unedit()\\\"><i class=\\\"fa fa-close fa-lg\\\"></i></a>\\n</span>\\n\\n<!-- Transclude any content inside the tag -->\\n<span ng-transclude></span>\\n</span>\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editMapInPlace.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","/**\n* @author Alejandro Galue <agalue@opennms.org>\n* @copyright 2016-2022 The OpenNMS Group, Inc.\n*/\n\n'use strict';\n\nconst angular = require('vendor/angular-js');\nrequire('lib/onms-http');\n\nconst kscTemplate = require('./template.ksc.html');\nconst nodesTemplate = require('./template.nodes.html');\n\nimport Util from 'lib/util';\n\nangular.module('onms-search', [\n  'onms.http',\n  'ui.bootstrap'\n])\n\n.config(['$locationProvider', function($locationProvider) {\n  $locationProvider.hashPrefix('');\n}])\n\n.directive('onmsSearchNodes', function() {\n  return {\n    restrict: 'E',\n    transclude: true,\n    templateUrl: nodesTemplate,\n    controller: 'NodeSearchCtrl'\n  };\n})\n\n.directive('onmsSearchKsc', function() {\n  return {\n    restrict: 'E',\n    transclude: true,\n    templateUrl: kscTemplate,\n    controller: 'KscSearchCtrl'\n  };\n})\n\n.controller('NodeSearchCtrl', ['$scope', '$window', '$http', function($scope, $window, $http) {\n\n  $scope.getNodes = function(criteria) {\n    return $http({\n      url: 'rest/nodes',\n      method: 'GET',\n      params: { label: criteria, comparator: 'contains' }\n    }).then(function(response) {\n      return response.data.node;\n    });\n  };\n\n  $scope.goToChooseResources = function(node) {\n    $window.location.href = Util.getBaseHref() + 'graph/chooseresource.jsp?node=' + node.id;\n  }\n\n}])\n\n.controller('KscSearchCtrl', ['$scope', '$window', '$http', '$filter', function($scope, $window, $http, $filter) {\n\n  $scope.getKscReports = function(criteria) {\n    return $http({\n      url: 'rest/ksc',\n      method: 'GET'\n    }).then(function(response) {\n       return $filter('filter')(response.data.kscReport, criteria);\n    });\n  };\n\n  $scope.goToKscReport = function(ksc) {\n    $window.location.href = Util.getBaseHref() + 'KSC/customView.htm?type=custom&report=' + ksc.id;\n  }\n\n}]);","// Module\nvar code = \"<div class=\\\"form-group\\\">\\n  <div class=\\\"input-group\\\">\\n    <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"asyncKsc\\\" placeholder=\\\"Type the KSC report name\\\"\\n      uib-typeahead=\\\"ksc as ksc.label for ksc in getKscReports($viewValue)\\\"\\n      typeahead-editable=\\\"false\\\"\\n      typeahead-loading=\\\"kscLoadingNodes\\\"\\n      typeahead-no-results=\\\"kscNoResults\\\"\\n      typeahead-min-length=\\\"1\\\"\\n      typeahead-on-select=\\\"goToKscReport($item)\\\">\\n    <div class=\\\"input-group-append\\\">\\n      <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-search\\\"></i></span>\\n    </div>\\n  </div>\\n  <i ng-show=\\\"kscLoadingNodes\\\" class=\\\"fa fa-refresh\\\"></i>\\n  <p class=\\\"form-text text-muted\\\" ng-show=\\\"kscNoResults\\\">\\n    <i class=\\\"fa fa-remove\\\"></i> No Results Found\\n  </p>\\n</div>\\n\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/search/template.ksc.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<div class=\\\"form-group\\\">\\n  <div class=\\\"input-group\\\">\\n    <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"asyncNode\\\" placeholder=\\\"Type the node label\\\"\\n      uib-typeahead=\\\"node as node.label for node in getNodes($viewValue)\\\"\\n      typeahead-editable=\\\"false\\\"\\n      typeahead-loading=\\\"nodeLoadingNodes\\\"\\n      typeahead-no-results=\\\"nodeNoResults\\\"\\n      typeahead-min-length=\\\"1\\\"\\n      typeahead-on-select=\\\"goToChooseResources($item)\\\">\\n    <div class=\\\"input-group-append\\\">\\n      <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-search\\\"></i></span>\\n    </div>\\n  </div>\\n  <i ng-show=\\\"nodeLoadingNodes\\\" class=\\\"fa fa-refresh\\\"></i>\\n  <p class=\\\"form-text text-muted\\\" ng-show=\\\"nodeNoResults\\\">\\n    <i class=\\\"fa fa-remove\\\"></i> No Results Found\\n  </p>\\n</div>\\n\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/search/template.nodes.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<span>\\n<div class=\\\"modal-header\\\">\\n    <h3><i class=\\\"fa fa-exclamation-triangle text-warning\\\"></i> Permission Denied</h3>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    <h5>\\n        You are not allowed to perform the requested action.\\n    </h5>\\n    <p class=\\\"text-muted\\\">\\n        This is not supposed to happen.\\n        Please reload the page and contact your administrator if this occurs more often.\\n    </p>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-primary\\\" ng-click=\\\"reload()\\\">Reload</button>\\n</div>\\n</span>\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/lib/onms-http/403-permission-denied.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","'use strict';\n\nconst angular = require('vendor/angular-js');\n\nconst permissionDeniedTemplate  = require('./403-permission-denied.html');\n\nangular.module('onms.http', ['ui.bootstrap'])\n    .factory('InterceptorService',['$q', '$rootScope', function($q, $rootScope) {\n        return {\n            responseError: function (rejection) {\n                if (rejection.status === 401) {\n                    if (rejection.config && rejection.config.url\n                        && (rejection.config.url.startsWith('rest/')\n                            || rejection.config.url.startsWith('api/v2/'))\n                    ) {\n                        console.error('Login Required', rejection, rejection.headers); // eslint-disable-line no-console\n                        $rootScope.$emit('loginRequired');\n                    }\n                }\n                if (rejection.status === 403) {\n                    $rootScope.$emit('permissionDenied');\n                }\n                return $q.reject(rejection);\n            }\n        }\n    }])\n    .config(['$locationProvider', function($locationProvider) {\n        $locationProvider.hashPrefix('');\n    }])\n    .config(['$httpProvider',\n        function ($httpProvider) {\n            $httpProvider.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n            $httpProvider.interceptors.push('InterceptorService');\n        }\n    ])\n    .run(['$rootScope', '$uibModal', function($rootScope, $uibModal) {\n        $rootScope.$on('loginRequired', function() {\n            var baseTags = document.getElementsByTagName('base');\n            if (baseTags && baseTags.length > 0 && baseTags[0].href) {\n                document.headerLogoutForm.submit();\n            } else {\n                console.warn('Login is required, but cannot forward to login page due to missing base tag.'); // eslint-disable-line no-console\n            }\n        });\n\n        $rootScope.$on('permissionDenied', function() {\n            $uibModal.open({\n                templateUrl: permissionDeniedTemplate,\n                controller: function($scope, $uibModalInstance) {\n                    $scope.reload = function () {\n                        $uibModalInstance.dismiss();\n                        window.location.reload();\n                    };\n                },\n                size: '',\n                backdrop: 'static',\n                keyboard  : false\n            });\n        });\n    }])\n;\n\nmodule.exports = angular;","const angular = require('vendor/angular-js');\nconst paginationTemplate = require('./pagination-toolbar.html');\n\nconst MODULE_NAME = 'onms.pagination';\n\nangular.module(MODULE_NAME, [ 'ui.bootstrap' ])\n    .directive('pagination', function() {\n        return {\n            restrict: 'E',\n            scope: {\n                model: '=model',\n                position: '@position',\n                onChangeCallback: '=onChange'\n            },\n            link: function(scope, element, attrs) {\n                if (scope.model === undefined) { throw new Error('No model defined.'); }\n                if (scope.model.page === undefined) { throw new Error('No attribute model.page defined'); }\n                if (scope.model.totalItems === undefined) { throw new Error('No attribute model.totalItems defined'); }\n                if (scope.model.limit === undefined) { throw new Error('No attribute model.limit defined'); }\n\n                var currentPage = scope.model.page;\n                scope.onChange = function() {\n                    if (currentPage !== scope.model.page) {\n                        currentPage = scope.model.page;\n                        if (scope.onChangeCallback) {\n                            scope.onChangeCallback();\n                        }\n                    }\n                };\n            },\n            transclude: true,\n            templateUrl: paginationTemplate\n        }\n    });\n","// Module\nvar code = \"<div>\\n    <!-- Content for pagination -->\\n    <div ng-transclude ng-if=\\\"position === 'bottom'\\\"></div>\\n\\n    <!-- Paging controls -->\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-md-4 col-lg-6 col-sm-12\\\" ng-show=\\\"(model.totalItems / model.limit) > 1\\\">\\n            <div style=\\\"margin: 0px;\\\"\\n                 uib-pagination\\n                 ng-model=\\\"model.page\\\"\\n                 total-items=\\\"model.totalItems\\\"\\n                 items-per-page=\\\"model.limit\\\"\\n                 rotate=\\\"true\\\"\\n                 boundary-links=\\\"true\\\"\\n                 max-size=\\\"5\\\"\\n                 boundary-link-numbers=\\\"true\\\"\\n                 ng-change=\\\"onChange()\\\">\\n            </div>\\n        </div>\\n        <div class=\\\"col-md-8 col-lg-6 col-sm-12 mt-4\\\">\\n            <pre class=\\\"pull-right\\\" ng-show=\\\"model.totalItems == 0\\\">No items found.</pre>\\n            <pre class=\\\"pull-right\\\" ng-show=\\\"model.totalItems > 0\\\">{{model.totalItems / model.page === 1\\n            ? \\\"Item \\\" + (model.offset + 1)\\n            : \\\"Items \\\" + ((model.page - 1) * model.limit + 1) + \\\" - \\\" + (model.page * model.limit &gt; model.totalItems ? model.totalItems : model.page * model.limit)}} ({{model.totalItems}} total)</pre>\\n        </div>\\n    </div>\\n\\n    <!-- Content for pagination -->\\n    <div ng-transclude ng-if=\\\"position === 'top' || position === undefined\\\"></div>\\n\\n</div>\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/lib/onms-pagination/pagination-toolbar.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","/* Load jQuery first, so Angular finds it */\nrequire('./jquery-js');\n\n/* Angular Core */\nconst angular = require('angular');\nrequire('angular-animate');\nrequire('angular-cookies');\nrequire('angular-route');\nrequire('angular-resource');\nrequire('angular-sanitize');\n\n/* 3rd-Party Modules */\nrequire('angular-growl-v2');\nrequire('angular-loading-bar');\n\nrequire('angular-growl-v2/build/angular-growl.css');\nrequire('angular-loading-bar/build/loading-bar.css');\n\n/* Bootstrap UI */\nrequire('vendor/bootstrap-js');\nrequire('angular-bootstrap-checkbox');\nrequire('ui-bootstrap4'); // angular-ui-boostrap for bootstrap 4\n\nconsole.log('init: angular-js ' + angular.version.full); // eslint-disable-line no-console\n\nmodule.exports = window['angular'] = angular;","console.log('init: bootstrap-js'); // eslint-disable-line no-console\n\nconst jQuery = require('vendor/jquery-js');\nrequire('vendor/moment-js');\nrequire('bootstrap/dist/js/bootstrap');\n\nmodule.exports = jQuery;\n","console.log('init: jquery-js'); // eslint-disable-line no-console\n\nconst jQuery = require('jquery');\nrequire('jquery-migrate');\n\nmodule.exports = jQuery;\n","console.log('init: moment-js'); // eslint-disable-line no-console\n\nconst moment = require('moment');\nrequire('moment-timezone');\nrequire('@rangerrick/moment-javaformat');\n\nmodule.exports = moment;","export default class Util {\n\tstatic getBaseHref() {\n\t\tconst base = document.getElementsByTagName('base')[0];\n\t\tif (base) {\n\t\t\treturn base.href;\n\t\t}\n\t\treturn '';\n\t}\n\tstatic setLocation(url) {\n\t\tif (window && window.location) {\n\t\t\twindow.location.href = Util.getBaseHref() + url;\n\t\t}\n\t}\n\tstatic toggle(booleanValue, elementName) {\n\t\tvar checkboxes = document.getElementsByName(elementName);\n\t\tfor (var index in checkboxes) {\n\t\t\tif (checkboxes.hasOwnProperty(index)) {\n\t\t\t\tcheckboxes[index].checked = booleanValue;\n\t\t\t}\n\t\t}\n\t}\n}"],"sourceRoot":""}