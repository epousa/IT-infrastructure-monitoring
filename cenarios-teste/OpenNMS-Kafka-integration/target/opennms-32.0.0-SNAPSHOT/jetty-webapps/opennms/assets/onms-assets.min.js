!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var n in o)("object"==typeof exports?exports:e)[n]=o[n]}}(window,(function(){return(window.webpackJsonp=window.webpackJsonp||[]).push([[38,2,6,8,25,28,35,39,41,43,49,65,71],{10:function(e,exports,t){"use strict";var o,n=(o=t(70))&&o.__esModule?o:{default:o};var angular=t(3),r=t(22);angular.module("onms.http",["ui.bootstrap"]).factory("InterceptorService",["$q","$rootScope",function(e,t){return{responseError:function(o){var r,a;401===o.status&&(o.config&&o.config.url&&((0,n.default)(r=o.config.url).call(r,"rest/")||(0,n.default)(a=o.config.url).call(a,"api/v2/"))&&(console.error("Login Required",o,o.headers),t.$emit("loginRequired")));return 403===o.status&&t.$emit("permissionDenied"),e.reject(o)}}}]).config(["$locationProvider",function(e){e.hashPrefix("")}]).config(["$httpProvider",function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.interceptors.push("InterceptorService")}]).run(["$rootScope","$uibModal",function(e,t){e.$on("loginRequired",(function(){var e=document.getElementsByTagName("base");e&&e.length>0&&e[0].href?document.headerLogoutForm.submit():console.warn("Login is required, but cannot forward to login page due to missing base tag.")})),e.$on("permissionDenied",(function(){t.open({templateUrl:r,controller:["$scope","$uibModalInstance",function($scope,e){$scope.reload=function(){e.dismiss(),window.location.reload()}}],size:"",backdrop:"static",keyboard:!1})}))}]),e.exports=angular},12:function(e,exports,t){"use strict";console.log("init: bootstrap-js");var jQuery=t(5);t(8),t(41),e.exports=jQuery},134:function(e,exports,t){"use strict";var jQuery=t(5);t(248),t(65),t(110),t(171),t(249),t(211),t(250),t(251),t(252),t(172),t(212),t(176),t(177),t(213),t(170),t(87),t(178),t(173),t(135),t(118),t(174),t(175),t(214),t(119),t(24),t(253),t(254),t(180),t(216),t(215),t(255),t(256),t(179),t(257),t(258),t(259),t(260),t(261),t(262),t(263),t(264),console.log("init: jquery-ui-js"),e.exports=jQuery},136:function(e,exports,t){"use strict";var o,n=(o=t(29))&&o.__esModule?o:{default:o};var r,angular=t(3),a=t(8);function s(){}s.prototype.init=function(e){var t=this,o="yyyy-MM-dd'T'HH:mm:ssxxx";window._onmsZoneId=void 0;var n=new XMLHttpRequest;n.onreadystatechange=function(){try{if(n.readyState===XMLHttpRequest.DONE){if(200===n.status){var r=JSON.parse(n.responseText);r.datetimeformatConfig&&r.datetimeformatConfig.datetimeformat?(window._onmsDateTimeFormat=r.datetimeformatConfig.datetimeformat||o,window._onmsZoneId=r.datetimeformatConfig.zoneId):(console.log("Error: datetimeformatConfig property not found:",r),window._onmsDateTimeFormat=o)}else console.log("Error: failed to request format info: "+n.status+" "+n.statusText),window._onmsDateTimeFormat=o;e(t,n.status)}}catch(r){console.log("Error: failed to request format info: ",r),window._onmsDateTimeFormat=o,e(t,n.status)}},n.open("GET","rest/info"),n.setRequestHeader("Accept","application/json"),n.send()},s.prototype.assertInitialized=function(){if(!window._onmsDateTimeFormat)throw console.log("OnmsDateFormatter.init() must complete before using!"),new Error("OnmsDateFormatter.init() must complete before using!")},s.prototype.getZoneId=function(){return this.assertInitialized(),this._zoneId||(window._onmsZoneId?this._zoneId=window._onmsZoneId:(console.warn("No zone ID specified from the server; guessing based on browser."),this._zoneId=a.tz.guess())),this._zoneId},s.prototype.format=function(e){if(this.assertInitialized(),null==e)return e;var t=this.getZoneId();return a.tz(e,t).formatJavaDTF(window._onmsDateTimeFormat)},function(){if("undefined"==typeof jest){var e=new s;e.init((function(){window._onmsFormatter=e}))}else console.log("Running in a test environment. Skipping automatic initialization.")}(),window.angular?(angular.module("onmsDateFormatter",["ng"]).factory("DateFormatterService",["$interval","$q",function(e,t){console.log("Initializing DateFormatterService");var o=t.defer(),n=0,r=e((function(){window._onmsFormatter&&(console.log("Global formatter found: "+window._onmsDateTimeFormat),o.resolve(window._onmsFormatter),e.cancel(r)),n++>300&&(console.log("DateFormatterService: giving up waiting for global formatter."),e.cancel(r))}),100);return{raw:window._onmsFormatter,formatter:o.promise,format:function(e){return o.promise.then((function(t){return t.format(e)}))}}}]),(0,n.default)(r=angular.module("onmsDateFormatter")).call(r,"onmsDate",["$filter","DateFormatterService",function(e,t){return function(t,o){var n;return null!=(n=window._onmsFormatter?window._onmsFormatter.format(t):e("date")(t,"yyyy-MM-ddTHH:mm:ss.sssZ"))?n:o}}]),angular.module("onmsDateFormatter").directive("onmsDate",["DateFormatterService",function(e){return{restrict:"E",compile:function(t){e.format(t.text()).then((function(e){t.replaceWith(e)})).catch((function(e){console.error("Failed to format "+t.text(),e)}))}}}])):console.log("Angular not found.  Not initializing OnmsDateFormatter Angular components."),e.exports=s},22:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/lib/onms-http/403-permission-denied.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span> <div class="modal-header"> <h3><i class="fa fa-exclamation-triangle text-warning"></i> Permission Denied</h3> </div> <div class="modal-body"> <h5> You are not allowed to perform the requested action. </h5> <p class="text-muted"> This is not supposed to happen. Please reload the page and contact your administrator if this occurs more often. </p> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-click="reload()">Reload</button> </div> </span>')}]),e.exports=t},26:function(e,exports,t){"use strict";var o=t(15),n=t(17),r=t(18);o(exports,"__esModule",{value:!0}),exports.default=void 0,t(14);var a,s=(a=t(21))&&a.__esModule?a:{default:a};function i(e){return i="function"==typeof n&&"symbol"==typeof r?function(e){return typeof e}:function(e){return e&&"function"==typeof n&&e.constructor===n&&e!==n.prototype?"symbol":typeof e},i(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o(e,(a=r.key,l=void 0,l=function(e,t){if("object"!==i(e)||null===e)return e;var o=e[s.default];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===i(l)?l:String(l)),r)}var a,l}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getBaseHref",value:function(){var e=document.getElementsByTagName("base")[0];return e?e.href:""}},{key:"setLocation",value:function(t){window&&window.location&&(window.location.href=e.getBaseHref()+t)}},{key:"toggle",value:function(e,t){var o=document.getElementsByName(t);for(var n in o)o.hasOwnProperty(n)&&(o[n].checked=e)}}],(n=null)&&l(t.prototype,n),r&&l(t,r),o(t,"prototype",{writable:!1}),e}();exports.default=c},291:function(e,exports,t){"use strict";t(134);var o=t(83);console.log("init: bootbox-js"),e.exports=window.bootbox=o},3:function(e,exports,t){"use strict";t(5);var angular=t(40);t(53),t(54),t(55),t(56),t(51),t(57),t(58),t(59),t(60),t(12),t(61),t(62),console.log("init: angular-js "+angular.version.full),e.exports=window.angular=angular},42:function(e,exports,t){"use strict";var o,n=(o=t(26))&&o.__esModule?o:{default:o};var angular=t(3);t(10);var r=t(43),a=t(44);angular.module("onms-search",["onms.http","ui.bootstrap"]).config(["$locationProvider",function(e){e.hashPrefix("")}]).directive("onmsSearchNodes",(function(){return{restrict:"E",transclude:!0,templateUrl:a,controller:"NodeSearchCtrl"}})).directive("onmsSearchKsc",(function(){return{restrict:"E",transclude:!0,templateUrl:r,controller:"KscSearchCtrl"}})).controller("NodeSearchCtrl",["$scope","$window","$http",function($scope,e,t){$scope.getNodes=function(e){return t({url:"rest/nodes",method:"GET",params:{label:e,comparator:"contains"}}).then((function(e){return e.data.node}))},$scope.goToChooseResources=function(t){e.location.href=n.default.getBaseHref()+"graph/chooseresource.jsp?node="+t.id}}]).controller("KscSearchCtrl",["$scope","$window","$http","$filter",function($scope,e,t,o){$scope.getKscReports=function(e){return t({url:"rest/ksc",method:"GET"}).then((function(t){return o("filter")(t.data.kscReport,e)}))},$scope.goToKscReport=function(t){e.location.href=n.default.getBaseHref()+"KSC/customView.htm?type=custom&report="+t.id}}])},43:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/search/template.ksc.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group"> <div class="input-group"> <input type="text" class="form-control" ng-model="asyncKsc" placeholder="Type the KSC report name" uib-typeahead="ksc as ksc.label for ksc in getKscReports($viewValue)" typeahead-editable="false" typeahead-loading="kscLoadingNodes" typeahead-no-results="kscNoResults" typeahead-min-length="1" typeahead-on-select="goToKscReport($item)"> <div class="input-group-append"> <span class="input-group-text"><i class="fa fa-search"></i></span> </div> </div> <i ng-show="kscLoadingNodes" class="fa fa-refresh"></i> <p class="form-text text-muted" ng-show="kscNoResults"> <i class="fa fa-remove"></i> No Results Found </p> </div> ')}]),e.exports=t},44:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/search/template.nodes.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group"> <div class="input-group"> <input type="text" class="form-control" ng-model="asyncNode" placeholder="Type the node label" uib-typeahead="node as node.label for node in getNodes($viewValue)" typeahead-editable="false" typeahead-loading="nodeLoadingNodes" typeahead-no-results="nodeNoResults" typeahead-min-length="1" typeahead-on-select="goToChooseResources($item)"> <div class="input-group-append"> <span class="input-group-text"><i class="fa fa-search"></i></span> </div> </div> <i ng-show="nodeLoadingNodes" class="fa fa-refresh"></i> <p class="form-text text-muted" ng-show="nodeNoResults"> <i class="fa fa-remove"></i> No Results Found </p> </div> ')}]),e.exports=t},45:function(e,exports,t){"use strict";t(13);var o=i(t(69)),n=i(t(9)),r=i(t(11)),a=i(t(46)),s=i(t(16));function i(e){return e&&e.__esModule?e:{default:e}}var angular=t(3);t(10),t(90),t(91),t(80);var l=t(47),c=function(e,t){t.data?e.error=t.data:e.error="An unexpected error occurred while handling the request"};angular.module("onms.central.search",["angular-loading-bar","ngResource","ui.router","onms.http"]).config(["$locationProvider",function(e){e.hashPrefix("")}]).directive("onmsCentralSearch",(function(){return{restrict:"E",transclude:!1,templateUrl:l,controller:"QuickSearchController"}})).factory("SearchResource",["$resource",function(e){return e("api/v2/search",{},{query:{method:"GET",isArray:!0,cancellable:!0}})}]).controller("QuickSearchController",["$scope","SearchResource","$timeout","$document",function($scope,e,t,i){var l=13,d=16,u=27,p=38,m=40,f="Group",h="Item",g="More";$scope.query="",$scope.results={},$scope.performSearchExecuted=!1,$scope.showLoadingIndicator=!1,$scope.showLoadingIndicatorDelay=250,$scope.performSearchDelay=500,$scope.performSearchPromise=void 0,$scope.performSearchHandle=void 0,$scope.showLoadingIndicatorPromise=void 0,$scope.shiftLastPressed=void 0,$scope.selectedIndex=0,(0,o.default)(i).call(i,"mousedown",(function(e){var o=$("#onms-search-form").has(e.target).length>0,n=$("#onms-search-form").is(e.target);o||n||t((function(){$scope.resetQuery(),$scope.cancelRequest()}))})),(0,o.default)(i).call(i,"keyup",(function(e){t((function(){e.keyCode===d&&new Date-$scope.shiftLastPressed<=350?(angular.element("#onms-search-query").focus(),angular.element("#onms-search-query").select(),$scope.shiftLastPressed=void 0):e.keyCode===d&&($scope.shiftLastPressed=new Date),e.keyCode===u&&($scope.resetQuery(),$scope.cancelRequest())}))})),(0,o.default)(i).call(i,"keydown",(function(e){t((function(){if($scope.results.length>0){var o=document.getElementById("onms-search-result-item-"+$scope.selectedIndex);if(e.keyCode===p||e.keyCode===m){$scope.navigateSearchResult(e.keyCode);var n=document.getElementById("onms-search-result"),r=n.clientHeight,a=o.clientHeight,s=o.offsetTop;s+a+25>=r+n.scrollTop&&(n.scrollTop=s),0!==n.scrollTop&&n.scrollTop>s-a&&(n.scrollTop=s-a)}e.keyCode===l&&($scope.results[$scope.selectedIndex].type===g?t((function(){angular.element(o).triggerHandler("click")}),0):($scope.resetQuery(),$scope.cancelRequest(),o.click()))}}))})),$scope.navigateSearchResult=function(e){switch($scope.results[$scope.selectedIndex].selected=!1,e){case p:$scope.selectedIndex--;break;case m:$scope.selectedIndex++}$scope.selectedIndex<1&&($scope.selectedIndex=1),$scope.selectedIndex>=$scope.results.length&&($scope.selectedIndex=$scope.results.length-1),$scope.results[$scope.selectedIndex].type===f?$scope.navigateSearchResult(e):$scope.results[$scope.selectedIndex].selected=!0},$scope.resetQuery=function(){$scope.query="",$scope.results=[],$scope.performSearchExecuted=!1,$scope.performSearchHandle&&$scope.performSearchHandle.$cancelRequest()},$scope.cancelRequest=function(){$scope.performSearchHandle&&$scope.performSearchHandle.$cancelRequest(),$scope.showLoadingIndicator=!1,t.cancel($scope.showLoadingIndicatorPromise)},$scope.select=function(e){var t=e||1;$scope.selectedIndex>=1&&($scope.results[$scope.selectedIndex].selected=!1),$scope.selectedIndex=t,$scope.results[$scope.selectedIndex].selected=!0},$scope.onQueryChange=function(){0!=$scope.query.length?$scope.query.length<3||(t.cancel($scope.performSearchPromise),$scope.results=[],$scope.performSearchExecuted=!1,$scope.performSearchPromise=t((function(){t.cancel($scope.showLoadingIndicatorPromise),$scope.showLoadingIndicatorPromise=t((function(){$scope.showLoadingIndicator=!0}),$scope.showLoadingIndicatorDelay),$scope.performSearchHandle&&$scope.performSearchHandle.$cancelRequest(),$scope.error=void 0,$scope.performSearchHandle=e.query({_s:$scope.query},(function(t){$scope.cancelRequest(),$scope.performSearchExecuted=!0;var o=[];(0,n.default)(t).call(t,(function(t){var i;if(o.push({context:t.context.name,label:t.results.length>1?t.context.name+"s":t.context.name,type:f,count:t.results.length,more:t.more}),(0,n.default)(i=t.results).call(i,(function(e){e.type=h,o.push(e)})),!0===t.more){var l={context:t.context.name,count:t.results.length,type:g,loadMore:function(){$scope.error=void 0,e.query({_s:$scope.query,_l:this.count+10,_c:this.context},(function(e){var t,o,i,c,d=(0,r.default)(t=$scope.results).call(t,l),u=e[0],p=(0,a.default)(o=u.results).call(o,d-1);(0,n.default)(p).call(p,(function(e,t){var o;e.type=h,(0,s.default)(o=$scope.results).call(o,d+t,0,e),l.count++})),l.selected=!1,$scope.results[$scope.selectedIndex].selected=!0,!1===u.more&&(0,s.default)(i=$scope.results).call(i,(0,r.default)(c=$scope.results).call(c,l),1)}),(function(e){$scope.performSearchExecuted=!0,c($scope,e)}))},selected:!1};o.push(l)}})),$scope.results=o,0!=$scope.results.length&&($scope.selectedIndex=1,$scope.results[$scope.selectedIndex].selected=!0)}),(function(e){e.status>=0&&($scope.performSearchExecuted=!0,c($scope,e),$scope.cancelRequest())}))}),$scope.performSearchDelay)):$scope.resetQuery()}}])},47:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-central-search/quicksearch.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span> <style>.search-result{max-height:700px;min-width:280px;max-width:60%;position:absolute;top:100%;z-index:100000;overflow:auto;border:#343a40 solid 1px}.search-result .list-group-item{padding:.25rem .75rem;font-size:90%}.search-result .list-group-item:last-child{border-bottom-right-radius:0;border-bottom-left-radius:0}.search-bar .form-control{border:none;outline:0;box-shadow:none;border-radius:1rem;padding:0}.search-bar .input-group-text{border-top-left-radius:1rem;border-bottom-left-radius:1rem;background-color:#fff;border-color:#fff}.search-result .list-group-item:hover{background-color:#e9ecef}.selected{background-color:#e9ecef}</style> <form id="onms-search-form" autocomplete="off" novalidate class="form-inline"> <input autocomplete="false" name="hidden" type="text" style="display:none"> <div class="input-group search-bar"> <div class="input-group-prepend"> <div class="input-group-text"><i class="fa fa-search"></i></div> </div> <label class="form-control"> <input id="onms-search-query" ng-change="onQueryChange()" ng-focus="input.focus=true" ng-blur="input.focus=false" ng-model="query" type="text" class="form-control" placeholder="Search..." aria-label="Search"> <small class="text-muted mr-4 quick-search-chevron" ng-show="!input.focus"> <span></span> <span></span> </small> </label> <div ng-if="showLoadingIndicator" class="btn btn-secondary rounded-0"> <div class="spinner-border spinner-border-sm text-white" role="status"></div> <span class="sr-only">Loading...</span> </div> <div ng-if="performSearchExecuted === true && !showLoadingIndicator" class="input-group-append"> <button class="btn btn-secondary" type="button" title="Reset Search" ng-click="resetQuery()"><i class="fa fa-times"></i></button> </div> <div ng-if="showLoadingIndicator" class="input-group-append"> <button class="btn btn-secondary" type="button" title="Cancel Request" ng-click="cancelRequest()"><i class="fa fa-times"></i></button> </div> </div> <div ng-if="performSearchExecuted === true" class="bg-dark search-result rounded-bottom" id="onms-search-result"> <div class="list-group" ng-if="results.length > 0"> <div id="onms-search-result-item-{{$index}}" ng-repeat-start="item in results track by $index" ng-if="item.type === \'Group\'" class="list-group-item bg-dark text-grey border-0 pl-2"> <span ng-if="!item.t">{{item.label}}</span> </div> <a id="onms-search-result-item-{{$index}}" ng-class="{\'selected\': item.selected}" ng-if="item.type === \'More\'" ng-click="item.loadMore()" class="list-group-item list-group-item-action" href ng-mouseover="select($index)">more...</a> <a id="onms-search-result-item-{{$index}}" ng-class="{\'selected\': item.selected}" ng-repeat-end ng-if="item.type === \'Item\'" href="{{item.url}}" class="list-group-item list-group-item-action" ng-mouseover="select($index)" ng-click="resetQuery()"> <h6 class="mb-0"><i class="{{item.icon}}" ng-if="item.icon">&nbsp;</i>{{item.label}} <i style="-webkit-transform:scaleY(-1);transform:scaleY(-1)" class="fa fa-reply pull-right" ng-if="item.selected"></i></h6> <small class="mr-4" ng-class="{\'text-muted\': !item.selected}" ng-repeat="match in item.matches">{{match.label}}: {{match.value}}</small> <br ng-if="item.info !== \'\'"> <small class="mr-4" ng-class="{\'text-muted\': !item.selected}" ng-if="item.info !== \'\'">{{item.info}}</small> </a> </div> <div ng-if="!error && results.length === 0" class="text-grey"> <span>No Results found</span> </div> <div ng-if="error" class="alert alert-danger mx-2 my-2"> <span>{{error}}</span> </div> </div> </form> </span> ')}]),e.exports=t},5:function(e,exports,t){"use strict";console.log("init: jquery-js");var jQuery=t(7);t(28),e.exports=jQuery},63:function(e,exports,t){"use strict";var angular=t(3);t(42),t(45);angular.module("onms.default.apps",["onms.central.search","onms-search"])},8:function(e,exports,t){"use strict";console.log("init: moment-js");var o=t(1);t(35),t(36),e.exports=o},989:function(e,exports,t){"use strict";var o=a(t(9)),n=a(t(11)),r=a(t(29));function a(e){return e&&e.__esModule?e:{default:e}}var angular=t(3),s=t(291);t(10),t(136),t(63);var i=t(990);angular.module("onms-assets",["onms.http","onms.default.apps","ui.bootstrap","angular-growl","onmsDateFormatter"]).config(["$locationProvider",function(e){e.hashPrefix("")}]).config(["growlProvider",function(e){e.globalTimeToLive(3e3),e.globalPosition("bottom-center")}]).config(["$uibTooltipProvider",function(e){e.setTriggers({mouseenter:"mouseleave"}),e.options({placement:"right",trigger:"mouseenter"})}]).controller("NodeAssetsCtrl",["$scope","$http","$q","growl","uibDateParser",function($scope,e,t,a,l){$scope.blackList=["id","lastModifiedDate","lastModifiedBy","lastCapsdPoll","createTime"],$scope.infoKeys=["sysObjectId","sysName","sysLocation","sysContact","sysDescription"],$scope.dateKeys=["dateInstalled","leaseExpires","maintContractExpiration"],$scope.dateFormat="yyyy-MM-dd",$scope.config={},$scope.master={},$scope.asset={},$scope.suggestions={},$scope.init=function(t){$scope.nodeId=t,$scope.config=i,e.get("rest/nodes/"+$scope.nodeId).then((function(e){var t=e.data;$scope.nodeLabel=t.label,$scope.foreignSource=t.foreignSource,$scope.foreignId=t.foreignId,(0,o.default)(angular).call(angular,$scope.dateKeys,(function(e){t.assetRecord[e]=l.parse(t.assetRecord[e],$scope.dateFormat)})),$scope.master=angular.copy(t.assetRecord),$scope.asset=angular.copy(t.assetRecord),(0,o.default)(angular).call(angular,$scope.infoKeys,(function(e){$scope.asset[e]=t[e]}))}),(function(e){a.error(e.data)})),e.get("rest/assets/suggestions").then((function(e){$scope.suggestions=e.data}),(function(e){a.error(e.data)}))},$scope.getSuggestions=function(e){return $scope.suggestions[e]?$scope.suggestions[e].suggestion:[]},$scope.reset=function(){$scope.asset=angular.copy($scope.master),$scope.assetForm.$setPristine()},$scope.save=function(){var t={};for(var o in $scope.asset){var s,i,c;if(-1===(0,n.default)(s=$scope.infoKeys).call(s,o)&&-1===(0,n.default)(i=$scope.blackList).call(i,o)&&""!==$scope.asset[o]&&null!==$scope.asset[o])t[o]=-1===(0,n.default)(c=$scope.dateKeys).call(c,o)?$scope.asset[o]:(0,r.default)(l).call(l,$scope.asset[o],$scope.dateFormat)}e({method:"PUT",url:"rest/nodes/"+$scope.nodeId+"/assetRecord",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param(t)}).then((function(){a.success("The asset record has been successfully updated."),$scope.checkRequisition(t)}),(function(e){a.error("Cannot update the asset record: "+e.data)}))},$scope.checkRequisition=function(e){$scope.foreignSource&&$scope.foreignId&&s.confirm("This node belongs to the requisition "+$scope.foreignSource+".<br/> It is recommended to update the requisition with your asset fields, but all the existing fields will be overriden.<br/> Do you want to do that ?",(function(t){t&&$scope.updateRequisition(e)}))},$scope.updateRequisition=function(t){var o=[];for(var n in t)t.hasOwnProperty(n)&&o.push({name:n,value:t[n]});e.get("rest/requisitions/"+$scope.foreignSource+"/nodes/"+$scope.foreignId).then((function(t){var n=t.data;n.asset=o,e.post("rest/requisitions/"+$scope.foreignSource+"/nodes",n).then((function(){a.success("Requisition "+$scope.foreignSource+" has been updated.")}),(function(){a.error("Cannot update requisition "+$scope.foreignSource)}))}),(function(){a.error("Cannot obtain node data from requisition "+$scope.foreignSource)}))}}])},990:function(e){e.exports=JSON.parse('{"rows":[{"columns":[{"class":"col-md-6","panels":[{"title":"SNMP Info","fields":[{"label":"System ID","tooltip":"System ID, information from SNMP agent","model":"sysObjectId","type":"static"},{"label":"System Name","tooltip":"System Name, information from SNMP agent","model":"sysName","type":"static"},{"label":"System Location","tooltip":"System Location, information from SNMP agent","model":"sysLocation","type":"static"},{"label":"System Contact","tooltip":"System Contact, information from SNMP agent","model":"sysContact","type":"static"},{"label":"System Description","tooltip":"System Description, information from SNMP agent","model":"sysDescription","type":"static"}]}]}]},{"columns":[{"class":"col-md-6","panels":[{"title":"Identification","fields":[{"label":"Description","tooltip":"Description of the device\'s purpose (E.G. Core P2P Router, Egress Internet Router, Etc.)","model":"description","type":"text"},{"label":"Category","tooltip":"This column is to be used to specify what category of Network Element this device would fall into (E.G. WAN Router, Firewall, Etc.). Expected only Alphanumeric, \'-\' and \'_\'.","model":"category","pattern":"^[A-Za-z0-9_-]*$","type":"text"},{"label":"Manufacturer","tooltip":"Manufacturer - Self explanatory","model":"manufacturer","type":"text"},{"label":"Model Number","tooltip":"Model number of the device (E.G. Cisco 3845, Oki B4400, Etc.)","model":"modelNumber","type":"text"},{"label":"Serial Number","tooltip":"Serial Number","model":"serialNumber","type":"text"},{"label":"Asset Number","tooltip":"This field should be used if the organization employs asset tags for inventory purposes","model":"assetNumber","type":"text"},{"label":"Date Installed","tooltip":"A handy dandy place to keep the date this equipment went into service, just in case the bean counters or your boss ask you for any particulars on this device","model":"dateInstalled","type":"date"},{"label":"Operating System","tooltip":"Operating System","model":"operatingSystem","type":"text"}]}]},{"class":"col-md-6","panels":[{"title":"Configuration Categories","fields":[{"label":"Display Category","tooltip":"This column is to be used to specify what category of Network Element this device would fall into (E.G. WAN Router, Firewall, Etc.). Expected only Alphanumeric, \'-\' and \'_\'.","model":"displayCategory","pattern":"^[A-Za-z0-9_-]*$","type":"text"},{"label":"Notification Category","tooltip":"This could be something like \'serverAdmin\' or \'networkAdmin\' to be used in filter rules for directing notifications. Expected only Alphanumeric, \'-\' and \'_\'.","model":"notifyCategory","pattern":"^[A-Za-z0-9_-]*$","type":"text"},{"label":"Poller Category","tooltip":"This is to be used in filter rules to define devices in a particular poller package. Expected only Alphanumeric, \'-\' and \'_\'.","model":"pollerCategory","pattern":"^[A-Za-z0-9_-]*$","type":"text"},{"label":"Threshold Category","tooltip":"This is to be used in filter rules to define devices in a particular thresholding package. Expected only Alphanumeric, \'-\' and \'_\'.","model":"thresholdCategory","pattern":"^[A-Za-z0-9_-]*$","type":"text"}]}]}]},{"columns":[{"class":"col-md-6","panels":[{"title":"Location","fields":[{"label":"State","tooltip":"Continuation of address","model":"state","type":"text"},{"label":"Region","tooltip":"On a geographically or otherwise determined regional basis","model":"region","type":"text"},{"label":"Address 1","tooltip":"Street address of this device (For technician dispatch)","model":"address1","type":"text"},{"label":"Address 2","tooltip":"Continuation of address","model":"address2","type":"text"},{"label":"City","tooltip":"Continuation of address","model":"city","type":"text"},{"label":"ZIP","tooltip":"Postal code (ZIP code)","model":"zip","type":"text"},{"label":"Country","tooltip":"Country","model":"country","type":"text"},{"label":"Longitude","tooltip":"Geo Longitude","model":"longitude","pattern":"^[0-9.-]*$","type":"text"},{"label":"Latitude","tooltip":"Geo Latitude","model":"latitude","pattern":"^[0-9.-]*$","type":"text"},{"label":"Division","tooltip":"Standard corporate mumbo jumbo for the bean counters getting ever more granular on where money gets spent. Populate as you fee fit, or as dictated.","model":"division","type":"text"},{"label":"Department","tooltip":"More of the above, but more simple (E.G. Accounting, Collections, IT, Etc.)","model":"department","type":"text"},{"label":"Building","tooltip":"If this address is part of a complex/campus, this field allows additional granularity.","model":"building","type":"text"},{"label":"Floor","tooltip":"Floor on which this node is located, for technician dispatch.","model":"floor","type":"text"},{"label":"Room","tooltip":"Room number where this node is located, for technician dispatch","model":"room","type":"text"},{"label":"Rack","tooltip":"This field should be used to designate the rack in specific that this piece of equipment is located in at a given location (E.G. Server3; Network5; Isle C-Bay5;105.12, Etc.) preferably by using both Bay & Isle coordinates","model":"rack","type":"text"},{"label":"Rack unit height","tooltip":"Rack unit height of node: 1, 2, 3, ...","model":"rackunitheight","pattern":"^[0-9]*$","type":"text"},{"label":"Slot","tooltip":"This field should be used to designate what slot in a chassis/shelf this node occupies","model":"slot","type":"text"},{"label":"Port","tooltip":"Port on a given card or device being monitored","model":"port","type":"text"},{"label":"Circuit ID","tooltip":"This field should contain the Circuit ID of the ISP/Carrier\'s designation to which this equipment terminates a connection. For DSL a phone number (or whatever identifying charistic of the LEC should be populated here) to this device\'s Voice or Data egress.","model":"circuitId","type":"text"},{"label":"Admin","tooltip":"Admin contact at the given location","model":"admin","type":"text"}]}]},{"class":"col-md-6","panels":[{"title":"Hardware","fields":[{"label":"CPU","tooltip":"Type of CPU in this node","model":"cpu","type":"text"},{"label":"RAM","tooltip":"RAM","model":"ram","type":"text"},{"label":"Additional Hardware","tooltip":"Additional Hardware","model":"additionalhardware","type":"text"},{"label":"Number of Power Supplies","tooltip":"Number of power supplies (numeric value expected)","model":"numpowersupplies","pattern":"^[0-9]*$","type":"text"},{"label":"Input Power","tooltip":"Input power \'type\' (numeric value expected)","model":"inputpower","pattern":"^[0-9]*$","type":"text"},{"label":"Storage Controller","tooltip":"Storage Controller","model":"storagectrl","type":"text"},{"label":"HDD 1","tooltip":"Hard disk drive information","model":"hdd1","type":"text"},{"label":"HDD 2","tooltip":"Hard disk drive information","model":"hdd2","type":"text"},{"label":"HDD 3","tooltip":"Hard disk drive information","model":"hdd3","type":"text"},{"label":"HDD 4","tooltip":"Hard disk drive information","model":"hdd4","type":"text"},{"label":"HDD 5","tooltip":"Hard disk drive information","model":"hdd5","type":"text"},{"label":"HDD 6","tooltip":"Hard disk drive information","model":"hdd6","type":"text"}]},{"title":"Authentication","fields":[{"label":"Username","tooltip":"Username","model":"username","type":"text"},{"label":"Password","tooltip":"Password","model":"password","type":"password"},{"label":"Enable Password","tooltip":"Enable Password: used only if AutoEnable is not set to \'A\'","model":"enable","type":"password"},{"label":"Connection","tooltip":"Connection","model":"connection","type":"select","options":["telnet","ssh","rsh",""]},{"label":"Auto Enable","tooltip":"Whether the provided authentication user goes directly into \'enable\' mode on this node upon login.","model":"autoenable","type":"select","options":["A",""]},{"label":"SNMP Community","tooltip":"SNMP Community String (it is recommended to use snmp-config.xml instead)","model":"snmpcommunity","type":"text"}]}]}]},{"columns":[{"class":"col-md-6","panels":[{"title":"Vendor","fields":[{"label":"Name","tooltip":"Vendor who provides service for this device (If applicable, E.G. ISP, Local PBX Maintenance vendor, etc.)","model":"vendor","type":"text"},{"label":"Phone","tooltip":"Phone number of vendor that services (or provides service to) this equipment (E.G. ISP, PBX Vendor, Phone company, etc.)","model":"vendorPhone","type":"text"},{"label":"Fax","tooltip":"Fax number of the above vendor","model":"vendorFax","type":"text"},{"label":"Lease","tooltip":"A nice spot to populate the name of the leasing company or lease ID for this equipment","model":"lease","type":"text"},{"label":"Lease Expires","tooltip":"If all goes according to plan, this should be a date after you’ve got new equipment commissioned to take over for the service this equipment provides","model":"leaseExpires","type":"date"},{"label":"Vendor Asset Number","tooltip":"If the vendor that supplies this equipment uses a asset tag of their own, populate that data here","model":"vendorAssetNumber","type":"text"},{"label":"Contract Number","tooltip":"Number / ID of maintenance contract","model":"maintcontract","type":"text"},{"label":"Contract Expires","tooltip":"Date when maintenance contract expires","model":"maintContractExpiration","type":"date"},{"label":"Maint Phone","tooltip":"Phone number for technical operational support for the device in question (Think Helpdesk, Phone Company, ISP NOC, Etc.)","model":"supportPhone","type":"text"}]}]}]},{"columns":[{"class":"col-md-6","panels":[{"title":"Comments","fields":[{"label":"Comment","tooltip":"Comments for this asset","model":"comment","type":"textarea"}]}]}]}]}')}},[[989,0]]])}));
//# sourceMappingURL=onms-assets.min.js.map