{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///./src/main/assets/js/apps/onms-date-formatter/index.js","webpack:///./src/main/assets/js/apps/onms-elementList/lib/elementList.js","webpack:///./src/main/assets/js/apps/onms-elementList/lib/restResources.js","webpack:///./src/main/assets/js/apps/onms-elementList/minion-elementList/index.js","webpack:///./src/main/assets/js/apps/onms-elementList/minion-elementList/main.html","webpack:///./src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editInPlace.html","webpack:///./src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editListInPlace.html","webpack:///./src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editMapInPlace.html","webpack:///./src/main/assets/js/lib/onms-http/403-permission-denied.html","webpack:///./src/main/assets/js/lib/onms-http/index.js","webpack:///./src/main/assets/js/vendor/angular-js.js","webpack:///./src/main/assets/js/vendor/bootstrap-js.js","webpack:///./src/main/assets/js/vendor/jquery-js.js","webpack:///./src/main/assets/js/vendor/moment-js.js"],"names":["angular","require","moment","OnmsDateFormatter","prototype","init","readyCallback","self","defaultFormat","window","_onmsZoneId","undefined","xhr","XMLHttpRequest","onreadystatechange","readystatechange","readyState","DONE","status","config","JSON","parse","responseText","datetimeformatConfig","datetimeformat","_onmsDateTimeFormat","zoneId","console","log","statusText","e","open","setRequestHeader","send","assertInitialized","Error","getZoneId","_zoneId","warn","tz","guess","format","date","momentDate","formatJavaDTF","jest","f","_onmsFormatter","_context","module","factory","DateFormatterService","$interval","$q","deferred","defer","count","i","resolve","cancel","raw","formatter","promise","then","_filter","default","call","$filter","onmsDate","input","ifEmpty","ret","directive","dateFormatterService","restrict","compile","element","text","formatted","replaceWith","catch","error","exports","MODULE_NAME","ISO_8601_DATE_FORMAT","ISO_8601_DATE_FORMAT_WITHOUT_MILLIS","jQuery","editInPlaceTemplate","editListInPlaceTemplate","editMapInPlaceTemplate","appendTransform","defaultTransform","transform","t","isArray","_concat","escapeSearchValue","value","replace","toFiql","clauses","first","fiql","length","property","operator","fromFiql","statements","split","segments","_context2","_context3","_context4","_context5","_context6","_indexOf","push","parseContentRange","contentRange","start","end","total","pattern","Number","normalizeOffset","offset","maxOffset","limit","newOffset","lastPageOffset","Math","floor","_context7","_context8","fuzzy","_trim","$locationProvider","hashPrefix","html5Mode","enabled","rewriteLinks","controller","$scope","editing","originalValue","copy","edit","unedit","onKeyup","$event","keyCode","submit","onSubmit","scope","item","valueType","step","templateUrl","transclude","$window","newValue","event","add","_values","confirmAndRemove","items","confirm","_splice","onEdit","_sort","values","newKey","key","keyType","$location","$log","debug","defaults","_s","searchClauses","orderBy","order","initialLimit","search","query","lastOffset","searchParam","newLimit","MAX_VALUE","$watch","queryParams","addSearchClause","clause","isDate","Date","getSearchClause","refresh","clauseEquals","a","b","addEpochTimestampSearchClause","removeSearchClause","_context9","_context10","removeSearchClauses","_context11","index","_context12","replaceSearchClause","oldClause","newClause","scopeOldClause","scopeNewClause","clearSearch","changeOrderBy","setOffset","o","setLimit","update","deleteItem","run","$rootScope","_interopRequireDefault","obj","__esModule","BASE_REST_URL","arrayify","data","headers","$resource","$http","id","method","transformResponse","url","_map","elementList","mainTemplate","minionFactory","minionNodes","getLink","minion","location","$parent","finally","join","get","params","response","node","foreignId","href","absUrl","saveMe","$delete","cancelWatch","alert","label","properties","$update","document","ready","bootstrap","_startsWith","permissionDeniedTemplate","responseError","rejection","$emit","reject","$httpProvider","common","interceptors","$uibModal","$on","baseTags","getElementsByTagName","headerLogoutForm","$uibModalInstance","reload","dismiss","size","backdrop","keyboard","version","full"],"mappings":"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","file":"minion-elementList.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn ","/* eslint no-console: 0 */\n\nconst angular = require('vendor/angular-js');\nconst moment = require('vendor/moment-js');\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction OnmsDateFormatter() {\n}\n\nOnmsDateFormatter.prototype.init = function init(readyCallback) {\n\tvar self = this;\n\tvar defaultFormat = \"yyyy-MM-dd'T'HH:mm:ssxxx\"; // eslint-disable-line quotes\n\twindow._onmsZoneId = undefined;\n\n\tvar xhr = new XMLHttpRequest();\n\txhr.onreadystatechange = function readystatechange() {\n\t\ttry {\n\t\t\tif (xhr.readyState === XMLHttpRequest.DONE) {\n\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\tvar config = JSON.parse(xhr.responseText);\n\t\t\t\t\tif (config.datetimeformatConfig && config.datetimeformatConfig.datetimeformat) {\n\t\t\t\t\t\twindow._onmsDateTimeFormat = config.datetimeformatConfig.datetimeformat || defaultFormat;\n\t\t\t\t\t\twindow._onmsZoneId = config.datetimeformatConfig.zoneId;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('Error: datetimeformatConfig property not found:',config);\n\t\t\t\t\t\twindow._onmsDateTimeFormat = defaultFormat;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('Error: failed to request format info: ' + xhr.status + ' ' + xhr.statusText);\n\t\t\t\t\twindow._onmsDateTimeFormat = defaultFormat;\n\t\t\t\t}\n\t\t\t\treadyCallback(self, xhr.status);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log('Error: failed to request format info: ', e);\n\t\t\twindow._onmsDateTimeFormat = defaultFormat;\n\t\t\treadyCallback(self, xhr.status);\n\t\t}\n\t};\n\txhr.open('GET', 'rest/info');\n\txhr.setRequestHeader('Accept', 'application/json');\n\txhr.send();\n};\n\nOnmsDateFormatter.prototype.assertInitialized = function assertInitialized() {\n\tif (!window._onmsDateTimeFormat) {\n\t\tconsole.log('OnmsDateFormatter.init() must complete before using!');\n\t\tthrow new Error('OnmsDateFormatter.init() must complete before using!');\n\t}\n};\n\nOnmsDateFormatter.prototype.getZoneId = function getZoneId() {\n\tthis.assertInitialized();\n\n\tif (!this._zoneId) {\n\t\tif (window._onmsZoneId) {\n\t\t\tthis._zoneId = window._onmsZoneId;\n\t\t} else {\n\t\t\tconsole.warn('No zone ID specified from the server; guessing based on browser.');\n\t\t\tthis._zoneId = moment.tz.guess();\n\t\t}\n\t}\n\treturn this._zoneId;\n};\n\nOnmsDateFormatter.prototype.format = function format(date) {\n\tthis.assertInitialized();\n\n\tif (date === undefined || date === null) {\n\t\treturn date;\n\t}\n\n\tconst zoneId = this.getZoneId();\n\tconst momentDate = moment.tz(date, zoneId);\n\treturn momentDate.formatJavaDTF(window._onmsDateTimeFormat);\n};\n\n(function() {\n\t'use strict';\n\tif (typeof jest === 'undefined') {\n\t\tvar f = new OnmsDateFormatter();\n\t\tf.init(function() {\n\t\t\twindow._onmsFormatter = f;\n\t\t});\n\t} else {\n\t\tconsole.log('Running in a test environment. Skipping automatic initialization.');\n\t}\n})();\n\n(function() {\n\t'use strict';\n\n\tif (window.angular) {\n\t\tangular.module('onmsDateFormatter', ['ng']).factory('DateFormatterService', ['$interval', '$q', function DateFormatterService($interval, $q) {\n\t\t\tconsole.log('Initializing DateFormatterService');\n\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar count = 0;\n\t\t\tvar i = $interval(function() {\n\t\t\t\tif (window._onmsFormatter) {\n\t\t\t\t\tconsole.log('Global formatter found: ' + window._onmsDateTimeFormat);\n\t\t\t\t\tdeferred.resolve(window._onmsFormatter);\n\t\t\t\t\t$interval.cancel(i);\n\t\t\t\t}\n\t\t\t\tif (count++ > 300) {\n\t\t\t\t\tconsole.log('DateFormatterService: giving up waiting for global formatter.');\n\t\t\t\t\t$interval.cancel(i);\n\t\t\t\t}\n\t\t\t}, 100);\n\n\t\t\treturn {\n\t\t\t\traw: window._onmsFormatter,\n\t\t\t\tformatter: deferred.promise,\n\t\t\t\tformat: function(date) {\n\t\t\t\t\treturn deferred.promise.then(function(f) {\n\t\t\t\t\t\treturn f.format(date);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\tangular.module('onmsDateFormatter').filter('onmsDate', ['$filter', 'DateFormatterService', function($filter, DateFormatterService) {\n\t\t\treturn function onmsDate(input, ifEmpty) {\n\t\t\t\tvar ret;\n\t\t\t\tif (window._onmsFormatter) {\n\t\t\t\t\t// If the formatter has finished initializing, use it\n\t\t\t\t\tret = window._onmsFormatter.format(input);\n\t\t\t\t\t//console.log('onmsDate: formatter returned: ' + ret);\n\t\t\t\t} else {\n\t\t\t\t\t// Otherwise, use ISO format\n\t\t\t\t\tret = $filter('date')(input, 'yyyy-MM-ddTHH:mm:ss.sssZ');\n\t\t\t\t\t//console.log('onmsDate: $filter(date) returned: ' + ret);\n\t\t\t\t}\n\t\t\t\tif (ret !== undefined && ret !== null) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t\treturn ifEmpty;\n\t\t\t}\n\t\t}]);\n\n\t\tangular.module('onmsDateFormatter').directive('onmsDate', ['DateFormatterService', function(dateFormatterService) {\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\tcompile: function(element) {\n\t\t\t\t\tdateFormatterService.format(element.text()).then(function(formatted) {\n\t\t\t\t\t\telement.replaceWith(formatted);\n\t\t\t\t\t}).catch(function(e) {\n\t\t\t\t\t\tconsole.error('Failed to format ' + element.text(), e);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}]);\n\t} else {\n\t\tconsole.log('Angular not found.  Not initializing OnmsDateFormatter Angular components.');\n\t}\n})();\n\nmodule.exports = OnmsDateFormatter;\n","const MODULE_NAME = 'onms.elementList';\n\n/**\n * ISO-8601 date format string.\n */\nwindow.ISO_8601_DATE_FORMAT = 'yyyy-MM-ddTHH:mm:ss.sssZ';\nwindow.ISO_8601_DATE_FORMAT_WITHOUT_MILLIS = 'yyyy-MM-ddTHH:mm:ssZ';\n\nconst angular = require('vendor/angular-js');\nconst jQuery = require('vendor/jquery-js');\nrequire('vendor/bootstrap-js');\n\nconst editInPlaceTemplate = require('../templates/angular-onms-elementList-editInPlace.html');\nconst editListInPlaceTemplate = require('../templates/angular-onms-elementList-editListInPlace.html');\nconst editMapInPlaceTemplate = require('../templates/angular-onms-elementList-editMapInPlace.html');\n\n/**\n * Function used to append an extra transformer to the default $http transforms.\n */\nconst appendTransform = (defaultTransform, transform) => {\n\tconst t = angular.isArray(defaultTransform) ? defaultTransform : [ defaultTransform ];\n\treturn t.concat(transform);\n};\n\n/**\n * Escape FIQL reserved characters by URL-encoding them. Reserved characters are:\n * <ul>\n * <li>!</li>\n * <li>$</li>\n * <li>'</li>\n * <li>(</li>\n * <li>)</li>\n * <li>*</li>\n * <li>+</li>\n * <li>,</li>\n * <li>;</li>\n * <li>=</li>\n * </ul>\n * @param value\n * @returns String with reserved characters URL-encoded\n */\nconst escapeSearchValue = (value) => {\n\tif (typeof value === 'string') {\n\t\t\treturn value\n\t\t\t\t\t.replace('!', '%21')\n\t\t\t\t\t.replace('$', '%24')\n\t\t\t\t\t.replace('\\'', '%27')\n\t\t\t\t\t.replace('(', '%28')\n\t\t\t\t\t.replace(')', '%29')\n\t\t\t\t\t// People are going to type this in as a wildcard, so I\n\t\t\t\t\t// guess they'll have to type in '%2A' if they want to\n\t\t\t\t\t// match an asterisk...\n\t\t\t\t\t//.replace('*', '%2A')\n\t\t\t\t\t.replace('+', '%2B')\n\t\t\t\t\t.replace(',', '%2C')\n\t\t\t\t\t.replace(';', '%3B')\n\t\t\t\t\t.replace('=', '%3D');\n\t}\n\treturn value;\n};\n\n/**\n * Convert from a clause into a FIQL query string.\n */\nconst toFiql = (clauses) => {\n\tlet first = true;\n\tlet fiql = '';\n\tfor (let i = 0; i < clauses.length; i++) {\n\t\tif (!first) {\n\t\t\tfiql += ';';\n\t\t}\n\t\tfiql += clauses[i].property;\n\n\t\tswitch (clauses[i].operator) {\n\t\tcase 'EQ':\n\t\t\tfiql += '=='; break;\n\t\tcase 'NE':\n\t\t\tfiql += '!='; break;\n\t\tcase 'LT':\n\t\t\tfiql += '=lt='; break;\n\t\tcase 'LE':\n\t\t\tfiql += '=le='; break;\n\t\tcase 'GT':\n\t\t\tfiql += '=gt='; break;\n\t\tcase 'GE':\n\t\t\tfiql += '=ge='; break;\n\t\tdefault:\n\t\t\t// otherwise, do nothing\n\t\t\tbreak;\n\t\t}\n\n\t\tfiql += escapeSearchValue(clauses[i].value);\n\n\t\tfirst = false;\n\t}\n\treturn fiql;\n};\n\n/**\n * Convert from a FIQL query string into separate clause objects.\n * This only works for simple queries composed of multiple AND (';')\n * clauses.\n * \n * TODO: Expand this to cover more FIQL syntax\n */\nconst fromFiql = (fiql) => {\n\tlet statements = fiql.split(';');\n\tlet segments = [];\n\tlet clauses = [];\n\tfor (let i = 0; i < statements.length; i++) {\n\t\tif (statements[i].indexOf('==') > 0) {\n\t\t\tsegments = statements[i].split('==');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'EQ',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t} else if (statements[i].indexOf('!=') > 0) {\n\t\t\tsegments = statements[i].split('!=');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'NE',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t} else if (statements[i].indexOf('=lt=') > 0) {\n\t\t\tsegments = statements[i].split('=lt=');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'LT',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t} else if (statements[i].indexOf('=le=') > 0) {\n\t\t\tsegments = statements[i].split('=le=');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'LE',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t} else if (statements[i].indexOf('=gt=') > 0) {\n\t\t\tsegments = statements[i].split('=gt=');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'GT',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t} else if (statements[i].indexOf('=ge=') > 0) {\n\t\t\tsegments = statements[i].split('=ge=');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'GE',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t}\n\t}\n\treturn clauses;\n};\n\n\n/**\n * Parse an HTTP Content-Range header into the start, end, and total fields.\n * The header should be in a format like: \"items 0-14/28\".\n * \n * @param contentRange String from the Content-Range header\n */\nconst parseContentRange = (contentRange) => {\n\tif (!contentRange) {\n\t\treturn {start: 0, end: 0, total: 0};\n\t}\n\t// Example: items 0-14/28\n\tconst pattern = /items\\s+?(\\d+)\\s*-\\s*(\\d+)\\s*\\/\\s*(\\d+)/;\n\treturn {\n\t\tstart: Number(contentRange.replace(pattern, '$1')),\n\t\tend: Number(contentRange.replace(pattern, '$2')),\n\t\ttotal: Number(contentRange.replace(pattern, '$3'))\n\t};\n};\n\nconst normalizeOffset = (offset, maxOffset, limit) => {\n\tlet newOffset = offset;\n\n\t// Offset of the last page\n\tlet lastPageOffset;\n\tif (maxOffset < 0) {\n\t\tnewOffset = 0;\n\t\tlastPageOffset = 0;\n\t} else {\n\t\tlastPageOffset = Math.floor(maxOffset / limit) * limit; \n\t}\n\n\t// Bounds checking\n\tnewOffset = ((newOffset < 0) ? 0 : newOffset);\n\tnewOffset = ((newOffset > lastPageOffset) ? lastPageOffset : newOffset);\n\n\t// Make sure that offset is a multiple of limit\n\tnewOffset = Math.floor(newOffset / limit) * limit;\n\n\treturn newOffset;\n};\n\n/* // BMR: this doesn't seem to actually be used anywhere\nString.prototype.endsWith = function(suffix) {\n\treturn this.indexOf(suffix, this.length - suffix.length) !== -1;\n};\n*/\n\n// $filters that can be used to create human-readable versions of filter values\nangular.module('onmsListFilters', [])\n.filter('operator', function() {\n\treturn function(input, value) {\n\t\t// See if the string contains a wildcard\n\t\tvar fuzzy = (typeof value === 'string' && value.indexOf('*') > -1);\n\n\t\tswitch (input) {\n\t\tcase 'EQ':\n\t\t\treturn fuzzy ? 'is like' : 'equals';\n\t\tcase 'NE':\n\t\t\treturn fuzzy ? 'is not like' : 'does not equal';\n\t\tcase 'LT':\n\t\t\treturn 'is less than';\n\t\tcase 'LE':\n\t\t\treturn 'is less than or equal';\n\t\tcase 'GT':\n\t\t\treturn 'is greater than';\n\t\tcase 'GE':\n\t\t\treturn 'is greater than or equal';\n\t\tdefault:\n\t\t\t// If no match, return the input\n\t\t\treturn input;\n\t\t}\n\t}\n})\n.filter('isNotEmpty', function() {\n\treturn function(input) {\n\t\treturn input &&\n\t\t\t(typeof input === 'string' ? input.trim() !== '' : true);\n\t}\n})\n;\n\n// List module\nangular.module(MODULE_NAME, [])\n\n.config(/* @ngInject */ function($locationProvider) {\n\t$locationProvider.hashPrefix('');\n\t$locationProvider.html5Mode({\n\t\t// Use HTML5 \n\t\tenabled: true,\n\t\t// Don't rewrite all <a> links on the page\n\t\trewriteLinks: false\n\t});\n})\n\n.directive('onmsListEditInPlace', /* @ngInject */ function() {\n\treturn {\n\t\tcontroller: function($scope) {\n\t\t\t$scope.editing = false;\n\t\t\t$scope.originalValue = angular.copy($scope.value);\n\n\t\t\t// Start editing the value\n\t\t\t$scope.edit = function() {\n\t\t\t\t$scope.editing = true;\n\t\t\t}\n\n\t\t\t// Stop editing the value\n\t\t\t$scope.unedit = function() {\n\t\t\t\t$scope.editing = false;\n\t\t\t}\n\n\t\t\t$scope.onKeyup = function($event) {\n\t\t\t\t// If the user types ESC, then abort the edit\n\t\t\t\tif($event.keyCode === 27) {\n\t\t\t\t\t$scope.cancel();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.submit = function() {\n\t\t\t\t$scope.onSubmit();\n\t\t\t\t// TODO: Handle update failures\n\t\t\t\t// Now that we've save a new value, use it as the original value\n\t\t\t\t$scope.originalValue = $scope.value;\n\t\t\t\t// Switch out of edit mode\n\t\t\t\t$scope.unedit();\n\t\t\t}\n\n\t\t\t$scope.cancel = function() {\n\t\t\t\t// Restore the original value\n\t\t\t\t$scope.value = $scope.originalValue;\n\t\t\t\t// Switch out of edit mode\n\t\t\t\t$scope.unedit();\n\t\t\t}\n\t\t},\n\t\t// Use an isolated scope\n\t\tscope: {\n\t\t\titem: '=',\n\t\t\tvalue: '=',\n\t\t\tvalueType: '=',\n\t\t\t// Optional step attribute for number fields\n\t\t\tstep: '=',\n\t\t\tonSubmit: '&onSubmit'\n\t\t},\n\t\ttemplateUrl: editInPlaceTemplate,\n\t\ttransclude: true\n\t};\n})\n\n.directive('onmsListEditListInPlace', /* @ngInject */ function($window) {\n\treturn {\n\t\tcontroller: function($scope) {\n\t\t\t$scope.editing = false;\n\n\t\t\t// Start editing the value\n\t\t\t$scope.edit = function() {\n\t\t\t\t$scope.editing = true;\n\t\t\t}\n\n\t\t\t// Stop editing the value\n\t\t\t$scope.unedit = function() {\n\t\t\t\t// Undo any edits\n\t\t\t\t$scope.newValue = null;\n\t\t\t\t$scope.editing = false;\n\t\t\t}\n\n\t\t\t$scope.onKeyup = function(event) {\n\t\t\t\tswitch(event.keyCode) {\n\t\t\t\t// If the user types Enter, then submit the edit\n\t\t\t\tcase 13: $scope.add($scope.values, $scope.newValue); break;\n\t\t\t\t// If the user types ESC, then abort the edit\n\t\t\t\tcase 27: $scope.unedit(); break;\n\t\t\t\t// otherwise, do nothing\n\t\t\t\tdefault: break;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.confirmAndRemove = function(items, item) {\n\t\t\t\t// Splice the value out of the array\n\t\t\t\tif ($window.confirm('Are you sure you want to remove \"' + item + '\"?')) {\n\t\t\t\t\titems.splice(items.indexOf(item), 1);\n\t\t\t\t\t$scope.onEdit();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.add = function(items, item) {\n\t\t\t\titems.push(item);\n\t\t\t\titems.sort();\n\t\t\t\t// TODO: Handle update failures\n\t\t\t\t$scope.onEdit();\n\t\t\t\t// Switch out of edit mode\n\t\t\t\t$scope.unedit();\n\t\t\t}\n\t\t},\n\t\t// Use an isolated scope\n\t\tscope: {\n\t\t\tvalues: '=',\n\t\t\tvalueType: '=',\n\t\t\t// Optional step attribute for number fields\n\t\t\tstep: '=',\n\t\t\tonEdit: '&onEdit'\n\t\t},\n\t\ttemplateUrl: editListInPlaceTemplate,\n\t\ttransclude: true\n\t};\n})\n\n.directive('onmsListEditMapInPlace', /* @ngInject */ function($window) {\n\treturn {\n\t\tcontroller: function($scope) {\n\t\t\t$scope.editing = false;\n\n\t\t\t// Start editing the value\n\t\t\t$scope.edit = function() {\n\t\t\t\t$scope.editing = true;\n\t\t\t}\n\n\t\t\t// Stop editing the value\n\t\t\t$scope.unedit = function() {\n\t\t\t\t// Undo any edits\n\t\t\t\t$scope.newKey = null;\n\t\t\t\t$scope.newValue = null;\n\t\t\t\t$scope.editing = false;\n\t\t\t}\n\n\t\t\t$scope.onKeyup = function(event) {\n\t\t\t\tswitch(event.keyCode) {\n\t\t\t\t// If the user types Enter, then submit the edit\n\t\t\t\tcase 13: $scope.add($scope.values, $scope.newKey, $scope.newValue); break;\n\t\t\t\t// If the user types ESC, then abort the edit\n\t\t\t\tcase 27: $scope.unedit(); break;\n\t\t\t\t// otherwise, do nothing\n\t\t\t\tdefault: break;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.confirmAndRemove = function(items, key) {\n\t\t\t\t// Splice the value out of the array\n\t\t\t\tif ($window.confirm('Are you sure you want to remove \"' + key + '\"?')) {\n\t\t\t\t\tdelete items[key];\n\t\t\t\t\t$scope.onEdit();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.add = function(items, key, value) {\n\t\t\t\titems[key] = value;\n\t\t\t\t// TODO: Handle update failures\n\t\t\t\t$scope.onEdit();\n\t\t\t\t// Switch out of edit mode\n\t\t\t\t$scope.unedit();\n\t\t\t}\n\t\t},\n\t\t// Use an isolated scope\n\t\tscope: {\n\t\t\tvalues: '=',\n\t\t\tkeyType: '=',\n\t\t\tvalueType: '=',\n\t\t\t// Optional step attribute for number fields\n\t\t\tstep: '=',\n\t\t\tonEdit: '&onEdit'\n\t\t},\n\t\ttemplateUrl: editMapInPlaceTemplate,\n\t\ttransclude: true\n\t};\n})\n\n/**\n * Generic list controller\n */\n.controller('ListCtrl', ['$scope', '$location', '$window', '$log', '$filter', function($scope, $location, $window, $log, $filter) {\n\t$log.debug('ListCtrl initializing...');\n\n\t$scope.defaults = {\n\t\t_s: '',\n\t\tsearchClauses: [],\n\t\tlimit: 20,\n\t\toffset: 0,\n\t\torderBy: '',\n\t\torder: 'asc'\n\t}\n\n\tvar initialLimit = typeof $location.search().limit === 'undefined' ? $scope.defaults.limit : (Number($location.search().limit) > 0 ? Number($location.search().limit) : $scope.defaults.limit);\n\n\t// Restore any query parameters that you can from the \n\t// query string, blank out the rest\n\t$scope.query = {\n\t\tlastOffset: 0,\n\t\tmaxOffset: 0,\n\n\t\tsearchParam: typeof $location.search()._s === 'undefined' ? $scope.defaults._s : $location.search()._s,\n\t\tsearchClauses: typeof $location.search()._s === 'undefined' ? $scope.defaults.searchClauses : fromFiql($location.search()._s),\n\t\tlimit: initialLimit,\n\t\tnewLimit: initialLimit,\n\t\toffset: typeof $location.search().offset === 'undefined' ? $scope.defaults.offset : (Number($location.search().offset) > 0 ? normalizeOffset(Number($location.search().offset), Number.MAX_VALUE, initialLimit) : $scope.defaults.offset),\n\n\t\t// TODO: Validate that the orderBy is in a list of supported properties\n\t\torderBy: typeof $location.search().orderBy === 'undefined' ? $scope.defaults.orderBy : $location.search().orderBy,\n\t\torder: typeof $location.search().order === 'undefined' ? $scope.defaults.order : ($location.search().order === 'asc' ? 'asc' : 'desc')\n\t};\n\n\t// Sync the query hash with the $location query string\n\t$scope.$watch('query', function() {\n\t\tvar queryParams = angular.copy($scope.query);\n\n\t\t// Delete derived values that we don't need in the query string\n\t\tdelete queryParams.searchClauses;\n\t\tdelete queryParams.newLimit;\n\t\tdelete queryParams.lastOffset;\n\t\tdelete queryParams.maxOffset;\n\n\t\t// Rename searchParam to _s\n\t\tqueryParams._s = (queryParams.searchParam === '' ? null : queryParams.searchParam);\n\t\tdelete queryParams.searchParam;\n\n\t\t// Delete any parameters that have default or blank values\n\t\tif (queryParams.limit === $scope.defaults.limit || queryParams.limit === '') { delete queryParams.limit; }\n\t\tif (queryParams.offset === $scope.defaults.offset || queryParams.offset === '') { delete queryParams.offset; }\n\t\tif (queryParams.orderBy === $scope.defaults.orderBy || queryParams.orderBy === '') { delete queryParams.orderBy; }\n\t\tif (queryParams.order === $scope.defaults.order || queryParams.order === '') { delete queryParams.order; }\n\t\tif (queryParams._s === $scope.defaults._s || queryParams._s === '') { delete queryParams._s; }\n\n\t\t$location.search(queryParams);\n\t}, \n\ttrue // Use object equality because the reference doesn't change\n\t);\n\n\t// Add the search clause to the list of clauses\n\t$scope.addSearchClause = function(clause) {\n\t\tif(angular.isDate(clause.value)) {\n\t\t\t// Returns a value in yyyy-MM-ddTHH:mm:ss.sssZ format\n\t\t\t// Unfortunately, I don't think CXF will like this because\n\t\t\t// it includes the millisecond portion of the date.\n\t\t\t//clause.value = new Date(clause.value).toISOString();\n\n\t\t\tclause.value = $filter('date')(new Date(clause.value), ISO_8601_DATE_FORMAT);\n\t\t}\n\n\t\t// Make sure the clause isn't already in the list of search clauses\n\t\tif ($scope.getSearchClause(clause)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// TODO: Add validation?\n\t\t$scope.query.searchClauses.push(angular.copy(clause));\n\t\t$scope.query.searchParam = toFiql($scope.query.searchClauses);\n\t\t$scope.refresh();\n\t}\n\n\t$scope.getSearchClause = function(clause) {\n\t\tfor (var i = 0; i < $scope.query.searchClauses.length; i++) {\n\t\t\tif ($scope.clauseEquals(clause, $scope.query.searchClauses[i])) {\n\t\t\t\treturn $scope.query.searchClauses[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t$scope.clauseEquals = function(a, b) {\n\t\treturn a.property === b.property &&\n\t\t\ta.operator === b.operator &&\n\t\t\ta.value === b.value;\n\t}\n\n\t// Convert an epoch timestamp into String format before adding the search clause\n\t$scope.addEpochTimestampSearchClause = function(clause) {\n\t\tclause.value = $filter('date')(clause.value, ISO_8601_DATE_FORMAT);\n\t\t$scope.addSearchClause(clause);\n\t}\n\n\t// Remove a search clause from the list of clauses\n\t$scope.removeSearchClause = function(clause) {\n\t\t// TODO: Add validation?\n\t\t$scope.query.searchClauses.splice($scope.query.searchClauses.indexOf(clause), 1);\n\t\t$scope.query.searchParam = toFiql($scope.query.searchClauses);\n\t\t$scope.refresh();\n\t}\n\n\t$scope.removeSearchClauses = function(clauses) {\n\t\tfor (var i = 0; i < clauses.length; i++) {\n\t\t\tvar index = $scope.query.searchClauses.indexOf(clauses[i]);\n\t\t\tif (index >= 0) {\n\t\t\t\t$scope.query.searchClauses.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\t$scope.query.searchParam = toFiql($scope.query.searchClauses);\n\t\t$scope.refresh();\n\t}\n\n\t// Replace a search clause with a new clause\n\t$scope.replaceSearchClause = function(oldClause, newClause) {\n\t\tif(angular.isDate(newClause.value)) {\n\t\t\t// Returns a value in yyyy-MM-ddTHH:mm:ss.sssZ format\n\t\t\t// Unfortunately, I don't think CXF will like this because\n\t\t\t// it includes the millisecond portion of the date.\n\t\t\t//clause.value = new Date(clause.value).toISOString();\n\n\t\t\tnewClause.value = $filter('date')(new Date(newClause.value), ISO_8601_DATE_FORMAT);\n\t\t}\n\n\t\t// TODO: Add validation?\n\t\tvar scopeOldClause = $scope.getSearchClause(oldClause);\n\t\tvar scopeNewClause = $scope.getSearchClause(newClause);\n\t\tif (!scopeOldClause) {\n\t\t\tif (!scopeNewClause) {\n\t\t\t\t// If the old clause is not present, simply add the new clause\n\t\t\t\t$scope.addSearchClause(newClause);\n\t\t\t} else {\n\t\t\t\t// If the old clause is not present and the new clause is already\n\t\t\t\t// present, then do nothing\n\t\t\t}\n\t\t} else {\n\t\t\tif (!scopeNewClause) {\n\t\t\t\t// If the old clause is present and the new clause is not, replace\n\t\t\t\t// the values inside the old clause and then refresh\n\t\t\t\tscopeOldClause.property = newClause.property;\n\t\t\t\tscopeOldClause.operator = newClause.operator;\n\t\t\t\tscopeOldClause.value = newClause.value;\n\n\t\t\t\t$scope.query.searchParam = toFiql($scope.query.searchClauses);\n\t\t\t\t$scope.refresh();\n\t\t\t} else {\n\t\t\t\t// If the old clause is present and the new clause is present,\n\t\t\t\t// then just remove the old clause (as if it had been replaced by\n\t\t\t\t// the already-existing new clause)\n\t\t\t\t$scope.removeSearchClause(oldClause);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Clear the current search\n\t$scope.clearSearch = function() {\n\t\tif ($scope.query.searchClauses.length > 0) {\n\t\t\t$scope.query.searchClauses = [];\n\t\t\t$scope.query.searchParam = '';\n\t\t\t$scope.refresh();\n\t\t}\n\t}\n\n\t// Change the sorting of the table\n\t$scope.changeOrderBy = function(property) {\n\t\tif ($scope.query.orderBy === property) {\n\t\t\t// TODO: Figure out if we should reset limit/offset here also\n\t\t\t// If the property is already selected then reverse the sorting\n\t\t\t$scope.query.order = ($scope.query.order === 'asc' ? 'desc' : 'asc');\n\t\t} else {\n\t\t\t// TODO: Figure out if we should reset limit/offset here also\n\t\t\t$scope.query.orderBy = property;\n\t\t\t$scope.query.order = $scope.defaults.order;\n\t\t}\n\t\t$scope.refresh();\n\t}\n\n\t$scope.setOffset = function(offset) {\n\t\tconst o = normalizeOffset(offset, $scope.query.maxOffset, $scope.query.limit);\n\n\t\tif ($scope.query.offset !== o) {\n\t\t\t$scope.query.offset = o;\n\t\t\t$scope.refresh();\n\t\t}\n\t}\n\n\t$scope.setLimit = function(limit) {\n\t\tif (limit < 1) {\n\t\t\t$scope.query.newLimit = $scope.query.limit;\n\t\t\t// TODO: Throw a validation error\n\t\t\treturn;\n\t\t}\n\t\tif ($scope.query.limit !== limit) {\n\t\t\t$scope.query.limit = limit;\n\t\t\t$scope.query.offset = normalizeOffset($scope.query.offset, $scope.query.maxOffset, $scope.query.limit);\n\t\t\t$scope.refresh();\n\t\t}\n\t}\n\n\t// Override this to implement updates to an object\n\t$scope.refresh = function() {\n\t\t$log.warn('You need to override $scope.$parent.refresh() in your controller');\n\t}\n\n\t// Override this to implement updates to an object\n\t$scope.update = function() {\n\t\t$log.warn('You need to override $scope.$parent.update() in your controller');\n\t}\n\n\t// Override this to implement deletions\n\t$scope.deleteItem = function(item) {\n\t\t$log.warn('You need to override $scope.$parent.deleteItem() in your controller');\n\t}\n\n\t$log.debug('ListCtrl initialized');\n}])\n\n.run(['$rootScope', '$log', function($rootScope, $log) {\n\t$log.debug('Finished initializing ' + MODULE_NAME);\n}])\n\n;\n\n/*\nangular.element(document).ready(function() {\n\tconsole.log('Bootstrapping ' + MODULE_NAME);\n\tangular.bootstrap(document, [MODULE_NAME]);\n});\n*/\n\nmodule.exports = {\n\tappendTransform: appendTransform,\n\ttoFiql: toFiql,\n\tfromFiql: fromFiql,\n\tparseContentRange: parseContentRange,\n\tescapeSearchValue: escapeSearchValue,\n\tnormalizeOffset: normalizeOffset\n};\n","'use strict';\n\n// Base URL of the REST service\nconst BASE_REST_URL = 'api/v2';\n\n// Module name\nconst MODULE_NAME = 'onms.restResources';\n\nconst angular = require('vendor/angular-js');\nrequire('lib/onms-http');\n\n/**\n * Function used to append an extra transformer to the default $http transforms.\n * \n * @param defaultTransform Existing response transformer(s)\n * @param transform New transformer to append to the end of the list\n */\nconst appendTransform = (defaultTransform, transform) => {\n\tconst t = angular.isArray(defaultTransform) ? defaultTransform : [ defaultTransform ];\n\treturn t.concat(transform);\n};\n\n/**\n * Ensure that the REST responses are always returned as arrays\n * \n * @param data HTTP response\n * @param headers HTTP response headers\n * @param status HTTP response status code\n * @param key Name of the key where values are stored in {@code data}\n */\nconst arrayify = (data, headers, status, key) => {\n\t// TODO: Figure out how to handle session timeouts that redirect to \n\t// the login screen\n\t/*\n\tif (status === 302) {\n\t\t$window.location.href = $location.absUrl();\n\t\treturn [];\n\t}\n\t*/\n\tif (status === 204) { // No content\n\t\treturn [];\n\t}\n\t// Always return the data as an array\n\treturn angular.isArray(data[key]) ? data[key] : [ data[key] ];\n};\n\n// REST $resource module\nangular.module(MODULE_NAME, [ 'onms.http', 'ngResource' ])\n\n// OnmsAlarm REST $resource\n.factory('alarmFactory', /* @ngInject */ function($resource, $log, $http, $location) {\n\treturn $resource(\n\t\tBASE_REST_URL + '/alarms/:id', \n\t\t{ id: '@id' },\n\t\t{\n\t\t\t'query': { \n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'alarm');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'update': { \n\t\t\t\tmethod: 'PUT'\n\t\t\t},\n\t\t\t'queryProperties': {\n\t\t\t\turl: BASE_REST_URL + '/alarms/properties',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'searchProperty');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'queryPropertyValues': {\n\t\t\t\turl: BASE_REST_URL + '/alarms/properties/:id',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'value');\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t);\n})\n\n// OnmsEvent REST $resource\n.factory('eventFactory', /* @ngInject */ function($resource, $log, $http, $location) {\n\treturn $resource(\n\t\tBASE_REST_URL + '/events/:id', \n\t\t{ id: '@id' },\n\t\t{\n\t\t\t'query': { \n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'event');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'update': { \n\t\t\t\tmethod: 'PUT'\n\t\t\t},\n\t\t\t'queryProperties': {\n\t\t\t\turl: BASE_REST_URL + '/events/properties',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'searchProperty');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'queryPropertyValues': {\n\t\t\t\turl: BASE_REST_URL + '/events/properties/:id',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'value');\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t);\n})\n\n// OnmsMinion REST $resource\n.factory('minionFactory', /* @ngInject */ function($resource, $log, $http, $location) {\n\treturn $resource(BASE_REST_URL + '/minions/:id', { id: '@id' },\n\t\t{\n\t\t\t'query': { \n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'minion');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'update': { \n\t\t\t\tmethod: 'PUT'\n\t\t\t}\n\t\t}\n\t);\n})\n\n// OnmsMonitoringLocation REST $resource\n.factory('monitoringLocationFactory', /* @ngInject */ function($resource, $log, $http, $location) {\n\treturn $resource(BASE_REST_URL + '/monitoringLocations/:id', {},\n\t\t{\n\t\t\t'query': { \n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'location');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'update': { \n\t\t\t\tmethod: 'PUT'\n\t\t\t}\n\t\t}\n\t);\n})\n\n// OnmsNode REST $resource\n.factory('nodeFactory', /* @ngInject */ function($resource, $log, $http, $location) {\n\treturn $resource(BASE_REST_URL + '/nodes/:id', { id: '@id' },\n\t\t{\n\t\t\t'query': { \n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'node');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'update': { \n\t\t\t\tmethod: 'PUT'\n\t\t\t},\n\t\t\t'queryProperties': {\n\t\t\t\turl: BASE_REST_URL + '/nodes/properties',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'searchProperty');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'queryPropertyValues': {\n\t\t\t\turl: BASE_REST_URL + '/nodes/properties/:id',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'value');\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t);\n})\n\n// OnmsNotification REST $resource\n.factory('notificationFactory', /* @ngInject */ function($resource, $log, $http, $location) {\n\treturn $resource(BASE_REST_URL + '/notifications/:id', { id: '@id' },\n\t\t{\n\t\t\t'query': { \n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'notification');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'update': { \n\t\t\t\tmethod: 'PUT'\n\t\t\t},\n\t\t\t'queryProperties': {\n\t\t\t\turl: BASE_REST_URL + '/notifications/properties',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'searchProperty');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'queryPropertyValues': {\n\t\t\t\turl: BASE_REST_URL + '/notifications/properties/:id',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'value');\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t);\n})\n\n// OnmsOutage REST $resource\n.factory('outageFactory', /* @ngInject */ function($resource, $log, $http, $location) {\n\treturn $resource(BASE_REST_URL + '/outages/:id', { id: '@id' },\n\t\t{\n\t\t\t'query': { \n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'outage');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'update': { \n\t\t\t\tmethod: 'PUT'\n\t\t\t},\n\t\t\t'queryProperties': {\n\t\t\t\turl: BASE_REST_URL + '/outages/properties',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'searchProperty');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'queryPropertyValues': {\n\t\t\t\turl: BASE_REST_URL + '/outages/properties/:id',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'value');\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t);\n});\n","'use strict';\n\nconst MODULE_NAME = 'onms.elementList.minion';\n\nconst angular = require('vendor/angular-js');\nconst elementList = require('../lib/elementList');\nrequire('../lib/restResources');\nrequire('../../onms-date-formatter');\n\nconst mainTemplate = require('./main.html');\n\n// $filters that can be used to create human-readable versions of filter values\nangular.module('minionListFilters', [ 'onmsListFilters', 'onmsDateFormatter' ])\n.directive('onmsMinionList', () => {\n\treturn {\n\t\trestrict: 'E',\n\t\ttransclude: true,\n\t\ttemplateUrl: mainTemplate\n\t};\n})\n.filter('property', function() {\n\treturn function(input) {\n\t\tswitch (input) {\n\t\tcase 'id':\n\t\t\treturn 'ID';\n\t\tcase 'label':\n\t\t\treturn 'Label';\n\t\tcase 'location':\n\t\t\treturn 'Location';\n\t\tcase 'type':\n\t\t\treturn 'Type';\n\t\tcase 'status':\n\t\t\treturn 'Status';\n\t\tcase 'lastUpdated':\n\t\t\treturn 'Last updated';\n\t\tcase 'version':\n        \treturn 'Version';\n\t\tdefault:\n\t\t\t// If no match, return the input\n\t\t\treturn input;\n\t\t}\n\t}\n})\n.filter('value', function($filter) {\n\treturn function(input, property) {\n\t\tswitch (property) {\n\t\tcase 'lastUpdated':\n\t\t\t// Return the date in our preferred format\n\t\t\treturn $filter('onmsDate')(input);\n\t\tdefault:\n\t\t\treturn input;\n\t\t}\n\t}\n});\n\n// Minion list module\nangular.module(MODULE_NAME, [ 'onms.restResources', 'onms.elementList', 'minionListFilters', 'onmsDateFormatter' ])\n\n.config(['$locationProvider', function($locationProvider) {\n\t$locationProvider.hashPrefix('');\n}])\n\n/**\n * Minion list controller\n */\n.controller('MinionListCtrl', ['$scope', '$http', '$location', '$window', '$log', '$filter', 'DateFormatterService', 'minionFactory', function($scope, $http, $location, $window, $log, $filter, DateFormatterService, minionFactory) {\n\t$log.debug('MinionListCtrl initializing...');\n\n\t$scope.minionNodes = {};\n\n\t$scope.getLink = function(minion) {\n\t\tif (minion && $scope.minionNodes[minion.id + '\\0' + minion.location]) {\n\t\t\treturn 'element/node.jsp?node=' + $scope.minionNodes[minion.id + '\\0' + minion.location].id;\n\t\t}\n\t\treturn undefined;\n\t};\n\n\t// Set the default sort and set it on $scope.$parent.query\n\t$scope.$parent.defaults.orderBy = 'label';\n\t$scope.$parent.query.orderBy = 'label';\n\n\t// Reload all resources via REST\n\t$scope.$parent.refresh = function() {\n\t\tDateFormatterService.formatter.finally(function() {\n\t\t// Fetch all of the items\n\t\tminionFactory.query(\n\t\t\t{\n\t\t\t\t_s: $scope.$parent.query.searchParam, // FIQL search\n\t\t\t\tlimit: $scope.$parent.query.limit,\n\t\t\t\toffset: $scope.$parent.query.offset,\n\t\t\t\torderBy: $scope.$parent.query.orderBy,\n\t\t\t\torder: $scope.$parent.query.order\n\t\t\t}, \n\t\t\tfunction(value, headers) {\n\t\t\t\t$scope.$parent.items = value;\n\n\t\t\t\tif (value && value.length > 0) {\n\t\t\t\t\tvar query = '(' + value.map(function(minion) {\n\t\t\t\t\t\treturn 'foreignId==' + minion.id;\n\t\t\t\t\t}).join(',') + ')';\n\n\t\t\t\t\t$http.get('api/v2/nodes', {\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t_s: query\n\t\t\t\t\t\t}\n\t\t\t\t\t}).then(function(response) {\n\t\t\t\t\t\tvar minionNodes = {}, node;\n\t\t\t\t\t\tif (response && response.data && response.data.node) {\n\t\t\t\t\t\t\tif (!angular.isArray(response.data.node)) {\n\t\t\t\t\t\t\t\tresponse.data.node = [response.data.node];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor (var i=0; i < response.data.node.length; i++) {\n\t\t\t\t\t\t\t\tnode = response.data.node[i];\n\t\t\t\t\t\t\t\tminionNodes[node.foreignId + '\\0' + node.location] = node;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$scope.minionNodes = minionNodes;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tvar contentRange = elementList.parseContentRange(headers('Content-Range'));\n\t\t\t\t$scope.$parent.query.lastOffset = contentRange.end;\n\t\t\t\t// Subtract 1 from the value since offsets are zero-based\n\t\t\t\t$scope.$parent.query.maxOffset = contentRange.total - 1;\n\t\t\t\t$scope.$parent.setOffset(contentRange.start);\n\t\t\t},\n\t\t\tfunction(response) {\n\t\t\t\tswitch(response.status) {\n\t\t\t\tcase 404:\n\t\t\t\t\t// If we didn't find any elements, then clear the list\n\t\t\t\t\t$scope.$parent.items = [];\n\t\t\t\t\t$scope.$parent.query.lastOffset = 0;\n\t\t\t\t\t$scope.$parent.query.maxOffset = -1;\n\t\t\t\t\t$scope.$parent.setOffset(0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 401:\n\t\t\t\tcase 403:\n\t\t\t\t\t// Handle session timeout by reloading page completely\n\t\t\t\t\t$window.location.href = $location.absUrl();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// TODO: Handle 500 Server Error by executing an undo callback?\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t);\n\t\t});\n\t};\n\n\t$scope.$parent.deleteItem = function(item) {\n\t\tvar saveMe = minionFactory.get({id: item.id}, function() {\n\t\t\tif ($window.confirm('Are you sure you want to remove minion \"' + item['id'] + '\"?')) {\n\t\t\t\tsaveMe.$delete({id: item['id']}, function() {\n\t\t\t\t\tvar cancelWatch = $scope.$watch('items', function() {\n\t\t\t\t\t\tfor (var i = 0; i < $scope.items.length; i++) {\n\t\t\t\t\t\t\t// If it still contains the deleted item, then call refresh()\n\t\t\t\t\t\t\tif ($scope.items[i]['id'] === item['id']) {\n\t\t\t\t\t\t\t\t$scope.refresh();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcancelWatch();\n\t\t\t\t\t});\n\t\t\t\t}, function (response) {\n\t\t\t\t\t$window.alert('Deletion of minion \"' +  item['id'] + '\" failed.');\n\t\t\t\t});\n\t\t\t}\n\t\t}, function(response) {\n\t\t\tif (response.status === 404) {\n\t\t\t\t$scope.refresh();\n\t\t\t}\n\t\t});\n\t};\n\n\t// Save an item by using $resource.$update\n\t$scope.$parent.update = function(item) {\n\t\tvar saveMe = minionFactory.get({id: item.id}, function() {\n\t\t\tsaveMe.label = item.label;\n\t\t\tsaveMe.location = item.location;\n\t\t\tsaveMe.properties = item.properties;\n\n\t\t\t// TODO\n\t\t\t//saveMe.status = item.status;\n\t\t\t// TODO\n\t\t\t//saveMe.properties = item.properties;\n\n\t\t\t// Read-only fields\n\t\t\t// saveMe.type = item.type;\n\t\t\t// saveMe.date = item.date;\n\n\t\t\tsaveMe.$update({}, function() {\n\t\t\t\t// If there's a search in effect, refresh the view\n\t\t\t\tif ($scope.$parent.query.searchParam !== '') {\n\t\t\t\t\t$scope.$parent.refresh();\n\t\t\t\t}\n\t\t\t});\n\t\t}, function(response) {\n\t\t\t$log.debug(response);\n\t\t});\n\n\t};\n\n\t// Refresh the item list;\n\t$scope.$parent.refresh();\n\n\t$log.debug('MinionListCtrl initialized');\n}])\n\n.run(['$rootScope', '$log', function($rootScope, $log) {\n\t$log.debug('Finished initializing ' + MODULE_NAME);\n}])\n\n;\n\nangular.element(document).ready(function() {\n\t// eslint-disable-next-line no-console\n\tconsole.log('Bootstrapping ' + MODULE_NAME);\n\tangular.bootstrap(document, [MODULE_NAME]);\n});\n","// Module\nvar code = \"<div ng-controller=\\\"ListCtrl\\\">\\n<div ng-controller=\\\"MinionListCtrl\\\">\\n\\n\\t<!-- Modal form for adding filters -->\\n\\t<div id=\\\"filterModal\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\">\\n\\t\\t<div class=\\\"modal-dialog\\\">\\n\\t\\t\\t<div class=\\\"modal-content\\\">\\n\\t\\t\\t\\t<div class=\\\"modal-body\\\">\\n\\t\\t\\t\\t\\t<!-- Filter form -->\\n\\t\\t\\t\\t\\t<label>Add Filter:</label>\\n\\t\\t\\t\\t\\t<form class=\\\"form-inline\\\" onSubmit=\\\"$('#filterModal').modal('hide')\\\" ng-submit=\\\"addSearchClause(clause)\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t<select class=\\\"form-control custom-select\\\" ng-model=\\\"clause.property\\\" ng-init=\\\"clause.property = 'id'\\\">\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"id\\\">ID</option>\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"label\\\">Label</option>\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"location\\\">Location</option>\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"status\\\">Status</option>\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"version\\\">Version</option>\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"lastUpdated\\\">Last Updated</option>\\n\\t\\t\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t\\t\\t<select class=\\\"form-control custom-select\\\" ng-model=\\\"clause.operator\\\" ng-init=\\\"clause.operator = 'EQ'\\\">\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"EQ\\\">=</option>\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"NE\\\">!=</option>\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"LT\\\">&lt;</option>\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"LE\\\">&lt;=</option>\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"GT\\\">&gt;</option>\\n\\t\\t\\t\\t\\t\\t\\t<option value=\\\"GE\\\">&gt;=</option>\\n\\t\\t\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t\\t\\t<input class=\\\"form-control\\\" type=\\\"text\\\" ng-model=\\\"clause.value\\\" ng-if=\\\"clause.property !== 'lastUpdated'\\\">\\n\\t\\t\\t\\t\\t\\t<input class=\\\"form-control\\\" type=\\\"datetime-local\\\" ng-model=\\\"clause.value\\\" ng-if=\\\"clause.property === 'lastUpdated'\\\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<button class=\\\"btn btn-secondary\\\" type=\\\"submit\\\">Submit</button>\\n\\t\\t\\t\\t\\t</form>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<!-- Modal help window -->\\n\\t<div id=\\\"helpModal\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\">\\n\\t\\t<div class=\\\"modal-dialog\\\">\\n\\t\\t\\t<div class=\\\"modal-content\\\">\\n\\t\\t\\t\\t<div class=\\\"modal-body\\\">\\n\\t\\t\\t\\t\\t<!-- Filter form -->\\n\\t\\t\\t\\t\\t<h3>Help</h3>\\n\\n\\t\\t\\t\\t\\t<h4>Filtering</h4>\\n\\t\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t\\tClick on the <i class=\\\"fa fa-search-plus\\\"></i> icon to filter the list. You can match a portion of a value by using\\n\\t\\t\\t\\t\\t\\tthe * character as a wildcard value. Click on the <i class=\\\"fa fa-ban\\\"> icon to clear all filters.</i>\\n\\t\\t\\t\\t\\t</p>\\n\\n\\t\\t\\t\\t\\t<h4>Filter by Example</h4>\\n\\t\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t\\tYou can click on the <i class=\\\"fa fa-plus-square-o\\\"></i> icon next to a value to only show rows that contain that value. \\n\\t\\t\\t\\t\\t\\tIf you click on the <i class=\\\"fa fa-minus-square-o\\\"></i> icon, it will remove rows with that value from the results.\\n\\t\\t\\t\\t\\t\\tFor timestamp values, clicking on the <i class=\\\"fa fa-toggle-left\\\"></i> icon will show timestamps newer than the specified\\n\\t\\t\\t\\t\\t\\tvalue and clicking on the <i class=\\\"fa fa-toggle-right\\\"></i> icon will show timestamps older than the value.\\n\\t\\t\\t\\t\\t</p>\\n\\n\\t\\t\\t\\t\\t<h4>Sorting</h4>\\n\\t\\t\\t\\t\\t<p>Click on a column header to sort by that column. Click the same column again to reverse the sort order.</p>\\n\\n\\t\\t\\t\\t\\t<h4>Items per Page</h4>\\n\\t\\t\\t\\t\\t<p>You can change the number of items per page by entering a numeric value in the <i class=\\\"fa fa-th-list\\\"></i> box.</p>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\n\\t<!-- Filter list -->\\n\\t<div class=\\\"well well-sm\\\">\\n\\t\\t<span class=\\\"h5\\\" style=\\\"line-height:2.8;\\\">\\n\\t\\t\\tFilters&nbsp;&nbsp;\\n\\t\\t\\t<a href onClick=\\\"$('#filterModal').modal()\\\"><i class=\\\"fa fa-search-plus fa-lg\\\"></i></a>\\n\\t\\t\\t&nbsp;\\n\\t\\t\\t<a href onClick=\\\"$('#helpModal').modal()\\\"><i class=\\\"fa fa-question-circle fa-lg\\\"></i></a>\\n\\t\\t\\t&nbsp;\\n\\t\\t\\t<a href ng-click=\\\"clearSearch()\\\"><i class=\\\"fa fa-ban fa-lg\\\"></i></a>\\n\\t\\t\\t&nbsp;\\n\\t\\t</span>\\n\\t\\t<span ng-hide=\\\"query.searchClauses.length == 0\\\">\\n\\t\\t\\t<span ng-repeat=\\\"clause in query.searchClauses\\\">\\n\\t\\t\\t\\t<div class=\\\"btn-group\\\" style=\\\"margin:3px;\\\">\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-primary\\\" ng-click=\\\"removeSearchClause(clause)\\\">\\n\\t\\t\\t\\t\\t\\t{{clause.property | property}}\\n\\t\\t\\t\\t\\t\\t{{clause.operator | operator : clause.value}}\\n\\t\\t\\t\\t\\t\\t{{clause.value | value : clause.property}}\\n\\t\\t\\t\\t\\t\\t&nbsp;\\n\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-close\\\"></i>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</span>\\n\\t\\t</span>\\n\\t</div>\\n\\n\\t<!-- Paging controls -->\\n\\t<div>\\n\\t\\t<div class=\\\"\\\">\\n\\t\\t\\t<button type=\\\"button\\\" role=\\\"button\\\" class=\\\"btn btn-secondary {{(query.offset-query.limit) &lt; 0 ? 'disabled' : ''}}\\\" ng-click=\\\"setOffset(0)\\\">\\n\\t\\t\\t\\t<i class=\\\"fa fa-backward\\\"></i>&nbsp;&nbsp;First\\n\\t\\t\\t</button>\\n\\t\\t\\t<button type=\\\"button\\\" role=\\\"button\\\" class=\\\"btn btn-secondary ml-2 {{(query.offset-query.limit) &lt; 0 ? 'disabled' : ''}}\\\" ng-click=\\\"setOffset(query.offset-query.limit)\\\">\\n\\t\\t\\t\\t<i class=\\\"fa fa-play fa-flip-horizontal\\\"></i>&nbsp;&nbsp;Previous\\n\\t\\t\\t</button>\\n\\n\\t\\t\\t<div class=\\\"btn-group\\\">\\n\\t\\t\\t\\t<a class=\\\"btn btn-secondary\\\" ng-click=\\\"setOffset(query.offset-(3*query.limit))\\\" ng-hide=\\\"(query.offset-(3*query.limit)) &lt; 0\\\" style=\\\"width:5em;\\\">\\n\\t\\t\\t\\t\\t{{(query.offset/query.limit) - 2}}\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<a class=\\\"btn btn-secondary\\\" ng-click=\\\"setOffset(query.offset-(2*query.limit))\\\" ng-hide=\\\"(query.offset-(2*query.limit)) &lt; 0\\\" style=\\\"width:5em;\\\">\\n\\t\\t\\t\\t\\t{{(query.offset/query.limit) - 1}}\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<a class=\\\"btn btn-secondary\\\" ng-click=\\\"setOffset(query.offset-query.limit)\\\" ng-hide=\\\"(query.offset-query.limit) &lt; 0\\\" style=\\\"width:5em;\\\">\\n\\t\\t\\t\\t\\t{{query.offset/query.limit}}\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<a class=\\\"btn btn-secondary active\\\" ng-show=\\\"query.maxOffset &gt; 0\\\" style=\\\"width:5em;\\\">\\n\\t\\t\\t\\t\\t{{(query.offset/query.limit) + 1}}\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<a class=\\\"btn btn-secondary\\\" ng-click=\\\"setOffset(query.offset+query.limit)\\\" ng-hide=\\\"(query.offset+query.limit) &gt; query.maxOffset\\\" style=\\\"width:5em;\\\">\\n\\t\\t\\t\\t\\t{{(query.offset/query.limit) + 2}}\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<a class=\\\"btn btn-secondary\\\" ng-click=\\\"setOffset(query.offset+(2*query.limit))\\\" ng-hide=\\\"query.offset+(2*query.limit) &gt; query.maxOffset\\\" style=\\\"width:5em;\\\">\\n\\t\\t\\t\\t\\t{{(query.offset/query.limit) + 3}}\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<a class=\\\"btn btn-secondary\\\" ng-click=\\\"setOffset(query.offset+(3*query.limit))\\\" ng-hide=\\\"query.offset+(3*query.limit) &gt; query.maxOffset\\\" style=\\\"width:5em;\\\">\\n\\t\\t\\t\\t\\t{{(query.offset/query.limit) + 4}}\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div class=\\\"pull-right\\\">\\n\\t\\t\\t\\t<!-- Add 1 to each offset since they are zero-based -->\\n\\t\\t\\t\\t<form class=\\\"form-inline\\\" ng-submit=\\\"setLimit(query.newLimit)\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"input-group\\\" style=\\\"margin-left:10px;\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"input-group-prepend\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"input-group-text\\\"><i class=\\\"fa fa-th-list\\\"></i></span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<input class=\\\"form-control\\\" type=\\\"number\\\" ng-model=\\\"query.newLimit\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" role=\\\"button\\\" class=\\\"btn btn-secondary mx-2 {{(query.offset+query.limit) &gt; query.maxOffset ? 'disabled' : ''}}\\\" ng-click=\\\"setOffset(query.offset + query.limit)\\\">\\n\\t\\t\\t\\t\\t\\tNext&nbsp;&nbsp;<i class=\\\"fa fa-play\\\"></i>\\n\\t\\t\\t\\t\\t</button>\\n\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" role=\\\"button\\\" class=\\\"btn btn-secondary {{(query.offset+query.limit) &gt; query.maxOffset ? 'disabled' : ''}}\\\" ng-click=\\\"setOffset(1000000000)\\\">\\n\\t\\t\\t\\t\\t\\tLast&nbsp;&nbsp;<i class=\\\"fa fa-forward\\\"></i>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</form>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<h5 class=\\\"pull-right col-form-label\\\" ng-show=\\\"query.maxOffset &lt; 0\\\">No items found.</h5>\\n\\t\\t\\t<h5 class=\\\"pull-right col-form-label\\\" ng-show=\\\"query.maxOffset &gt;= 0\\\">{{query.offset === query.lastOffset ? \\\"Item \\\" + (query.offset + 1) : \\\"Items \\\" + (query.offset + 1) + \\\" - \\\" + (query.lastOffset + 1)}} ({{query.maxOffset + 1}} total)</h5>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<br>\\n\\n\\t<div class=\\\"card\\\">\\n\\t\\t<!-- The style is here to override a weird Chrome user agent stylesheet issue -->\\n\\t\\t<table class=\\\"table table-bordered table-striped\\\" style=\\\"font-size:100%\\\">\\n\\t\\t\\t<tbody>\\n\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t<th>\\n\\t\\t\\t\\t\\t\\t<a href ng-click=\\\"changeOrderBy('id')\\\">ID</a>\\n\\t\\t\\t\\t\\t\\t<i ng-show=\\\"query.orderBy === 'id' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n\\t\\t\\t\\t\\t\\t<i ng-show=\\\"query.orderBy === 'id' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<th>\\n\\t\\t\\t\\t\\t\\t<a href ng-click=\\\"changeOrderBy('label')\\\">Label</a>\\n\\t\\t\\t\\t\\t\\t<i ng-show=\\\"query.orderBy === 'label' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n\\t\\t\\t\\t\\t\\t<i ng-show=\\\"query.orderBy === 'label' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<th>\\n\\t\\t\\t\\t\\t\\t<a href ng-click=\\\"changeOrderBy('location')\\\">Location</a>\\n\\t\\t\\t\\t\\t\\t<i ng-show=\\\"query.orderBy === 'location' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n\\t\\t\\t\\t\\t\\t<i ng-show=\\\"query.orderBy === 'location' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<th>\\n\\t\\t\\t\\t\\t\\t<a href ng-click=\\\"changeOrderBy('type')\\\">Type</a>\\n\\t\\t\\t\\t\\t\\t<i ng-show=\\\"query.orderBy === 'type' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n\\t\\t\\t\\t\\t\\t<i ng-show=\\\"query.orderBy === 'type' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<th>\\n\\t\\t\\t\\t\\t\\t<a href ng-click=\\\"changeOrderBy('status')\\\">Status</a>\\n\\t\\t\\t\\t\\t\\t<i ng-show=\\\"query.orderBy === 'status' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n\\t\\t\\t\\t\\t\\t<i ng-show=\\\"query.orderBy === 'status' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<th>\\n\\t\\t\\t\\t\\t\\t<a href ng-click=\\\"changeOrderBy('version')\\\">Version</a>\\n\\t\\t\\t\\t\\t\\t<i ng-show=\\\"query.orderBy === 'version' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n\\t\\t\\t\\t\\t\\t<i ng-show=\\\"query.orderBy === 'version' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<th>\\n\\t\\t\\t\\t\\t\\t<a href ng-click=\\\"changeOrderBy('date')\\\">Last Updated</a>\\n\\t\\t\\t\\t\\t\\t<i ng-show=\\\"query.orderBy === 'date' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i>\\n\\t\\t\\t\\t\\t\\t<i ng-show=\\\"query.orderBy === 'date' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i>\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<th>\\n\\t\\t\\t\\t\\t\\tProperties\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<th>\\n\\t\\t\\t\\t\\t\\tActions\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t</tr>\\n\\n\\t\\t\\t\\t<tr ng-repeat=\\\"item in items\\\">\\n\\t\\t\\t\\t\\t<td class=\\\"text-nowrap\\\" style=\\\"line-height:24px;\\\">\\n\\t\\t\\t\\t\\t\\t<span ng-if=\\\"getLink(item)\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a href=\\\"{{getLink(item)}}\\\">{{item.id}}</a>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span ng-if=\\\"!getLink(item)\\\">\\n\\t\\t\\t\\t\\t\\t\\t{{item.id}}\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"addSearchClause({property:'id',operator:'EQ',value:item.id})\\\"><i class=\\\"fa fa-plus-square-o fa-lg\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"addSearchClause({property:'id',operator:'NE',value:item.id})\\\"><i class=\\\"fa fa-minus-square-o fa-lg\\\"></i></a>\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"text-nowrap\\\">\\n\\t\\t\\t\\t\\t\\t<!-- TODO: Figure out how to handle null/blank label, it should still be editable -->\\n\\t\\t\\t\\t\\t\\t<onms-list-edit-in-place item=\\\"item\\\" value=\\\"item.label\\\" value-type=\\\"'text'\\\" on-submit=\\\"update(item)\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"addSearchClause({property:'label',operator:'EQ',value:item.label})\\\"><i class=\\\"fa fa-plus-square-o fa-lg\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"addSearchClause({property:'label',operator:'NE',value:item.label})\\\"><i class=\\\"fa fa-minus-square-o fa-lg\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t</onms-list-edit-in-place>\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"text-nowrap\\\">\\n\\t\\t\\t\\t\\t\\t{{item.location}}\\n\\t\\t\\t\\t\\t\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"addSearchClause({property:'location',operator:'EQ',value:item.location})\\\"><i class=\\\"fa fa-plus-square-o fa-lg\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"addSearchClause({property:'location',operator:'NE',value:item.location})\\\"><i class=\\\"fa fa-minus-square-o fa-lg\\\"></i></a>\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"text-nowrap\\\" style=\\\"line-height:24px;\\\">\\n\\t\\t\\t\\t\\t\\t{{item.type}}\\n\\t\\t\\t\\t\\t\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"addSearchClause({property:'type',operator:'EQ',value:item.type})\\\"><i class=\\\"fa fa-plus-square-o fa-lg\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"addSearchClause({property:'type',operator:'NE',value:item.type})\\\"><i class=\\\"fa fa-minus-square-o fa-lg\\\"></i></a>\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"text-nowrap\\\" style=\\\"line-height:24px;\\\">\\n\\t\\t\\t\\t\\t\\t<span ng-show=\\\"item.status !== null\\\">\\n\\t\\t\\t\\t\\t\\t\\t{{item.status}}\\n\\t\\t\\t\\t\\t\\t\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"addSearchClause({property:'status',operator:'EQ',value:item.status})\\\"><i class=\\\"fa fa-plus-square-o fa-lg\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"addSearchClause({property:'status',operator:'NE',value:item.status})\\\"><i class=\\\"fa fa-minus-square-o fa-lg\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"text-nowrap\\\" style=\\\"line-height:24px;\\\">\\n\\t\\t\\t\\t\\t\\t<span ng-show=\\\"item.version !== null\\\">\\n\\t\\t\\t\\t\\t\\t\\t{{item.version}}\\n\\t\\t\\t\\t\\t\\t\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"addSearchClause({property:'version',operator:'EQ',value:item.version})\\\"><i class=\\\"fa fa-plus-square-o fa-lg\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"addSearchClause({property:'version',operator:'NE',value:item.version})\\\"><i class=\\\"fa fa-minus-square-o fa-lg\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"text-nowrap\\\" style=\\\"line-height:24px;\\\">\\n\\t\\t\\t\\t\\t\\t<span ng-show=\\\"item.date !== null\\\">\\n\\t\\t\\t\\t\\t\\t\\t{{item.date | onmsDate}}\\n\\t\\t\\t\\t\\t\\t\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"addEpochTimestampSearchClause({property:'lastUpdated',operator:'GE',value:item.date})\\\"><i class=\\\"fa fa-toggle-left fa-lg\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"addEpochTimestampSearchClause({property:'lastUpdated',operator:'LE',value:item.date})\\\"><i class=\\\"fa fa-toggle-right fa-lg\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t<onms-list-edit-map-in-place values=\\\"item.properties\\\" value-type=\\\"'text'\\\" on-edit=\\\"update(item)\\\"></onms-list-edit-map-in-place>\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"deleteItem(item)\\\"><i class=\\\"fa fa-trash fa-lg\\\"></i></a>\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t</tbody>\\n\\t\\t</table>\\n\\t</div>\\n</div>\\n</div>\\n\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/minion-elementList/main.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<form class=\\\"form-inline\\\" ng-submit=\\\"submit()\\\" style=\\\"margin: 0;\\\">\\n\\t<!-- Editing input -->\\n\\t<input ng-show=\\\"editing\\\" ng-keyup=\\\"onKeyup($event)\\\" type=\\\"{{valueType}}\\\" step=\\\"{{step}}\\\" ng-model=\\\"value\\\">\\n\\n\\t<!-- Text label -->\\n\\t<span style=\\\"line-height:24px;\\\" ng-hide=\\\"editing\\\" ng-click=\\\"edit()\\\">{{value}}&nbsp;</span>\\n\\n\\t<!-- Edit button -->\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"edit()\\\" ng-hide=\\\"editing\\\"><i class=\\\"fa fa-edit fa-lg\\\"></i></a>\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"submit()\\\" ng-show=\\\"editing\\\"><i class=\\\"fa fa-check fa-lg\\\"></i></a>\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"cancel()\\\" ng-show=\\\"editing\\\"><i class=\\\"fa fa-close fa-lg\\\"></i></a>\\n\\n\\t<!-- Transclude any content inside the tag -->\\n\\t<span ng-transclude></span>\\n</form>\\n\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editInPlace.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<span>\\n\\t<!-- Show all of the current values -->\\n<span ng-repeat=\\\"value in values\\\">\\n\\t<button class=\\\"btn btn-sm btn-secondary\\\" ng-click=\\\"confirmAndRemove(values, value)\\\" style=\\\"margin-bottom:3px;margin-right:3px;\\\">\\n\\t\\t{{value}}&nbsp;<i class=\\\"fa fa-close\\\"></i>\\n\\t</button>\\n</span>\\n\\n<!-- Edit button -->\\n<span style=\\\"line-height:24px;\\\" ng-hide=\\\"editing\\\">\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"edit()\\\"><i class=\\\"fa fa-edit fa-lg\\\"></i></a>&nbsp;\\n</span>\\n\\n<!-- TODO: Add the ability to support select controls -->\\n<!-- Input for new item -->\\n<span ng-show=\\\"editing\\\" class=\\\"text-nowrap\\\">\\n\\t<input type=\\\"{{valueType}}\\\" ng-keyup=\\\"onKeyup($event)\\\" ng-model=\\\"newValue\\\">\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"add(values, newValue)\\\"><i class=\\\"fa fa-plus fa-lg\\\"></i></a>\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"unedit()\\\"><i class=\\\"fa fa-close fa-lg\\\"></i></a>\\n</span>\\n\\n<!-- Transclude any content inside the tag -->\\n<span ng-transclude></span>\\n</span>\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editListInPlace.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<span>\\n<!-- Show all of the current values -->\\n<span ng-repeat=\\\"(key,value) in values\\\">\\n\\t<button class=\\\"btn btn-sm btn-secondary\\\" ng-click=\\\"confirmAndRemove(values, key)\\\" style=\\\"margin-bottom:3px;margin-right:3px;\\\">\\n\\t\\t<b>{{key}}:</b> {{value}}&nbsp;<i class=\\\"fa fa-close\\\"></i>\\n\\t</button>\\n</span>\\n\\n<!-- Edit button -->\\n<span style=\\\"line-height:24px;\\\" ng-hide=\\\"editing\\\">\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"edit()\\\"><i class=\\\"fa fa-edit fa-lg\\\"></i></a>&nbsp;\\n</span>\\n\\n<!-- TODO: Add the ability to support select controls -->\\n<!-- Input for new item -->\\n<span ng-show=\\\"editing\\\" class=\\\"text-nowrap\\\">\\n\\t<input type=\\\"{{keyType}}\\\" ng-keyup=\\\"onKeyup($event)\\\" ng-model=\\\"newKey\\\">\\n\\t<input type=\\\"{{valueType}}\\\" ng-keyup=\\\"onKeyup($event)\\\" ng-model=\\\"newValue\\\">\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"add(values, newKey, newValue)\\\"><i class=\\\"fa fa-plus fa-lg\\\"></i></a>\\n\\t<a href style=\\\"text-decoration: none;\\\" ng-click=\\\"unedit()\\\"><i class=\\\"fa fa-close fa-lg\\\"></i></a>\\n</span>\\n\\n<!-- Transclude any content inside the tag -->\\n<span ng-transclude></span>\\n</span>\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editMapInPlace.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<span>\\n<div class=\\\"modal-header\\\">\\n    <h3><i class=\\\"fa fa-exclamation-triangle text-warning\\\"></i> Permission Denied</h3>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    <h5>\\n        You are not allowed to perform the requested action.\\n    </h5>\\n    <p class=\\\"text-muted\\\">\\n        This is not supposed to happen.\\n        Please reload the page and contact your administrator if this occurs more often.\\n    </p>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-primary\\\" ng-click=\\\"reload()\\\">Reload</button>\\n</div>\\n</span>\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/lib/onms-http/403-permission-denied.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","'use strict';\n\nconst angular = require('vendor/angular-js');\n\nconst permissionDeniedTemplate  = require('./403-permission-denied.html');\n\nangular.module('onms.http', ['ui.bootstrap'])\n    .factory('InterceptorService',['$q', '$rootScope', function($q, $rootScope) {\n        return {\n            responseError: function (rejection) {\n                if (rejection.status === 401) {\n                    if (rejection.config && rejection.config.url\n                        && (rejection.config.url.startsWith('rest/')\n                            || rejection.config.url.startsWith('api/v2/'))\n                    ) {\n                        console.error('Login Required', rejection, rejection.headers); // eslint-disable-line no-console\n                        $rootScope.$emit('loginRequired');\n                    }\n                }\n                if (rejection.status === 403) {\n                    $rootScope.$emit('permissionDenied');\n                }\n                return $q.reject(rejection);\n            }\n        }\n    }])\n    .config(['$locationProvider', function($locationProvider) {\n        $locationProvider.hashPrefix('');\n    }])\n    .config(['$httpProvider',\n        function ($httpProvider) {\n            $httpProvider.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n            $httpProvider.interceptors.push('InterceptorService');\n        }\n    ])\n    .run(['$rootScope', '$uibModal', function($rootScope, $uibModal) {\n        $rootScope.$on('loginRequired', function() {\n            var baseTags = document.getElementsByTagName('base');\n            if (baseTags && baseTags.length > 0 && baseTags[0].href) {\n                document.headerLogoutForm.submit();\n            } else {\n                console.warn('Login is required, but cannot forward to login page due to missing base tag.'); // eslint-disable-line no-console\n            }\n        });\n\n        $rootScope.$on('permissionDenied', function() {\n            $uibModal.open({\n                templateUrl: permissionDeniedTemplate,\n                controller: function($scope, $uibModalInstance) {\n                    $scope.reload = function () {\n                        $uibModalInstance.dismiss();\n                        window.location.reload();\n                    };\n                },\n                size: '',\n                backdrop: 'static',\n                keyboard  : false\n            });\n        });\n    }])\n;\n\nmodule.exports = angular;","/* Load jQuery first, so Angular finds it */\nrequire('./jquery-js');\n\n/* Angular Core */\nconst angular = require('angular');\nrequire('angular-animate');\nrequire('angular-cookies');\nrequire('angular-route');\nrequire('angular-resource');\nrequire('angular-sanitize');\n\n/* 3rd-Party Modules */\nrequire('angular-growl-v2');\nrequire('angular-loading-bar');\n\nrequire('angular-growl-v2/build/angular-growl.css');\nrequire('angular-loading-bar/build/loading-bar.css');\n\n/* Bootstrap UI */\nrequire('vendor/bootstrap-js');\nrequire('angular-bootstrap-checkbox');\nrequire('ui-bootstrap4'); // angular-ui-boostrap for bootstrap 4\n\nconsole.log('init: angular-js ' + angular.version.full); // eslint-disable-line no-console\n\nmodule.exports = window['angular'] = angular;","console.log('init: bootstrap-js'); // eslint-disable-line no-console\n\nconst jQuery = require('vendor/jquery-js');\nrequire('vendor/moment-js');\nrequire('bootstrap/dist/js/bootstrap');\n\nmodule.exports = jQuery;\n","console.log('init: jquery-js'); // eslint-disable-line no-console\n\nconst jQuery = require('jquery');\nrequire('jquery-migrate');\n\nmodule.exports = jQuery;\n","console.log('init: moment-js'); // eslint-disable-line no-console\n\nconst moment = require('moment');\nrequire('moment-timezone');\nrequire('@rangerrick/moment-javaformat');\n\nmodule.exports = moment;"],"sourceRoot":""}