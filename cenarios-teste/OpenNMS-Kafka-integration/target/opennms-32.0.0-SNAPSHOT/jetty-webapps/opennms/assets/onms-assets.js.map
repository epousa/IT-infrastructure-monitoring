{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///./src/main/assets/js/apps/onms-assets/index.js","webpack:///./src/main/assets/js/apps/onms-central-search/index.js","webpack:///./src/main/assets/js/apps/onms-central-search/quicksearch.html","webpack:///./src/main/assets/js/apps/onms-date-formatter/index.js","webpack:///./src/main/assets/js/apps/onms-default-apps/index.js","webpack:///./src/main/assets/js/apps/search/index.js","webpack:///./src/main/assets/js/apps/search/template.ksc.html","webpack:///./src/main/assets/js/apps/search/template.nodes.html","webpack:///./src/main/assets/js/lib/onms-http/403-permission-denied.html","webpack:///./src/main/assets/js/lib/onms-http/index.js","webpack:///./src/main/assets/js/vendor/angular-js.js","webpack:///./src/main/assets/js/vendor/bootbox-js.js","webpack:///./src/main/assets/js/vendor/bootstrap-js.js","webpack:///./src/main/assets/js/vendor/jquery-js.js","webpack:///./src/main/assets/js/vendor/jquery-ui-js.js","webpack:///./src/main/assets/js/vendor/moment-js.js","webpack:///./src/main/assets/modules/lib/util/index.js"],"names":["_forEach","_interopRequireDefault","require","_indexOf","_filter","obj","__esModule","default","angular","bootbox","defaultConfig","module","config","$locationProvider","hashPrefix","growlProvider","globalTimeToLive","globalPosition","$uibTooltipProvider","setTriggers","options","controller","$scope","$http","$q","growl","uibDateParser","blackList","infoKeys","dateKeys","dateFormat","master","asset","suggestions","init","nodeId","get","then","response","node","data","nodeLabel","label","foreignSource","foreignId","call","key","assetRecord","parse","copy","k","error","getSuggestions","field","suggestion","reset","assetForm","$setPristine","save","target","_context","_context2","_context3","method","url","headers","$","param","success","checkRequisition","assets","confirm","ok","updateRequisition","assetFields","hasOwnProperty","push","name","value","post","quickSearchTemplate","globalErrorHandling","scope","errorResponse","MODULE_NAME","directive","restrict","transclude","templateUrl","factory","$resource","isArray","cancellable","SearchResource","$timeout","$document","KeyCodes","ENTER","SHIFT","ESC","KEY_LEFT","KEY_UP","KEY_RIGHT","KEY_DOWN","Types","Group","Item","More","query","results","performSearchExecuted","showLoadingIndicator","showLoadingIndicatorDelay","performSearchDelay","performSearchPromise","undefined","performSearchHandle","showLoadingIndicatorPromise","shiftLastPressed","selectedIndex","_bind","event","isChild","has","length","isSelf","is","isInside","resetQuery","cancelRequest","e","keyCode","Date","element","focus","select","document","getElementById","navigateSearchResult","parentComponent","parentHeight","clientHeight","resultHeight","resultOffset","offsetTop","padding","scrollTop","type","triggerHandler","click","selected","$cancelRequest","cancel","index","selectIndex","onQueryChange","eachResult","context","count","more","item","showMoreElement","loadMore","endIndex","searchResult","_slice","i","_context4","_splice","_context5","_context6","status","moment","OnmsDateFormatter","prototype","readyCallback","self","defaultFormat","window","_onmsZoneId","xhr","XMLHttpRequest","onreadystatechange","readystatechange","readyState","DONE","JSON","responseText","datetimeformatConfig","datetimeformat","_onmsDateTimeFormat","zoneId","console","log","statusText","open","setRequestHeader","send","assertInitialized","Error","getZoneId","_zoneId","warn","tz","guess","format","date","momentDate","formatJavaDTF","jest","f","_onmsFormatter","DateFormatterService","$interval","deferred","defer","resolve","raw","formatter","promise","$filter","onmsDate","input","ifEmpty","ret","dateFormatterService","compile","text","formatted","replaceWith","catch","exports","search","centralSearch","_util","kscTemplate","nodesTemplate","$window","getNodes","criteria","params","comparator","goToChooseResources","location","href","Util","getBaseHref","id","getKscReports","kscReport","goToKscReport","ksc","_startsWith","permissionDeniedTemplate","$rootScope","responseError","rejection","$emit","reject","$httpProvider","defaults","common","interceptors","run","$uibModal","$on","baseTags","getElementsByTagName","headerLogoutForm","submit","$uibModalInstance","reload","dismiss","size","backdrop","keyboard","version","full","jQuery","_classCallCheck","_createClass","base","setLocation","toggle","booleanValue","elementName","checkboxes","getElementsByName","checked"],"mappings":"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","file":"onms-assets.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn ","/**\n* @author Alejandro Galue <agalue@opennms.org>\n* @copyright 2016-2022 The OpenNMS Group, Inc.\n*/\n\n'use strict';\n\nconst angular = require('vendor/angular-js');\nconst bootbox = require('vendor/bootbox-js');\nrequire('lib/onms-http');\nrequire('../onms-date-formatter');\nrequire('../onms-default-apps');\n\nconst defaultConfig = require('./config.json');\n\nangular.module('onms-assets', [\n  'onms.http',\n  'onms.default.apps',\n  'ui.bootstrap',\n  'angular-growl',\n  'onmsDateFormatter'\n])\n\n.config(['$locationProvider', function($locationProvider) {\n  $locationProvider.hashPrefix('');\n}])\n\n.config(['growlProvider', function(growlProvider) {\n  growlProvider.globalTimeToLive(3000);\n  growlProvider.globalPosition('bottom-center');\n}])\n\n.config(['$uibTooltipProvider', function($uibTooltipProvider) {\n  $uibTooltipProvider.setTriggers({\n    'mouseenter': 'mouseleave'\n  });\n  $uibTooltipProvider.options({\n    'placement': 'right',\n    'trigger': 'mouseenter'\n  });\n}])\n\n.controller('NodeAssetsCtrl', ['$scope', '$http', '$q', 'growl', 'uibDateParser', function($scope, $http, $q, growl, uibDateParser) {\n\n  $scope.blackList = [ 'id', 'lastModifiedDate', 'lastModifiedBy', 'lastCapsdPoll', 'createTime' ];\n  $scope.infoKeys = [ 'sysObjectId', 'sysName', 'sysLocation', 'sysContact', 'sysDescription' ];\n  $scope.dateKeys = [ 'dateInstalled', 'leaseExpires', 'maintContractExpiration' ];\n\n  $scope.dateFormat = 'yyyy-MM-dd';\n\n  $scope.config = {};\n  $scope.master = {};\n  $scope.asset = {};\n  $scope.suggestions = {};\n  /*\n  $scope.nodeId;\n  $scope.nodeLabel;\n  $scope.foreignSource;\n  $scope.foreignId;\n  */\n\n  $scope.init = function(nodeId) {\n    $scope.nodeId = nodeId;\n    $scope.config = defaultConfig;\n    $http.get('rest/nodes/' + $scope.nodeId)\n      .then(function(response) {\n        const node = response.data;\n        $scope.nodeLabel = node.label;\n        $scope.foreignSource = node.foreignSource;\n        $scope.foreignId = node.foreignId;\n        angular.forEach($scope.dateKeys, function(key) {\n          node.assetRecord[key] = uibDateParser.parse(node.assetRecord[key], $scope.dateFormat);\n        });\n        $scope.master = angular.copy(node.assetRecord);\n        $scope.asset = angular.copy(node.assetRecord);\n        angular.forEach($scope.infoKeys, function(k) {\n          $scope.asset[k] = node[k];\n        });\n      }, function(response) {\n        growl.error(response.data);\n      });\n    $http.get('rest/assets/suggestions')\n      .then(function(response) {\n        $scope.suggestions = response.data\n      }, function(response) {\n        growl.error(response.data);\n      });\n  };\n\n  $scope.getSuggestions = function(field) {\n    if ($scope.suggestions[field]) {\n      return $scope.suggestions[field].suggestion;\n    }\n    return [];\n  };\n\n  $scope.reset = function() {\n    $scope.asset = angular.copy($scope.master);\n    $scope.assetForm.$setPristine();\n  };\n\n  $scope.save = function() {\n    var target = {};\n    for (var k in $scope.asset) {\n      if ($scope.infoKeys.indexOf(k) === -1 && $scope.blackList.indexOf(k) === -1 && $scope.asset[k] !== '' && $scope.asset[k] !== null) {\n        target[k] = $scope.dateKeys.indexOf(k) === -1 ? $scope.asset[k] : uibDateParser.filter($scope.asset[k], $scope.dateFormat);\n      }\n    }\n    //console.log('Assets to save: ' + angular.toJson(target));\n    $http({\n      method: 'PUT',\n      url: 'rest/nodes/' + $scope.nodeId + '/assetRecord',\n      headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n      data: $.param(target)\n    }).then(function() {\n      growl.success('The asset record has been successfully updated.');\n      $scope.checkRequisition(target);\n    }, function(response) {\n      growl.error('Cannot update the asset record: ' + response.data);\n    });\n  };\n\n  $scope.checkRequisition = function(assets) {\n    if ($scope.foreignSource && $scope.foreignId) {\n      bootbox.confirm('This node belongs to the requisition ' + $scope.foreignSource + '.<br/> It is recommended to update the requisition with your asset fields, but all the existing fields will be overriden.<br/> Do you want to do that ?', function(ok) {\n        if (ok) {\n          $scope.updateRequisition(assets);\n        }\n      });\n    }\n  };\n\n  $scope.updateRequisition = function(assets) {\n    var assetFields = [];\n    for (var key in assets) {\n      if (assets.hasOwnProperty(key)) {\n        assetFields.push({ name: key, value: assets[key] });\n      }\n    }\n    $http.get('rest/requisitions/' + $scope.foreignSource + '/nodes/' + $scope.foreignId)\n      .then(function(response) {\n        const node = response.data;\n        node.asset = assetFields;\n        $http.post('rest/requisitions/' + $scope.foreignSource + '/nodes', node)\n          .then(function() {\n            growl.success('Requisition ' + $scope.foreignSource + ' has been updated.');\n          }, function() {\n            growl.error('Cannot update requisition ' + $scope.foreignSource);\n          });\n      }, function() {\n        growl.error('Cannot obtain node data from requisition ' + $scope.foreignSource);\n      });\n  };\n\n}]);\n","const angular = require('vendor/angular-js');\nrequire('../../lib/onms-http');\nrequire('angular-bootstrap-toggle/dist/angular-bootstrap-toggle');\nrequire('angular-bootstrap-toggle/dist/angular-bootstrap-toggle.css');\nrequire('angular-ui-router');\n\nconst quickSearchTemplate  = require('./quicksearch.html');\n\nconst globalErrorHandling = function(scope, errorResponse) {\n    if (errorResponse.data) {\n        scope.error = errorResponse.data;\n    } else {\n        scope.error = \"An unexpected error occurred while handling the request\";\n    }\n};\n\n(function() {\n    'use strict';\n\n    var MODULE_NAME = 'onms.central.search';\n\n    angular.module(MODULE_NAME, [\n        'angular-loading-bar',\n        'ngResource',\n        'ui.router',\n        'onms.http',\n    ])\n        .config(['$locationProvider', function($locationProvider) {\n            $locationProvider.hashPrefix('');\n        }])\n\n        .directive('onmsCentralSearch', function() {\n            return {\n                restrict: 'E',\n                transclude: false,\n                templateUrl: quickSearchTemplate,\n                controller: 'QuickSearchController'\n            };\n        })\n        .factory('SearchResource', function($resource) {\n            return $resource('api/v2/search', {}, {\n                'query':      { method: 'GET', isArray: true, cancellable: true },\n            });\n        })\n        .controller('QuickSearchController', ['$scope', 'SearchResource', '$timeout', '$document', function($scope, SearchResource, $timeout, $document) {\n            var KeyCodes = {\n                ENTER: 13,\n                SHIFT: 16,\n                ESC: 27,\n                KEY_LEFT: 37,\n                KEY_UP: 38,\n                KEY_RIGHT: 39,\n                KEY_DOWN: 40,\n            };\n\n            var Types = {\n                Group: 'Group',\n                Item: 'Item',\n                More: 'More'\n            };\n\n            $scope.query = '';\n            $scope.results = {};\n            $scope.performSearchExecuted = false;\n            $scope.showLoadingIndicator = false;\n            $scope.showLoadingIndicatorDelay = 250;\n            $scope.performSearchDelay = 500; // in ms\n            $scope.performSearchPromise = undefined;\n            $scope.performSearchHandle = undefined;\n            $scope.showLoadingIndicatorPromise = undefined;\n            $scope.shiftLastPressed = undefined;\n            $scope.selectedIndex = 0;\n\n            $document.bind('mousedown', function(event) {\n                var isChild = $('#onms-search-form').has(event.target).length > 0;\n                var isSelf = $('#onms-search-form').is(event.target);\n                var isInside = isChild || isSelf;\n                if (!isInside) {\n                    $timeout(function() {\n                        $scope.resetQuery();\n                        $scope.cancelRequest();\n                    });\n                }\n            });\n\n            $document.bind('keyup', function(e) {\n                // Search Focus Field\n                $timeout(function() {\n                    if (e.keyCode === KeyCodes.SHIFT && new Date() - $scope.shiftLastPressed <= 350) {\n                        angular.element('#onms-search-query').focus();\n                        angular.element('#onms-search-query').select();\n                        $scope.shiftLastPressed = undefined;\n                    } else if(e.keyCode === KeyCodes.SHIFT) {\n                        $scope.shiftLastPressed = new Date();\n                    }\n\n                    // Reset Search\n                    if (e.keyCode === KeyCodes.ESC) {\n                        $scope.resetQuery();\n                        $scope.cancelRequest();\n                    }\n                });\n            });\n\n            $document.bind('keydown', function(e) {\n                $timeout(function() {\n                    if ($scope.results.length > 0) {\n                        var element = document.getElementById('onms-search-result-item-' + $scope.selectedIndex);\n                        if (e.keyCode === KeyCodes.KEY_UP || e.keyCode === KeyCodes.KEY_DOWN) {\n                            $scope.navigateSearchResult(e.keyCode);\n\n                            // Ideally we would use scrollToView(), but that will also scroll the body, which\n                            // results in the header scrolling down slightly, which looks weird when using the search\n                            // So instead scrolling is implemented manually\n                            var parentComponent = document.getElementById('onms-search-result');\n                            var parentHeight = parentComponent.clientHeight;\n                            var resultHeight = element.clientHeight;\n                            var resultOffset = element.offsetTop;\n                            var padding = 25;\n\n                            // Scroll down\n                            if (resultOffset + resultHeight + padding >= parentHeight + parentComponent.scrollTop) {\n                                parentComponent.scrollTop = resultOffset;\n                            }\n                            // Scroll up\n                            if (parentComponent.scrollTop !== 0\n                                && parentComponent.scrollTop > resultOffset - resultHeight) {\n                                parentComponent.scrollTop = resultOffset - resultHeight;\n                            }\n                        }\n                        if (e.keyCode === KeyCodes.ENTER) {\n                            if ($scope.results[$scope.selectedIndex].type === Types.More) {\n                                // Ensure next action is run in angular context\n                                // Do not use angular.$apply here, as it may fail on angular sites,\n                                // such as the requisition ui\n                                $timeout(function() {\n                                    angular.element(element).triggerHandler('click');\n                                }, 0);\n                            } else {\n                                $scope.resetQuery();\n                                $scope.cancelRequest();\n                                element.click();\n                            }\n                        }\n                    }\n                });\n            });\n\n            $scope.navigateSearchResult = function(keyCode) {\n                $scope.results[$scope.selectedIndex].selected = false;\n                switch(keyCode) {\n                    case KeyCodes.KEY_UP:\n                        $scope.selectedIndex--;\n                        break;\n                    case KeyCodes.KEY_DOWN:\n                        $scope.selectedIndex++;\n                        break;\n                    default:\n                        break;\n                }\n                if ($scope.selectedIndex < 1) {\n                    $scope.selectedIndex = 1;\n                }\n                if ($scope.selectedIndex >= $scope.results.length) {\n                    $scope.selectedIndex = $scope.results.length - 1;\n                }\n                if ($scope.results[$scope.selectedIndex].type === Types.Group) {\n                    $scope.navigateSearchResult(keyCode); // Skip group element\n                } else {\n                    $scope.results[$scope.selectedIndex].selected = true;\n                }\n            };\n\n            $scope.resetQuery = function() {\n                $scope.query = '';\n                $scope.results = [];\n                $scope.performSearchExecuted = false;\n                if ($scope.performSearchHandle) {\n                    $scope.performSearchHandle.$cancelRequest();\n                }\n            };\n\n            $scope.cancelRequest = function() {\n                if ($scope.performSearchHandle) {\n                    $scope.performSearchHandle.$cancelRequest();\n                }\n                $scope.showLoadingIndicator = false;\n                $timeout.cancel($scope.showLoadingIndicatorPromise);\n            };\n\n            // Ensure there is no difference between selected and mouseover\n            $scope.select = function(index) {\n                var selectIndex = index || 1;\n                if ($scope.selectedIndex >= 1) {\n                    $scope.results[$scope.selectedIndex].selected = false;\n                }\n                $scope.selectedIndex = selectIndex;\n                $scope.results[$scope.selectedIndex].selected = true;\n            };\n\n            $scope.onQueryChange = function() {\n                if ($scope.query.length == 0) {\n                    $scope.resetQuery();\n                    return;\n                }\n                if ($scope.query.length < 3) {\n                    return;\n                }\n\n                // Stop any previous loading\n                $timeout.cancel($scope.performSearchPromise);\n                $scope.results = [];\n                $scope.performSearchExecuted = false;\n\n                // Start timeout before actually searching, this will allow for not invoking when the user\n                // is still typing. Fiddle with $scope.loadingDelay to make it resolve faster\n                $scope.performSearchPromise = $timeout(function() {\n                    // Stop any previously started delay\n                    $timeout.cancel($scope.showLoadingIndicatorPromise);\n\n                    // Kick of loading indicator\n                    $scope.showLoadingIndicatorPromise = $timeout(function() {\n                        $scope.showLoadingIndicator = true;\n                    }, $scope.showLoadingIndicatorDelay);\n\n                    // Cancel any previous request\n                    if ($scope.performSearchHandle) {\n                        $scope.performSearchHandle.$cancelRequest();\n                    }\n\n                    // Kick of the search\n                    $scope.error = undefined;\n                    $scope.performSearchHandle = SearchResource.query({'_s' : $scope.query},\n                        function(data) {\n                            $scope.cancelRequest();\n                            $scope.performSearchExecuted = true;\n\n                            var results = [];\n                            data.forEach(function(eachResult) {\n                                // Create the header\n                                results.push({\n                                        context: eachResult.context.name,\n                                        // Make the label have an s at the end if it has multiple items\n                                        label: eachResult.results.length > 1 ? eachResult.context.name + 's' : eachResult.context.name,\n                                        type: Types.Group,\n                                        count: eachResult.results.length,\n                                        more: eachResult.more\n                                    }\n                                );\n\n                                eachResult.results.forEach(function(item) {\n                                    item.type = Types.Item;\n                                    results.push(item);\n                                });\n\n                                if (eachResult.more === true) {\n                                    var showMoreElement = {\n                                        context: eachResult.context.name,\n                                        count: eachResult.results.length,\n                                        type: Types.More,\n                                        loadMore: function() {\n                                            $scope.error = undefined;\n                                            SearchResource.query({'_s': $scope.query, '_l': this.count + 10, '_c' : this.context}, function(response) {\n                                                var endIndex = $scope.results.indexOf(showMoreElement);\n\n                                                // The result is context focused, so there is only one search result anyways\n                                                var searchResult = response[0];\n                                                var results = searchResult.results.slice(endIndex - 1); // Remove first elements, as they are already being showed\n                                                results.forEach(function(item, i) {\n                                                    // Add item\n                                                    item.type = Types.Item;\n                                                    $scope.results.splice(endIndex + i, 0, item);\n                                                    showMoreElement.count++;\n                                                });\n                                                // Toggle Selection\n                                                showMoreElement.selected = false;\n                                                $scope.results[$scope.selectedIndex].selected = true;\n\n                                                // Hide element\n                                                if (searchResult.more === false) {\n                                                    $scope.results.splice($scope.results.indexOf(showMoreElement), 1);\n                                                }\n                                            }, function(response) {\n                                                $scope.performSearchExecuted = true;\n                                                globalErrorHandling($scope, response);\n                                            });\n                                        },\n                                        selected: false\n                                    };\n                                    results.push(showMoreElement);\n                                }\n                            });\n                            $scope.results = results;\n                            if ($scope.results.length != 0) {\n                                $scope.selectedIndex = 1;\n                                $scope.results[$scope.selectedIndex].selected = true;\n                            }\n                        },\n                        function(response) {\n                            if (response.status >= 0) {\n                                $scope.performSearchExecuted = true;\n                                globalErrorHandling($scope, response);\n                                $scope.cancelRequest();\n                            } else {\n                                // Request cancelled\n                            }\n                        }\n                    );\n                }, $scope.performSearchDelay);\n            };\n        }])\n    ;\n}());\n","// Module\nvar code = \"<span>\\n\\n<style type=\\\"text/css\\\">\\n    .search-result {\\n        max-height: 700px;\\n        min-width: 280px;\\n        max-width: 60%;\\n        position: absolute;\\n        top: 100%;\\n        z-index: 100000;\\n        overflow: auto;\\n        border: #343a40 solid 1px;\\n    }\\n\\n    .search-result .list-group-item {\\n        padding: .25rem 0.75rem;\\n        font-size: 90%;\\n    }\\n\\n    .search-result .list-group-item:last-child {\\n        border-bottom-right-radius: 0;\\n        border-bottom-left-radius: 0;\\n    }\\n\\n    .search-bar .form-control {\\n        border: none;\\n        outline: none;\\n        box-shadow: none;\\n        border-radius: 1rem;\\n        padding: 0px;\\n    }\\n\\n    .search-bar .input-group-text {\\n        border-top-left-radius: 1rem;\\n        border-bottom-left-radius: 1rem;\\n        background-color: #fff;\\n        border-color: #fff;\\n    }\\n\\n    .search-result .list-group-item:hover {\\n        background-color: #e9ecef;\\n    }\\n\\n    .selected {\\n        background-color: #e9ecef;\\n    }\\n</style>\\n\\n<form id=\\\"onms-search-form\\\" autocomplete=\\\"off\\\" novalidate class=\\\"form-inline\\\">\\n    <!-- Disable auto complete -->\\n    <input autocomplete=\\\"false\\\" name=\\\"hidden\\\" type=\\\"text\\\" style=\\\"display:none;\\\">\\n\\n    <!-- Search Input -->\\n    <div class=\\\"input-group search-bar\\\">\\n        <div class=\\\"input-group-prepend\\\">\\n            <div class=\\\"input-group-text\\\"><i class=\\\"fa fa-search\\\"></i></div>\\n        </div>\\n        <label class=\\\"form-control\\\">\\n            <input id=\\\"onms-search-query\\\" ng-change=\\\"onQueryChange()\\\" ng-focus=\\\"input.focus=true\\\" ng-blur=\\\"input.focus=false\\\" ng-model=\\\"query\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Search...\\\" aria-label=\\\"Search\\\">\\n            <small class=\\\"text-muted mr-4 quick-search-chevron\\\" ng-show=\\\"!input.focus\\\">\\n                <span></span>\\n                <span></span>\\n            </small>\\n        </label>\\n        <!-- Loading Indicator -->\\n        <div ng-if=\\\"showLoadingIndicator\\\" class=\\\"btn btn-secondary rounded-0\\\">\\n            <div class=\\\"spinner-border spinner-border-sm text-white\\\" role=\\\"status\\\"></div>\\n            <span class=\\\"sr-only\\\">Loading...</span>\\n        </div>\\n        <!-- Reset Search -->\\n        <div ng-if=\\\"performSearchExecuted === true && !showLoadingIndicator\\\" class=\\\"input-group-append\\\">\\n            <button class=\\\"btn btn-secondary\\\" type=\\\"button\\\" title=\\\"Reset Search\\\" ng-click=\\\"resetQuery()\\\"><i class=\\\"fa fa-times\\\"></i></button>\\n        </div>\\n        <!-- Cancel -->\\n        <div ng-if=\\\"showLoadingIndicator\\\" class=\\\"input-group-append\\\">\\n            <button class=\\\"btn btn-secondary\\\" type=\\\"button\\\" title=\\\"Cancel Request\\\" ng-click=\\\"cancelRequest()\\\"><i class=\\\"fa fa-times\\\"></i></button>\\n        </div>\\n    </div>\\n\\n    <!-- Results -->\\n    <div ng-if=\\\"performSearchExecuted === true\\\" class=\\\"bg-dark search-result rounded-bottom\\\" id=\\\"onms-search-result\\\">\\n        <div class=\\\"list-group\\\" ng-if=\\\"results.length > 0\\\">\\n            <div id=\\\"onms-search-result-item-{{$index}}\\\" ng-repeat-start=\\\"item in results track by $index\\\" ng-if=\\\"item.type === 'Group'\\\" class=\\\"list-group-item bg-dark text-grey border-0 pl-2\\\">\\n                <span ng-if=\\\"!item.t\\\">{{item.label}}</span>\\n            </div>\\n            <a id=\\\"onms-search-result-item-{{$index}}\\\" ng-class=\\\"{'selected': item.selected}\\\" ng-if=\\\"item.type === 'More'\\\" ng-click=\\\"item.loadMore()\\\" class=\\\"list-group-item list-group-item-action\\\" href ng-mouseover=\\\"select($index)\\\">more...</a>\\n            <a id=\\\"onms-search-result-item-{{$index}}\\\" ng-class=\\\"{'selected': item.selected}\\\" ng-repeat-end ng-if=\\\"item.type === 'Item'\\\" href=\\\"{{item.url}}\\\" class=\\\"list-group-item list-group-item-action\\\" ng-mouseover=\\\"select($index)\\\" ng-click=\\\"resetQuery()\\\">\\n                <h6 class=\\\"mb-0\\\"><i class=\\\"{{item.icon}}\\\" ng-if=\\\"item.icon\\\">&nbsp;</i>{{item.label}} <i style=\\\"-webkit-transform: scaleY(-1);transform: scaleY(-1);\\\" class=\\\"fa fa-reply pull-right\\\" ng-if=\\\"item.selected\\\"></i></h6>\\n                <small class=\\\"mr-4\\\" ng-class=\\\"{'text-muted': !item.selected}\\\" ng-repeat=\\\"match in item.matches\\\">{{match.label}}: {{match.value}}</small>\\n                <br ng-if=\\\"item.info !== ''\\\">\\n                <small class=\\\"mr-4\\\" ng-class=\\\"{'text-muted': !item.selected}\\\" ng-if=\\\"item.info !== ''\\\">{{item.info}}</small>\\n            </a>\\n        </div>\\n\\n        <!-- No Result -->\\n        <div ng-if=\\\"!error && results.length === 0\\\" class=\\\"text-grey\\\">\\n            <span>No Results found</span>\\n        </div>\\n        <div ng-if=\\\"error\\\" class=\\\"alert alert-danger mx-2 my-2\\\">\\n            <span>{{error}}</span>\\n        </div>\\n    </div>\\n</form>\\n\\n</span>\\n\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-central-search/quicksearch.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","/* eslint no-console: 0 */\n\nconst angular = require('vendor/angular-js');\nconst moment = require('vendor/moment-js');\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction OnmsDateFormatter() {\n}\n\nOnmsDateFormatter.prototype.init = function init(readyCallback) {\n\tvar self = this;\n\tvar defaultFormat = \"yyyy-MM-dd'T'HH:mm:ssxxx\"; // eslint-disable-line quotes\n\twindow._onmsZoneId = undefined;\n\n\tvar xhr = new XMLHttpRequest();\n\txhr.onreadystatechange = function readystatechange() {\n\t\ttry {\n\t\t\tif (xhr.readyState === XMLHttpRequest.DONE) {\n\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\tvar config = JSON.parse(xhr.responseText);\n\t\t\t\t\tif (config.datetimeformatConfig && config.datetimeformatConfig.datetimeformat) {\n\t\t\t\t\t\twindow._onmsDateTimeFormat = config.datetimeformatConfig.datetimeformat || defaultFormat;\n\t\t\t\t\t\twindow._onmsZoneId = config.datetimeformatConfig.zoneId;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('Error: datetimeformatConfig property not found:',config);\n\t\t\t\t\t\twindow._onmsDateTimeFormat = defaultFormat;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('Error: failed to request format info: ' + xhr.status + ' ' + xhr.statusText);\n\t\t\t\t\twindow._onmsDateTimeFormat = defaultFormat;\n\t\t\t\t}\n\t\t\t\treadyCallback(self, xhr.status);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log('Error: failed to request format info: ', e);\n\t\t\twindow._onmsDateTimeFormat = defaultFormat;\n\t\t\treadyCallback(self, xhr.status);\n\t\t}\n\t};\n\txhr.open('GET', 'rest/info');\n\txhr.setRequestHeader('Accept', 'application/json');\n\txhr.send();\n};\n\nOnmsDateFormatter.prototype.assertInitialized = function assertInitialized() {\n\tif (!window._onmsDateTimeFormat) {\n\t\tconsole.log('OnmsDateFormatter.init() must complete before using!');\n\t\tthrow new Error('OnmsDateFormatter.init() must complete before using!');\n\t}\n};\n\nOnmsDateFormatter.prototype.getZoneId = function getZoneId() {\n\tthis.assertInitialized();\n\n\tif (!this._zoneId) {\n\t\tif (window._onmsZoneId) {\n\t\t\tthis._zoneId = window._onmsZoneId;\n\t\t} else {\n\t\t\tconsole.warn('No zone ID specified from the server; guessing based on browser.');\n\t\t\tthis._zoneId = moment.tz.guess();\n\t\t}\n\t}\n\treturn this._zoneId;\n};\n\nOnmsDateFormatter.prototype.format = function format(date) {\n\tthis.assertInitialized();\n\n\tif (date === undefined || date === null) {\n\t\treturn date;\n\t}\n\n\tconst zoneId = this.getZoneId();\n\tconst momentDate = moment.tz(date, zoneId);\n\treturn momentDate.formatJavaDTF(window._onmsDateTimeFormat);\n};\n\n(function() {\n\t'use strict';\n\tif (typeof jest === 'undefined') {\n\t\tvar f = new OnmsDateFormatter();\n\t\tf.init(function() {\n\t\t\twindow._onmsFormatter = f;\n\t\t});\n\t} else {\n\t\tconsole.log('Running in a test environment. Skipping automatic initialization.');\n\t}\n})();\n\n(function() {\n\t'use strict';\n\n\tif (window.angular) {\n\t\tangular.module('onmsDateFormatter', ['ng']).factory('DateFormatterService', ['$interval', '$q', function DateFormatterService($interval, $q) {\n\t\t\tconsole.log('Initializing DateFormatterService');\n\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar count = 0;\n\t\t\tvar i = $interval(function() {\n\t\t\t\tif (window._onmsFormatter) {\n\t\t\t\t\tconsole.log('Global formatter found: ' + window._onmsDateTimeFormat);\n\t\t\t\t\tdeferred.resolve(window._onmsFormatter);\n\t\t\t\t\t$interval.cancel(i);\n\t\t\t\t}\n\t\t\t\tif (count++ > 300) {\n\t\t\t\t\tconsole.log('DateFormatterService: giving up waiting for global formatter.');\n\t\t\t\t\t$interval.cancel(i);\n\t\t\t\t}\n\t\t\t}, 100);\n\n\t\t\treturn {\n\t\t\t\traw: window._onmsFormatter,\n\t\t\t\tformatter: deferred.promise,\n\t\t\t\tformat: function(date) {\n\t\t\t\t\treturn deferred.promise.then(function(f) {\n\t\t\t\t\t\treturn f.format(date);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\tangular.module('onmsDateFormatter').filter('onmsDate', ['$filter', 'DateFormatterService', function($filter, DateFormatterService) {\n\t\t\treturn function onmsDate(input, ifEmpty) {\n\t\t\t\tvar ret;\n\t\t\t\tif (window._onmsFormatter) {\n\t\t\t\t\t// If the formatter has finished initializing, use it\n\t\t\t\t\tret = window._onmsFormatter.format(input);\n\t\t\t\t\t//console.log('onmsDate: formatter returned: ' + ret);\n\t\t\t\t} else {\n\t\t\t\t\t// Otherwise, use ISO format\n\t\t\t\t\tret = $filter('date')(input, 'yyyy-MM-ddTHH:mm:ss.sssZ');\n\t\t\t\t\t//console.log('onmsDate: $filter(date) returned: ' + ret);\n\t\t\t\t}\n\t\t\t\tif (ret !== undefined && ret !== null) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t\treturn ifEmpty;\n\t\t\t}\n\t\t}]);\n\n\t\tangular.module('onmsDateFormatter').directive('onmsDate', ['DateFormatterService', function(dateFormatterService) {\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\tcompile: function(element) {\n\t\t\t\t\tdateFormatterService.format(element.text()).then(function(formatted) {\n\t\t\t\t\t\telement.replaceWith(formatted);\n\t\t\t\t\t}).catch(function(e) {\n\t\t\t\t\t\tconsole.error('Failed to format ' + element.text(), e);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}]);\n\t} else {\n\t\tconsole.log('Angular not found.  Not initializing OnmsDateFormatter Angular components.');\n\t}\n})();\n\nmodule.exports = OnmsDateFormatter;\n","const angular = require('vendor/angular-js');\nconst search = require('apps/search');\nconst centralSearch = require('apps/onms-central-search');\n\nconst MODULE_NAME = 'onms.default.apps';\n\nangular.module(MODULE_NAME, [ 'onms.central.search', 'onms-search' ]);\n","/**\n* @author Alejandro Galue <agalue@opennms.org>\n* @copyright 2016-2022 The OpenNMS Group, Inc.\n*/\n\n'use strict';\n\nconst angular = require('vendor/angular-js');\nrequire('lib/onms-http');\n\nconst kscTemplate = require('./template.ksc.html');\nconst nodesTemplate = require('./template.nodes.html');\n\nimport Util from 'lib/util';\n\nangular.module('onms-search', [\n  'onms.http',\n  'ui.bootstrap'\n])\n\n.config(['$locationProvider', function($locationProvider) {\n  $locationProvider.hashPrefix('');\n}])\n\n.directive('onmsSearchNodes', function() {\n  return {\n    restrict: 'E',\n    transclude: true,\n    templateUrl: nodesTemplate,\n    controller: 'NodeSearchCtrl'\n  };\n})\n\n.directive('onmsSearchKsc', function() {\n  return {\n    restrict: 'E',\n    transclude: true,\n    templateUrl: kscTemplate,\n    controller: 'KscSearchCtrl'\n  };\n})\n\n.controller('NodeSearchCtrl', ['$scope', '$window', '$http', function($scope, $window, $http) {\n\n  $scope.getNodes = function(criteria) {\n    return $http({\n      url: 'rest/nodes',\n      method: 'GET',\n      params: { label: criteria, comparator: 'contains' }\n    }).then(function(response) {\n      return response.data.node;\n    });\n  };\n\n  $scope.goToChooseResources = function(node) {\n    $window.location.href = Util.getBaseHref() + 'graph/chooseresource.jsp?node=' + node.id;\n  }\n\n}])\n\n.controller('KscSearchCtrl', ['$scope', '$window', '$http', '$filter', function($scope, $window, $http, $filter) {\n\n  $scope.getKscReports = function(criteria) {\n    return $http({\n      url: 'rest/ksc',\n      method: 'GET'\n    }).then(function(response) {\n       return $filter('filter')(response.data.kscReport, criteria);\n    });\n  };\n\n  $scope.goToKscReport = function(ksc) {\n    $window.location.href = Util.getBaseHref() + 'KSC/customView.htm?type=custom&report=' + ksc.id;\n  }\n\n}]);","// Module\nvar code = \"<div class=\\\"form-group\\\">\\n  <div class=\\\"input-group\\\">\\n    <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"asyncKsc\\\" placeholder=\\\"Type the KSC report name\\\"\\n      uib-typeahead=\\\"ksc as ksc.label for ksc in getKscReports($viewValue)\\\"\\n      typeahead-editable=\\\"false\\\"\\n      typeahead-loading=\\\"kscLoadingNodes\\\"\\n      typeahead-no-results=\\\"kscNoResults\\\"\\n      typeahead-min-length=\\\"1\\\"\\n      typeahead-on-select=\\\"goToKscReport($item)\\\">\\n    <div class=\\\"input-group-append\\\">\\n      <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-search\\\"></i></span>\\n    </div>\\n  </div>\\n  <i ng-show=\\\"kscLoadingNodes\\\" class=\\\"fa fa-refresh\\\"></i>\\n  <p class=\\\"form-text text-muted\\\" ng-show=\\\"kscNoResults\\\">\\n    <i class=\\\"fa fa-remove\\\"></i> No Results Found\\n  </p>\\n</div>\\n\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/search/template.ksc.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<div class=\\\"form-group\\\">\\n  <div class=\\\"input-group\\\">\\n    <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"asyncNode\\\" placeholder=\\\"Type the node label\\\"\\n      uib-typeahead=\\\"node as node.label for node in getNodes($viewValue)\\\"\\n      typeahead-editable=\\\"false\\\"\\n      typeahead-loading=\\\"nodeLoadingNodes\\\"\\n      typeahead-no-results=\\\"nodeNoResults\\\"\\n      typeahead-min-length=\\\"1\\\"\\n      typeahead-on-select=\\\"goToChooseResources($item)\\\">\\n    <div class=\\\"input-group-append\\\">\\n      <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-search\\\"></i></span>\\n    </div>\\n  </div>\\n  <i ng-show=\\\"nodeLoadingNodes\\\" class=\\\"fa fa-refresh\\\"></i>\\n  <p class=\\\"form-text text-muted\\\" ng-show=\\\"nodeNoResults\\\">\\n    <i class=\\\"fa fa-remove\\\"></i> No Results Found\\n  </p>\\n</div>\\n\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/search/template.nodes.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<span>\\n<div class=\\\"modal-header\\\">\\n    <h3><i class=\\\"fa fa-exclamation-triangle text-warning\\\"></i> Permission Denied</h3>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    <h5>\\n        You are not allowed to perform the requested action.\\n    </h5>\\n    <p class=\\\"text-muted\\\">\\n        This is not supposed to happen.\\n        Please reload the page and contact your administrator if this occurs more often.\\n    </p>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-primary\\\" ng-click=\\\"reload()\\\">Reload</button>\\n</div>\\n</span>\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/lib/onms-http/403-permission-denied.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","'use strict';\n\nconst angular = require('vendor/angular-js');\n\nconst permissionDeniedTemplate  = require('./403-permission-denied.html');\n\nangular.module('onms.http', ['ui.bootstrap'])\n    .factory('InterceptorService',['$q', '$rootScope', function($q, $rootScope) {\n        return {\n            responseError: function (rejection) {\n                if (rejection.status === 401) {\n                    if (rejection.config && rejection.config.url\n                        && (rejection.config.url.startsWith('rest/')\n                            || rejection.config.url.startsWith('api/v2/'))\n                    ) {\n                        console.error('Login Required', rejection, rejection.headers); // eslint-disable-line no-console\n                        $rootScope.$emit('loginRequired');\n                    }\n                }\n                if (rejection.status === 403) {\n                    $rootScope.$emit('permissionDenied');\n                }\n                return $q.reject(rejection);\n            }\n        }\n    }])\n    .config(['$locationProvider', function($locationProvider) {\n        $locationProvider.hashPrefix('');\n    }])\n    .config(['$httpProvider',\n        function ($httpProvider) {\n            $httpProvider.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n            $httpProvider.interceptors.push('InterceptorService');\n        }\n    ])\n    .run(['$rootScope', '$uibModal', function($rootScope, $uibModal) {\n        $rootScope.$on('loginRequired', function() {\n            var baseTags = document.getElementsByTagName('base');\n            if (baseTags && baseTags.length > 0 && baseTags[0].href) {\n                document.headerLogoutForm.submit();\n            } else {\n                console.warn('Login is required, but cannot forward to login page due to missing base tag.'); // eslint-disable-line no-console\n            }\n        });\n\n        $rootScope.$on('permissionDenied', function() {\n            $uibModal.open({\n                templateUrl: permissionDeniedTemplate,\n                controller: function($scope, $uibModalInstance) {\n                    $scope.reload = function () {\n                        $uibModalInstance.dismiss();\n                        window.location.reload();\n                    };\n                },\n                size: '',\n                backdrop: 'static',\n                keyboard  : false\n            });\n        });\n    }])\n;\n\nmodule.exports = angular;","/* Load jQuery first, so Angular finds it */\nrequire('./jquery-js');\n\n/* Angular Core */\nconst angular = require('angular');\nrequire('angular-animate');\nrequire('angular-cookies');\nrequire('angular-route');\nrequire('angular-resource');\nrequire('angular-sanitize');\n\n/* 3rd-Party Modules */\nrequire('angular-growl-v2');\nrequire('angular-loading-bar');\n\nrequire('angular-growl-v2/build/angular-growl.css');\nrequire('angular-loading-bar/build/loading-bar.css');\n\n/* Bootstrap UI */\nrequire('vendor/bootstrap-js');\nrequire('angular-bootstrap-checkbox');\nrequire('ui-bootstrap4'); // angular-ui-boostrap for bootstrap 4\n\nconsole.log('init: angular-js ' + angular.version.full); // eslint-disable-line no-console\n\nmodule.exports = window['angular'] = angular;","require('./jquery-ui-js');\nconst bootbox = require('bootbox');\n\nconsole.log('init: bootbox-js'); // eslint-disable-line no-console\n\nmodule.exports = window['bootbox'] = bootbox;","console.log('init: bootstrap-js'); // eslint-disable-line no-console\n\nconst jQuery = require('vendor/jquery-js');\nrequire('vendor/moment-js');\nrequire('bootstrap/dist/js/bootstrap');\n\nmodule.exports = jQuery;\n","console.log('init: jquery-js'); // eslint-disable-line no-console\n\nconst jQuery = require('jquery');\nrequire('jquery-migrate');\n\nmodule.exports = jQuery;\n","const jQuery = require('vendor/jquery-js');\n\n// jquery-ui base\nrequire('jquery-ui/ui/core');\nrequire('jquery-ui/ui/widget');\nrequire('jquery-ui/ui/widgets/mouse');\nrequire('jquery-ui/ui/widgets/draggable');\nrequire('jquery-ui/ui/widgets/droppable');\nrequire('jquery-ui/ui/widgets/resizable');\nrequire('jquery-ui/ui/widgets/selectable');\nrequire('jquery-ui/ui/widgets/sortable');\nrequire('jquery-ui/ui/effect');\n\n// additional core plugins\nrequire('jquery-ui/ui/data');\nrequire('jquery-ui/ui/disable-selection');\nrequire('jquery-ui/ui/focusable');\nrequire('jquery-ui/ui/form-reset-mixin');\nrequire('jquery-ui/ui/form');\nrequire('jquery-ui/ui/ie');\nrequire('jquery-ui/ui/keycode');\nrequire('jquery-ui/ui/labels');\nrequire('jquery-ui/ui/plugin');\nrequire('jquery-ui/ui/position');\nrequire('jquery-ui/ui/safe-active-element');\nrequire('jquery-ui/ui/safe-blur');\nrequire('jquery-ui/ui/scroll-parent');\nrequire('jquery-ui/ui/tabbable');\nrequire('jquery-ui/ui/unique-id');\nrequire('jquery-ui/ui/version');\n\n// additional widgets\nrequire('jquery-ui/ui/widgets/accordion');\nrequire('jquery-ui/ui/widgets/autocomplete');\nrequire('jquery-ui/ui/widgets/button');\nrequire('jquery-ui/ui/widgets/checkboxradio');\nrequire('jquery-ui/ui/widgets/controlgroup');\nrequire('jquery-ui/ui/widgets/datepicker');\nrequire('jquery-ui/ui/widgets/dialog');\nrequire('jquery-ui/ui/widgets/menu');\nrequire('jquery-ui/ui/widgets/progressbar');\nrequire('jquery-ui/ui/widgets/selectmenu');\nrequire('jquery-ui/ui/widgets/slider');\nrequire('jquery-ui/ui/widgets/spinner');\nrequire('jquery-ui/ui/widgets/tabs');\nrequire('jquery-ui/ui/widgets/tooltip');\n\n// 3rd-party jquery-ui plugins\nrequire('jquery-ui-treemap');\nrequire('jquery-sparkline/dist/jquery.sparkline');\n\nconsole.log('init: jquery-ui-js'); // eslint-disable-line no-console\n\nmodule.exports = jQuery;\n","console.log('init: moment-js'); // eslint-disable-line no-console\n\nconst moment = require('moment');\nrequire('moment-timezone');\nrequire('@rangerrick/moment-javaformat');\n\nmodule.exports = moment;","export default class Util {\n\tstatic getBaseHref() {\n\t\tconst base = document.getElementsByTagName('base')[0];\n\t\tif (base) {\n\t\t\treturn base.href;\n\t\t}\n\t\treturn '';\n\t}\n\tstatic setLocation(url) {\n\t\tif (window && window.location) {\n\t\t\twindow.location.href = Util.getBaseHref() + url;\n\t\t}\n\t}\n\tstatic toggle(booleanValue, elementName) {\n\t\tvar checkboxes = document.getElementsByName(elementName);\n\t\tfor (var index in checkboxes) {\n\t\t\tif (checkboxes.hasOwnProperty(index)) {\n\t\t\t\tcheckboxes[index].checked = booleanValue;\n\t\t\t}\n\t\t}\n\t}\n}"],"sourceRoot":""}