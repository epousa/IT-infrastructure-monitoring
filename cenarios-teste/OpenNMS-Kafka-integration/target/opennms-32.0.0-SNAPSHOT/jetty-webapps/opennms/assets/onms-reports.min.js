!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(window,(function(){return(window.webpackJsonp=window.webpackJsonp||[]).push([[53,2,8,25,35,42,49,52,55,71],{10:function(e,exports,t){"use strict";var r,o=(r=t(70))&&r.__esModule?r:{default:r};var angular=t(3),n=t(22);angular.module("onms.http",["ui.bootstrap"]).factory("InterceptorService",["$q","$rootScope",function(e,t){return{responseError:function(r){var n,a;401===r.status&&(r.config&&r.config.url&&((0,o.default)(n=r.config.url).call(n,"rest/")||(0,o.default)(a=r.config.url).call(a,"api/v2/"))&&(console.error("Login Required",r,r.headers),t.$emit("loginRequired")));return 403===r.status&&t.$emit("permissionDenied"),e.reject(r)}}}]).config(["$locationProvider",function(e){e.hashPrefix("")}]).config(["$httpProvider",function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.interceptors.push("InterceptorService")}]).run(["$rootScope","$uibModal",function(e,t){e.$on("loginRequired",(function(){var e=document.getElementsByTagName("base");e&&e.length>0&&e[0].href?document.headerLogoutForm.submit():console.warn("Login is required, but cannot forward to login page due to missing base tag.")})),e.$on("permissionDenied",(function(){t.open({templateUrl:n,controller:["$scope","$uibModalInstance",function($scope,e){$scope.reload=function(){e.dismiss(),window.location.reload()}}],size:"",backdrop:"static",keyboard:!1})}))}]),e.exports=angular},1038:function(e,exports,t){"use strict";t(13),t(116),t(117),t(109),t(210),t(293),t(48),t(290),t(1039),t(1042),t(1049),t(1052),t(1053),t(1054),t(1057),t(1058),t(1059),t(1060),t(1061),t(1062),t(1063),t(1064),t(1066),t(1067),t(1068),t(1069),t(1070),t(1071),t(1072),t(1073),t(1078),t(1079),t(1080);var r=m(t(11)),o=m(t(9)),n=m(t(296)),a=m(t(1084)),i=m(t(49)),s=m(t(209)),l=m(t(294)),u=m(t(1089)),d=m(t(1100)),p=m(t(1134)),c=m(t(111)),f=t(80);function m(e){return e&&e.__esModule?e:{default:e}}var h=t(1135),angular=t(3),v=t(8);t(10),t(206),t(469),t(471),t(80),t(450),t(1143),t(1145);var g=t(128),y=t(1146),b=t(1147),w=t(1148),E=t(1149),k=t(1150),_=t(1151),S=t(1152),C=t(292),O=function(e,t,r){if(t&&e){var o=new p.default(e);if(o.isBadRequest()){var n=o.asContextError();t.setErrors(n)}else r&&r(e)}},x=function(e,t,r){var o=new p.default(e);if(o.isContextError()){var n=o.asContextError();"entity"===n.context&&(n.context="GRAFANA_ENDPOINT_UID"),t.setErrors(n)}else O(e,t,r)};angular.module("onms.reports",["angular-loading-bar","ngResource","ngSanitize","ui.router","ui.select","mwl.confirm","onms.http","onms.default.apps","onms.datetimepicker","onms.schedule.editor","onms.pagination"]).config(["$locationProvider",function(e){e.hashPrefix("!"),e.html5Mode(!1)}]).run(["confirmationPopoverDefaults",function(e){e.templateUrl=C}]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("report",{url:"/report",controller:"ReportsController",templateUrl:y}).state("report.templates",{url:"/templates",controller:"ReportTemplatesController",templateUrl:b}).state("report.templates.details",{url:"/:id?online",controller:"ReportDetailController",templateUrl:k,resolve:{}}).state("report.schedules",{url:"/schedules",controller:"ReportSchedulesController",templateUrl:E}).state("report.persisted",{url:"/persisted",controller:"ReportStorageController",templateUrl:w}),t.otherwise("/report/templates")}]).factory("ReportTemplateResource",["$resource",function(e){return e("rest/reports/:id",{id:"@id"},{list:{method:"GET",isArray:!0},get:{method:"GET"},listScheduled:{method:"GET",isArray:!0,url:"rest/reports/scheduled"}})}]).factory("ReportScheduleResource",["$resource",function(e){return e("rest/reports/scheduled/:id",{id:"@triggerName"},{list:{method:"GET",isArray:!0},get:{method:"GET",isArray:!1},delete:{method:"DELETE",params:{triggerName:-1}},deleteAll:{method:"DELETE"},update:{method:"PUT"}})}]).factory("ReportStorageResource",["$resource",function(e){return e("rest/reports/persisted/:id",{id:"@id"},{list:{method:"GET",isArray:!0},get:{method:"GET"},delete:{method:"DELETE",params:{id:-1}},deleteAll:{method:"DELETE"}})}]).factory("WhoamiResource",["$resource",function(e){return e("rest/whoami",{},{whoami:{method:"GET"}})}]).factory("GrafanaResource",["$resource",function(e){return e("rest/endpoints/grafana/:id",{id:"@id"},{get:{method:"GET"},list:{method:"GET",isArray:!0},dashboards:{method:"GET",isArray:!0,url:"rest/endpoints/grafana/:uid/dashboards",params:{uid:"@uid"}}})}]).factory("UserService",["WhoamiResource","$q",function(e,t){return{whoami:function(){var o=t.defer();return e.whoami((function(e){var t={id:e.id,name:e.fullName,email:e.email,roles:e.roles,isAdmin:function(){var e;return(0,r.default)(e=this.roles).call(e,"ROLE_ADMIN")>=0},isReportDesigner:function(){var e;return(0,r.default)(e=this.roles).call(e,"ROLE_REPORT_DESIGNER")>=0}};o.resolve(t)}),(function(e){o.reject(e)})),o.promise}}}]).directive("onmsReportDetails",["GrafanaResource","$q","$http",function(e,t,r){return{restrict:"E",templateUrl:S,scope:{report:"=?ngModel",options:"=?options",onInvalidChange:"&?onInvalidChange",onGlobalError:"&onGlobalError"},link:function(a){a.oldTimeZone=void 0,a.endpoints=[],a.dashboards=[],a.selected={endpoint:void 0,dashboard:void 0},a.onInvalidChange=a.onInvalidChange||function(){},a.onDateParamStateChange=function(e,t,r){a.$evalAsync((function(){t&&r&&(r.internalValue=t),a.onInvalidChange({invalidState:e})}))},a.paramHash=function(e){var t=h.sha256();return e&&(t.update(e.type),t.update(e.name),t.update(e.value),t.update(e.internalValue),t.update(e.internalFormat)),t.digest("hex")},a.timezoneChanged=function(){var e,t=a.oldTimeZone,r=a.report&&a.report.parametersByName.timezone?a.report.parametersByName.timezone.value:void 0;t&&r&&t!==r&&(0,o.default)(e=a.report.parameters).call(e,(function(e,o){if("date"===e.type){var i=v.tz(e.internalValue,t).clone().tz(r);i.isValid()?(e.internalValue=i.format(e.internalFormat),e.date=i.format("YYYY-MM-DD"),e.hours=i.hours(),e.minutes=i.minutes()):console.error("timezoneChanged(): new date is invalid?!"),a.report.parameters[o]=a.report.parametersByName[e.name]=(0,n.default)({},e)}})),a.report&&a.report.parametersByName.timezone&&(a.report.parametersByName.timezone.value=r),a.oldTimeZone=r,a.report.validateTimezone()},a.endpointChanged=function(){a.dashboards=[],a.selected.dashboard=void 0,a.report.resetErrors(),a.report.parametersByName.timezone&&(a.report.parametersByName.timezone.value=void 0,a.timezoneChanged()),e.dashboards({uid:a.selected.endpoint.uid},(function(e){a.dashboards=e,a.dashboards.length>0&&(a.selected.dashboard=a.dashboards[0])}),(function(e){x(e,a.report,(function(){return a.onGlobalError({response:e})}))}))},a.loadEndpoints=function(){a.report.resetErrors(),e.list((function(e){var t;a.endpoints=e,(0,o.default)(t=a.endpoints).call(t,(function(e){e.label=e.uid,e.description&&(e.label+=" - "+e.description)})),a.endpoints.length>0&&(a.selected.endpoint=a.endpoints[0],a.endpointChanged())}),(function(e){x(e,a.report,(function(){return a.onGlobalError({response:e})}))}))},a.$watch("report.format",(function(e){a.report.deliveryOptions&&(a.report.deliveryOptions.format=e)})),a.$watch("report.scheduleOptions.type",(function(){a.report.scheduleOptions.type!==c.default.CUSTOM&&a.report.errors.cronExpression&&(a.report.errors.cronExpression=void 0)})),a.$watchCollection("report.parameters",(function(e,t){0===t.length&&0!==e.length&&a.report.isGrafanaReport()&&a.loadEndpoints()})),a.$watchCollection("selected",(function(e){var o,n,i=t.defer();if(e&&e.endpoint&&e.endpoint.uid&&e.dashboard&&e.dashboard.uid){var s=e.dashboard;(o=e.endpoint.uid,n=s.uid,r.get("rest/endpoints/grafana/"+o+"/dashboards/"+n).then((function(e){return e.data}))).then((function(e){e&&void 0!==e.timezone&&s.timezone!==e.timezone&&(s.timezone=e.timezone,a.timezoneChanged())})).finally((function(){i.resolve(s)}))}else i.resolve(e&&e.dashboard?e.dashboard:void 0);i.promise.finally((function(){a.report.updateGrafanaParameters(e)}))})),a.$watch("reportForm.$invalid",(function(e,t){a.onInvalidChange&&a.onInvalidChange({invalidState:e})}))}}}]).directive("multiEmails",(function(){var e=/^[-!#$%&'*+/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+/0-9=?A-Z^_a-z{|}~])*@[a-zA-Z](-?[a-zA-Z0-9])*(\.[a-zA-Z](-?[a-zA-Z0-9])*)+$/;return{restrict:"A",require:"ngModel",link:function(t,r,o,n){n&&n.$validators.email&&(n.$validators.email=function(t){var r;return!!angular.isDefined(t)&&(n.$isEmpty(t)||(0,a.default)(r=t.split(",")).call(r,(function(t){return e.test((0,i.default)(t).call(t))})))})}}})).controller("ReportsController",["$scope","UserService",function($scope,e){$scope.globalError=void 0,$scope.globalErrorDetails=void 0,$scope.setGlobalError=function(e){return $scope.globalError="An unexpected error occurred: "+e.status+" "+e.statusText,$scope.globalErrorDetails=(0,s.default)(e,null,2),$scope.globalError},$scope.fetchUserInfo=function(){return e.whoami().then((function(e){return $scope.userInfo=e,e}),(function(e){return $scope.setGlobalError(e),f.$q.reject(e)}))},$scope.fetchUserInfo()}]).controller("ReportTemplatesController",["$scope","ReportTemplateResource",function($scope,e){$scope.refresh=function(){$scope.reports=[],e.list((function(e){e&&(0,l.default)(e)&&($scope.reports=e)}),(function(e){$scope.setGlobalError(e)}))},$scope.refresh()}]).controller("ReportDetailController",["$scope","$http","$stateParams","ReportTemplateResource",function($scope,e,t,r){$scope.meta={reportId:t.id,online:"true"===t.online},$scope.report=new d.default({id:$scope.meta.reportId,scope:$scope}),$scope.options={},$scope.loading=!1,$scope.reportForm={$invalid:!1},$scope.onReportFormInvalidStateChange=function(e){$scope.reportForm.$invalid=e},$scope.loadDetails=function(){$scope.loading=!0,$scope.selected={endpoint:void 0,dashboard:void 0},$scope.options={showReportFormatOptions:$scope.meta.online,showDeliveryOptions:$scope.userInfo.isReportDesigner()||$scope.userInfo.isAdmin(),showDeliveryOptionsToggle:$scope.meta.online,showScheduleOptions:$scope.userInfo.isReportDesigner()||$scope.userInfo.isAdmin(),showScheduleOptionsToggle:!0,deliverReport:!$scope.meta.online,scheduleReport:!1,canEditTriggerName:!0};var e={id:$scope.report.id,userId:$scope.userInfo.id};r.get(e,(function(e){$scope.loading=!1,$scope.report=new d.default((0,n.default)(e,{scope:$scope}))}),(function(e){$scope.loading=!1,$scope.setGlobalError(e)}))},$scope.runReport=function(){$scope.report.resetErrors(),console.debug("running report:",$scope.report),e({method:"POST",url:"rest/reports/"+t.id,data:{id:$scope.report.id,parameters:$scope.report.parameters,format:$scope.report.format},responseType:"arraybuffer"}).then((function(e){var r=e.data,o=new Blob([r],{type:"PDF"===$scope.report.format?"application/pdf":"text/csv"}),n=u.default.createObjectURL(o),a=(e.headers("Content-Disposition"),t.id+"."+$scope.report.format.toLowerCase()),i=document.createElement("a");document.body.appendChild(i),i.style="display: none",i.href=n,i.download=a,i.click(),u.default.revokeObjectURL(n),document.body.removeChild(i)}),(function(e){if(400===e.status){var t=String.fromCharCode.apply(null,new Uint8Array(e.data)),r=JSON.parse(t);e.data=r,O(e,$scope.report,(function(e){return $scope.setGlobalError(e)}))}else $scope.setGlobalError(e)}))},$scope.deliverReport=function(){$scope.report.resetErrors(),e({method:"POST",url:"rest/reports/persisted",data:{id:$scope.report.id,parameters:$scope.report.parameters,format:$scope.report.format,deliveryOptions:$scope.report.deliveryOptions}}).then((function(){$scope.deliverySuccess=!0}),(function(e){O(e,$scope.report,(function(e){return $scope.setGlobalError(e)}))}))},$scope.scheduleReport=function(){$scope.report.resetErrors(),e({method:"POST",url:"rest/reports/scheduled",data:{id:$scope.report.id,parameters:$scope.report.parameters,format:$scope.report.format,deliveryOptions:$scope.report.deliveryOptions,cronExpression:$scope.report.scheduleOptions.getCronExpression()}}).then((function(e){$scope.scheduleSuccess=!0}),(function(e){O(e,$scope.report,(function(e){return $scope.setGlobalError(e)}))}))},$scope.execute=function(){$scope.deliverySuccess=!1,$scope.scheduleSuccess=!1,$scope.$evalAsync((function(){$scope.report.updateDateParameters()})),$scope.$evalAsync((function(){!$scope.meta.online||$scope.options.deliverReport||$scope.options.scheduleReport||$scope.runReport(),$scope.options.deliverReport&&!$scope.options.scheduleReport&&$scope.deliverReport(),$scope.options.deliverReport&&$scope.options.scheduleReport&&$scope.scheduleReport()}))},$scope.$watch("userInfo",(function(e,t){e&&$scope.loadDetails()}))}]).controller("ReportSchedulesController",["$scope","$uibModal","ReportScheduleResource",function($scope,e,t){$scope.scheduledReports=[],$scope.pagination={page:1,limit:20,totalItems:0,offset:0},$scope.refresh=function(){var e=$scope.pagination||{};t.list({limit:e.limit||20,offset:(e.page-1)*e.limit||0},(function(e,t){$scope.scheduledReports=e;var r=g.parseContentRange(t("Content-Range"));$scope.pagination.totalItems=r.total}),(function(e){$scope.setGlobalError(e)}))},$scope.deleteAll=function(){t.deleteAll({},(function(e){$scope.pagination.page=1,$scope.refresh()}),(function(e){$scope.setGlobalError(e)}))},$scope.delete=function(e){t.delete({id:e.triggerName||-1},(function(e){1===$scope.scheduledReports.length&&$scope.pagination.page>1&&$scope.pagination.page--,$scope.refresh()}),(function(e){$scope.setGlobalError(e)}))},$scope.edit=function(t,r){e.open({templateUrl:_,backdrop:"static",keyboard:!1,size:"lg",controller:"ScheduleEditController",resolve:{userInfo:function(){return $scope.userInfo},meta:function(){return{reportId:r,online:!1,triggerName:t}},setGlobalError:function(){return $scope.setGlobalError}}}).result.then((function(){$scope.refresh()}))},$scope.refresh()}]).controller("ScheduleEditController",["$http","$q","$scope","userInfo","meta","setGlobalError","ReportScheduleResource",function(e,t,$scope,r,o,a,i){$scope.meta=o,$scope.userInfo=r,$scope.report=null,$scope.options={},$scope.loading=!1,$scope.reportForm={$invalid:!1},$scope.onReportFormInvalidStateChange=function(e){$scope.reportForm.$invalid=e},$scope.setGlobalError=function(e){a(e)},$scope.loadDetails=function(){$scope.loading||($scope.loading=!0,$scope.$evalAsync((function(){var t;$scope.selected={endpoint:void 0,dashboard:void 0},$scope.options={hideEndpointsChooser:!0,showReportFormatOptions:!1,showDeliveryOptions:!0,showDeliveryOptionsToggle:!1,showScheduleOptions:!0,showScheduleOptionsToggle:!1,deliverReport:!0,scheduleReport:!0,canEditTriggerName:!1},(t=$scope.meta.triggerName,e.get("rest/reports/scheduled/"+t).then((function(e){return e.data}))).then((function(e){$scope.report=new d.default((0,n.default)(e,{scope:$scope}))})).catch((function(e){$scope.setGlobalError(e),$scope.$close()})).finally((function(){$scope.loading=!1}))})))},$scope.update=function(){if(!$scope.report)return t.reject("report not initialized");$scope.report.resetErrors();var e={id:$scope.report.id,triggerName:$scope.meta.triggerName,parameters:$scope.report.parameters,format:$scope.report.format,deliveryOptions:$scope.report.deliveryOptions,cronExpression:$scope.report.scheduleOptions.getCronExpression()};return i.update(e).$promise.catch((function(e){console.error(e),O(e,$scope.report,(function(){$scope.setGlobalError(e)}))})).finally((function(){$scope.$close()}))},$scope.loadDetails()}]).controller("ReportStorageController",["$scope","ReportStorageResource",function($scope,e){$scope.persistedReports=[],$scope.pagination={page:1,limit:20,totalItems:0,offset:0},$scope.refresh=function(){var t=$scope.pagination||{};e.list({limit:t.limit||20,offset:(t.page-1)*t.limit||0},(function(e,t){$scope.persistedReports=e;var r=g.parseContentRange(t("Content-Range"));$scope.pagination.totalItems=r.total}),(function(e){$scope.setGlobalError(e)}))},$scope.deleteAll=function(){e.deleteAll({},(function(e){$scope.pagination.page=1,$scope.refresh()}),(function(e){$scope.setGlobalError(e)}))},$scope.delete=function(t){e.delete({id:t.id||-1},(function(e){1===$scope.persistedReports.length&&$scope.pagination.page>1&&$scope.pagination.page--,$scope.refresh()}),(function(e){$scope.setGlobalError(e)}))},$scope.refresh()}])},1100:function(e,exports,t){"use strict";var r=t(15),o=t(17),n=t(18);r(exports,"__esModule",{value:!0}),exports.default=void 0,t(13),t(14);var a=y(t(294)),i=y(t(97)),s=y(t(103)),l=y(t(11)),u=y(t(9)),d=y(t(29)),p=y(t(459)),c=y(t(49)),f=y(t(21)),m=y(t(111)),h=y(t(152)),v=y(t(737)),g=y(t(26));function y(e){return e&&e.__esModule?e:{default:e}}function b(e){return b="function"==typeof o&&"symbol"==typeof n?function(e){return typeof e}:function(e){return e&&"function"==typeof o&&e.constructor===o&&e!==o.prototype?"symbol":typeof e},b(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),r(e,(a=n.key,i=void 0,i=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[f.default];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==b(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===b(i)?i:String(i)),n)}var a,i}var k=t(8),_=function(){function e(){var t,r,o,n,p,c,f,m=this,v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(w(this,e),this.supportedSurveillanceCategories=v.surveillanceCategories,this.supportedCategories=v.categories,this.supportedFormats=[],(0,a.default)(v.formats))&&(this.supportedFormats=(0,i.default)(f=v.formats).call(f,(function(e){return e.name})));this.supportedTimezones=v.timezones||["US/Eastern"],this.parameters=v.parameters||[],this.parametersByName={},this.deliveryOptions=v.deliveryOptions||{},this.scheduleOptions="string"==typeof v.cronExpression?h.default.createFrom(v.cronExpression):new h.default,this.format=v.deliveryOptions&&v.deliveryOptions.format||"PDF",this.id=v.id,this.errors=v.errors||{},this.timezoneEditable=!0;var y=["string","integer","float","double","timezone","date"];if((0,s.default)(t=this.parameters).call(t,(function(e,t){return(0,l.default)(y).call(y,e.type)-(0,l.default)(y).call(y,t.type)})),(0,u.default)(r=this.parameters).call(r,(function(e){"reportCategorySelector"===e.inputType&&(e.value=this.supportedSurveillanceCategories[0]),"onmsCategorySelector"===e.inputType&&(e.value=this.supportedCategories[0]),e.hidden="GRAFANA_ENDPOINT_UID"===e.name||"GRAFANA_DASHBOARD_UID"===e.name||"dateFormat"===e.name,this.parametersByName[e.name]=e}),this),(0,u.default)(o=(0,d.default)(n=this.parameters).call(n,(function(e){return"date"===e.type}))).call(o,(function(e){e.internalFormat="YYYY-MM-DD HH:mm",e.internalLocale="en",e.internalValue=k(e.date,e.internalFormat).hours(e.hours).minutes(e.minutes).format(e.internalFormat)})),this.updateTimezoneEditable(),this.validateTimezone(),-1===(0,l.default)(p=this.supportedFormats).call(p,this.format)&&(this.format=this.supportedFormats[0]),-1===(0,l.default)(c=this.supportedFormats).call(c,this.deliveryOptions.format)&&(this.deliveryOptions.format=this.format),window._onmsZoneId)this.scheduleOptions.serverZone=window._onmsZoneId;else{var b=new XMLHttpRequest,E=function(){try{if(b.readyState===XMLHttpRequest.DONE){if(200===b.status){var e=JSON.parse(b.responseText);if(e.datetimeformatConfig&&e.datetimeformatConfig.zoneId)return window._onmsZoneId=e.datetimeformatConfig.zoneId,void(m.scheduleOptions.serverZone=e.datetimeformatConfig.zoneId)}console.error("Failed to request server time zone: "+b.status+" "+b.statusText),m.scheduleOptions.serverZone=null}}catch(e){console.error("An error occurred getting the server time zone:",e),m.scheduleOptions.serverZone=null}};b.onreadystatechange=function(){v&&v.scope?v.scope.$evalAsync(E):E()},b.open("GET",g.default.getBaseHref()+"rest/info"),b.setRequestHeader("Accept","application/json"),b.send()}}var t,o,n;return t=e,(o=[{key:"hasErrors",value:function(){var e=(0,p.default)(this.errors).length>0||this.isGrafanaReport()&&!this.isGrafanaEndpointSelected()||!this.scheduleOptions.isValid();return e}},{key:"resetErrors",value:function(){this.errors={}}},{key:"setErrors",value:function(e){if(e&&e.context&&e.message||e instanceof v.default){if("cronExpression"!==e.context||"cronExpression"===e.context&&this.scheduleOptions.type===m.default.CUSTOM)return void(this.errors[e.context]=e.message);if("cronExpression"===e.context&&this.scheduleOptions.type!==m.default.CUSTOM)throw new Error("Generated cronExpression was not parsable by backend. If this happens contact OpenNMS support")}throw new Error("Provided contextError must be of type ContextError")}},{key:"isGrafanaEndpointSelected",value:function(){if(!this.isGrafanaReport())throw new Error("Report is not a Grafana Report");var e=this.parametersByName.GRAFANA_ENDPOINT_UID,t=this.parametersByName.GRAFANA_DASHBOARD_UID;return e.value&&"string"==typeof e.value&&e.value.length>0&&t.value&&b(t.value)&&t.value.length>0}},{key:"isGrafanaReport",value:function(){return void 0!==this.parametersByName.GRAFANA_ENDPOINT_UID&&void 0!==this.parametersByName.GRAFANA_DASHBOARD_UID}},{key:"updateTimezoneEditable",value:function(){var e,t=this.dashboard&&void 0!==this.dashboard.timezone?this.dashboard.timezone:void 0;void 0!==t&&("browser"===t||""===(0,c.default)(t).call(t)?this.timezoneEditable=!0:((0,l.default)(e=this.supportedTimezones).call(e,this.parametersByName.timezone.value)>=0||this.supportedTimezones.push(t),this.timezoneEditable=!1))}},{key:"validateTimezone",value:function(){var e,t,r=this;this.updateTimezoneEditable(),(0,u.default)(e=(0,d.default)(t=this.parameters).call(t,(function(e){return"timezone"===e.type}))).call(e,(function(e){if(r.timezoneEditable){var t,o;if(e.value&&(0,c.default)(t=e.value).call(t).length>0&&(0,l.default)(o=r.supportedTimezones).call(o,e.value)>=0);else{var n,a=k.tz.guess(!0);(0,l.default)(n=r.supportedTimezones).call(n,a)>=0?e.value=a:e.value=r.supportedTimezones[0]}r.parametersByName.timezone=e}})),this.parametersByName.timezone&&(this.scheduleOptions.timezone=this.parametersByName.timezone.value)}},{key:"updateTimezoneParameter",value:function(e){this.dashboard=e.dashboard;var t=e.dashboard?e.dashboard.timezone:void 0;"utc"===t&&(t="UTC"),t&&(this.parametersByName.timezone.value=t,this.scheduleOptions.timezone=t),this.validateTimezone()}},{key:"updateGrafanaParameters",value:function(e){this.isGrafanaReport()&&(this.parametersByName.GRAFANA_ENDPOINT_UID.value=e.endpoint?e.endpoint.uid:this.parametersByName.GRAFANA_ENDPOINT_UID.value,this.parametersByName.GRAFANA_DASHBOARD_UID.value=e.dashboard?e.dashboard.uid:this.parametersByName.GRAFANA_DASHBOARD_UID.value,this.updateTimezoneParameter(e))}},{key:"updateDateParameters",value:function(){var e,t;(0,u.default)(e=(0,d.default)(t=this.parameters).call(t,(function(e){return"date"===e.type}))).call(e,(function(e){var t=k(e.internalValue,e.internalFormat);e.date=t.format("YYYY-MM-DD"),e.hours=t.hours(),e.minutes=t.minutes(),e.internalValue=t.format(e.internalFormat)}))}}])&&E(t.prototype,o),n&&E(t,n),r(t,"prototype",{writable:!1}),e}();exports.default=_},111:function(e,exports,t){"use strict";t(15)(exports,"__esModule",{value:!0}),exports.default=void 0;var r={DAILY:"daily",DAYS_PER_WEEK:"daysPerWeek",DAYS_PER_MONTH:"daysPerMonth",CUSTOM:"custom"};exports.default=r},1134:function(e,exports,t){"use strict";var r=t(15),o=t(17),n=t(18);r(exports,"__esModule",{value:!0}),exports.default=void 0,t(14);var a=s(t(21)),i=s(t(737));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"==typeof o&&"symbol"==typeof n?function(e){return typeof e}:function(e){return e&&"function"==typeof o&&e.constructor===o&&e!==o.prototype?"symbol":typeof e},l(e)}function u(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),r(e,(i=n.key,s=void 0,s=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[a.default];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==l(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===l(s)?s:String(s)),n)}var i,s}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.response=t}var t,o,n;return t=e,(o=[{key:"status",get:function(){return this.response.status}},{key:"isContextError",value:function(){return this.response.data&&this.response.data.context&&this.response.data.message}},{key:"asContextError",value:function(){return this.isContextError()?new i.default(this.response.data.context,this.response.data.message):this.response.data&&this.response.data.message?new i.default("entity",this.response.data.message):new i.default("entity","Unexpected error occurred. No details about the nature of the error were provided")}},{key:"isBadRequest",value:function(){return 400===this.status}}])&&u(t.prototype,o),n&&u(t,n),r(t,"prototype",{writable:!1}),e}();exports.default=d},1146:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-reports/index.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span> <div class="alert alert-danger" ng-if="globalError"> <span>{{globalError}}</span> <pre ng-show="globalErrorDetails">{{globalErrorDetails}}</pre> </div> <div class="w-100" ng-if="!globalError"> <ul id="tabs" class="nav nav-tabs"> <li role="presentation" class="nav-item"> <a ui-sref-active="active" ui-sref="report.templates" data-name="report-templates" class="nav-link">Report Templates</a> </li> <li role="presentation" class="nav-item"> <a ui-sref-active="active" ui-sref="report.schedules" data-name="report-schedules" class="nav-link">Report Schedules</a> </li> <li role="presentation" class="nav-item"> <a ui-sref-active="active" ui-sref="report.persisted" data-name="report-persisted" class="nav-link">Persisted Reports</a> </li> </ul> <div class="card border-top-0" ui-view> </div> </div> </span>')}]),e.exports=t},1147:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-reports/templates.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span> <span ng-if="reports.length == 0">No Data available</span> <div class="row"> <div class="col-5"> <div class="mx-2 my-2" style="height:calc(100vh - 109px);overflow:scroll"> <div class="list-group list-group-flush" ng-if="reports.length > 0"> <a ng-repeat="report in reports" ui-sref-active="active" ui-sref="report.templates.details({\'id\': report.id, \'online\': report.online})" class="list-group-item list-group-item-action"> <h5 class="">{{report.name}}</h5> <div class="text-muted"> {{report.description}} <span class="badge badge-secondary pull-right" ng-if="!report.online" title="Can only deliver or schedule Report"> no adhoc </span> </div> </a> </div> </div> </div> <div class="col-7" ui-view> </div> </div> </span>')}]),e.exports=t},1148:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-reports/persisted.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="mx-2 my-2"> <div class="mb-4"> <button class="btn btn-secondary" id="action.refresh" ng-click="refresh()"><i class="fa fa-refresh"></i></button> <button class="btn btn-secondary" ng-if="userInfo.isReportDesigner() || userInfo.isAdmin() && persistedReports.length > 0" id="action.deleteAll" mwl-confirm message="Do you really want to delete all persisted reports?" on-confirm="deleteAll()" placement="right" confirm-button-type="danger" cancel-button-type="secondary" confirm-text="Yes" cancel-text="No" title="Delete All"> <i class="fa fa-trash"></i> </button> </div> <div ng-if="persistedReports.length == 0"> <span>No Data available</span> </div> <pagination model="pagination" ng-if="persistedReports.length > 0" position="bottom" on-change="refresh"> <table class="table table-sm table-striped mb-2"> <thead> <tr> <th ng-if="userInfo.isReportDesigner() || userInfo.isAdmin()">Action</th> <th>View Report</th> <th>Title</th> <th>Report ID</th> <th>Run Date</th> </tr> </thead> <tbody> <tr ng-repeat="report in persistedReports"> <td ng-if="userInfo.isReportDesigner() || userInfo.isAdmin()"> <button class="btn btn-sm btn-danger" ng-click="delete(report)"><i class="fa fa-trash"></i></button> </td> <td> <a ng-repeat="format in report.formats" href="rest/reports/download?locatorId={{report.id}}&amp;format={{format}}" class="mr-4"><i ng-class="{\'fa-file-pdf-o\': format === \'PDF\', \'fa-file-text-o\': format === \'CSV\'}" class="fa"></i> {{format}}</a> </td> <td>{{report.title}}</td> <td>{{report.reportId}}</td> <td>{{report.date}}</td> <td> </td> </tr> </tbody> </table> </pagination> </div>')}]),e.exports=t},1149:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-reports/schedules.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="mx-2 my-2"> <div class="mb-4"> <button class="btn btn-secondary" id="action.refresh" ng-click="refresh()" title="Refresh"><i class="fa fa-refresh"></i></button> <button class="btn btn-secondary" ng-if="userInfo.isReportDesigner() || userInfo.isAdmin() && scheduledReports.length > 0" id="action.deleteAll" mwl-confirm message="Do you really want to delete all persisted reports?" on-confirm="deleteAll()" placement="right" confirm-button-type="danger" cancel-button-type="secondary" confirm-text="Yes" cancel-text="No" title="Delete All"> <i class="fa fa-trash"></i> </button> </div> <div ng-if="scheduledReports.length == 0"> <span>No Data available</span> </div> <pagination model="pagination" ng-if="scheduledReports.length > 0" position="bottom" on-change="refresh"> <table class="table table-sm table-striped mb-2"> <thead> <tr> <th ng-if="userInfo.isReportDesigner() || userInfo.isAdmin()">Action(s)</th> <th>Template</th> <th>Format</th> <th colspan="3">Delivery Options</th> <th>Cron Expression</th> <th>Trigger Name</th> <th>Next fire time</th> </tr> </thead> <tbody> <tr ng-repeat="schedule in scheduledReports"> <td> <button class="btn btn-sm btn-danger" title="Delete Schedule" ng-if="userInfo.isReportDesigner() || userInfo.isAdmin()" ng-click="delete(schedule)"><i class="fa fa-trash"></i></button> <button class="btn btn-sm btn-primary" id="action.edit.{{schedule.triggerName}}" ng-click="edit(schedule.triggerName, schedule.reportId)" title="Show Report Parameters"><i class="fa fa-cogs"></i></button> </td> <td>{{schedule.reportId}}</td> <td> <i class="fa" ng-class="{\'fa-file-pdf-o\':schedule.deliveryOptions.format === \'PDF\', \'fa-file-text-o\': schedule.deliveryOptions.format === \'CSV\'}"></i> {{schedule.deliveryOptions.format}} </td> <td> <span ng-if="schedule.deliveryOptions.persist || false" title="Persist to Disk"> <i class="fa fa-save"></i> </span> </td> <td> <span ng-if="schedule.deliveryOptions.sendMail || false" title="Mail to {{schedule.deliveryOptions.mailTo}}"> <i class="fa fa-envelope-o"></i> </span> </td> <td> <span ng-if="schedule.deliveryOptions.webhook || false" title="POST to {{schedule.deliveryOptions.webhookUrl}}"> <i class="fa fa-paper-plane-o"></i> </span> </td> <td> <span title="Cron Expression"> <i class="fa fa-clock-o"></i> <small>{{schedule.cronExpression}}</small> </span> </td> <td>{{schedule.triggerName}}</td> <td>{{schedule.nextFireTime}}</td> <td> </td> </tr> </tbody> </table> </pagination> </div>')}]),e.exports=t},1150:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-reports/details.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span> <div class="alert alert-danger mx-2 my-2" ng-if="errorMessage"> <span>{{errorMessage}}</span> </div> <div class="alert alert-warning mx-2 my-2" ng-if="!meta.online && !(userInfo.isAdmin() || userInfo.isReportDesigner())"> <span>This report cannot be executed adhoc and you do not have permissions to deliver/schedule this report.</span> </div> <div ng-if="meta.online || userInfo.isAdmin() || userInfo.isReportDesigner()"> <onms-report-details ng-model="report" options="options" on-invalid-change="onReportFormInvalidStateChange(invalidState)" on-global-error="setGlobalError(response)"></onms-report-details> <div class="alert alert-success mx-4" ng-if="scheduleSuccess"> The report was scheduled. <br> <a ui-sref-active="active" ui-sref="report.schedules">Show Schedules</a> </div> <div class="alert alert-success mx-4" ng-if="deliverySuccess"> The report was scheduled for delivery. It may take some time until it is delivered. <br> <a ui-sref-active="active" ui-sref="report.schedules">Show scheduled Reports</a> <br> <a ui-sref-active="active" ui-sref="report.persisted">Show persisted Reports</a> </div> <div class="form-group mx-4"> <button class="btn btn-danger" name="cancel" id="cancel" ui-sref="report.templates"> <i class="fa fa-times"></i> Cancel </button> <button class="btn btn-primary" name="run" id="execute" ng-click="execute()" ng-disabled="reportForm.$invalid || !report.scheduleOptions.isValid() || (report.isGrafanaReport() && !report.isGrafanaEndpointSelected())"> <span ng-if="meta.online && !options.deliverReport && !options.scheduleReport"><i class="fa fa-play"></i> Create</span> <span ng-if="options.deliverReport && !options.scheduleReport"><i class="fa fa-share"></i> Deliver</span> <span ng-if="options.deliverReport && options.scheduleReport"><i class="fa fa-clock-o"></i> Schedule</span> Report </button> </div> </div> </span>')}]),e.exports=t},1151:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-reports/modals/schedule-edit-modal.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span> <div class="modal-header"> <h3>Edit Schedule</h3> </div> <div class="modal-body"> <onms-report-details ng-if="report" ng-model="report" options="options" on-invalid-change="onReportFormInvalidStateChange(invalidState)" on-global-error="setGlobalError(response)"></onms-report-details> </div> <div class="modal-footer"> <button class="btn btn-danger" id="action.cancel.{{meta.triggerName}}" ng-click="$close()"><i class="fa fa-times"></i> Cancel</button> <button class="btn btn-primary" id="action.update.{{meta.triggerName}}" ng-click="update()" ng-disabled="reportForm.$invalid || !report.scheduleOptions.isValid() || (report.isGrafanaReport() && !report.isGrafanaEndpointSelected())"><i class="fa fa-save"></i> Update</button> </div> </span>')}]),e.exports=t},1152:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-reports/report-details.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span> <style>.ui-select-bootstrap.is-invalid>.ui-select-match>.btn{border-color:#dc3545;background-image:url("data:image/svg+xml,%3csvg xmlns=\'http://www.w3.org/2000/svg\' fill=\'%23dc3545\' viewBox=\'-2 -2 7 7\'%3e%3cpath stroke=\'%23dc3545\' d=\'M0 0l3 3m0-3L0 3\'/%3e%3ccircle r=\'.5\'/%3e%3ccircle cx=\'3\' r=\'.5\'/%3e%3ccircle cy=\'3\' r=\'.5\'/%3e%3ccircle cx=\'3\' cy=\'3\' r=\'.5\'/%3e%3c/svg%3E");background-repeat:no-repeat;background-position:100% calc(.375em + .1875rem);background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.ui-select-bootstrap>.ui-select-match>.btn{border-color:#ced4da;background-color:#fff;background:url("data:image/svg+xml,%3csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 4 5\'%3e%3cpath fill=\'%23{$custom-select-indicator-color}\' d=\'M2 0L0 2h4zm0 5L0 3h4z\'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px}.ui-select-match[disabled]{background-color:#eee}</style> <form name="reportForm" class="form mx-4 mt-2" role="form" novalidate> <div class="" ng-if="report.parameters && report.parameters.length > 0"> <h3 class="">Report Parameters</h3> <div ng-show="report.isGrafanaReport() && !options.hideEndpointsChooser" class="form-group"> <label>Grafana Endpoint</label> <a href="/opennms/admin/endpoint/index.jsp" title="Configure Grafana Endpoints"> <i class="fa fa-plug"></i></a> <a href title="Reload Grafana Endpoints" ng-click="loadEndpoints()"> <i class="fa fa-refresh"></i></a> <ui-select ng-model="selected.endpoint" ng-show="endpoints.length > 0" ng-class="{ \'is-invalid\': report.errors.GRAFANA_ENDPOINT_UID || report.errors.GRAFANA_DASHBOARD_UID }" ng-change="endpointChanged()" theme="bootstrap"> <ui-select-match placeholder="Select Grafana Endpoint"> <span>{{$select.selected.label}}</span> </ui-select-match> <ui-select-choices repeat="endpoint in (endpoints | filter: $select.search)"> {{endpoint.label}} </ui-select-choices> </ui-select> <p class="alert alert-warning" ng-if="endpoints.length == 0"> There is no Grafana Endpoint defined. Please <a href="/opennms/admin/endpoint/index.jsp">add a Grafana Endpoint</a>. </p> <div class="text-danger mt-1" style="font-size:80%" ng-if="report.errors.GRAFANA_ENDPOINT_UID"> {{report.errors.GRAFANA_ENDPOINT_UID}}: <a href="/opennms/admin/endpoint/index.jsp#!/endpoints/grafana">Configure Grafana Endpoints</a> </div> <div class="text-danger mt-1" style="font-size:80%" ng-if="report.errors.GRAFANA_DASHBOARD_UID"> {{report.errors.GRAFANA_DASHBOARD_UID}} </div> </div> <div ng-show="report.isGrafanaReport() && selected.endpoint" class="form-group"> <label>Grafana Dashboard</label> <a ng-if="dashboards.length > 0" href="{{selected.endpoint.url}}/{{selected.dashboard.url}}" title="Show Dashboard" target="_blank"> <i class="fa fa-dashboard"></i></a> <a href title="Refresh Dashboards" ng-click="endpointChanged()"><i class="fa fa-refresh"></i></a> <ui-select ng-model="selected.dashboard" ng-show="dashboards.length > 0" theme="bootstrap"> <ui-select-match placeholder="Select Grafana Dashboard"> <span>{{$select.selected.title}}</span> </ui-select-match> <ui-select-choices repeat="dashboard in (dashboards | filter: $select.search)"> {{dashboard.title}} </ui-select-choices> </ui-select> <p class="alert alert-warning" ng-if="dashboards.length == 0"> There is no Grafana Dashboard defined. Please <a href="{{selected.endpoint.url}}/dashboards" target="_blank">add a Dashboard</a>. </p> </div> <div ng-if="parameter.type === \'string\' && parameter.hidden === false" class="form-group" ng-repeat-start="parameter in report.parameters track by paramHash(parameter)"> <label for="{{parameter.name}}" class="">{{parameter.displayName}}</label> <select id="{{parameter.name}}" name="p{{parameter.name}}" ng-if="parameter.inputType === \'reportCategorySelector\'" class="form-control custom-select" ng-class="{ \'is-invalid\' : reportForm[parameter.name].$invalid || report.errors[parameter.name] || error[parameter.name]}" ng-model="parameter.value" ng-options="option for option in report.supportedSurveillanceCategories"> </select> <select id="{{parameter.name}}" ng-if="parameter.inputType === \'onmsCategorySelector\'" class="form-control custom-select" ng-model="parameter.value"> <option ng-repeat="option in report.supportedCategories">{{option}}</option> </select> <input id="{{parameter.name}}" name="{{parameter.name}}" ng-if="parameter.inputType !== \'reportCategorySelector\' && parameter.inputType !== \'onmsCategorySelector\'" ng-class="{ \'is-invalid\' : reportForm[parameter.name].$invalid || report.errors[parameter.name]}" class="form-control" type="text" ng-model="parameter.value" required> <div ng-show="reportForm[parameter.name].$invalid" class="invalid-feedback">Please provide a value.</div> <div ng-show="report.errors[parameter.name]" class="invalid-feedback">{{report.errors[parameter.name]}}</div> </div> <div ng-if="parameter.type === \'integer\'" class="form-group"> <label for="{{parameter.name}}" class="">{{parameter.displayName}}</label> <input id="{{parameter.name}}" name="{{parameter.name}}" ng-class="{ \'is-invalid\' : reportForm[parameter.name].$invalid || report.errors[parameter.name] || report.errors[parameter.name]}" class="form-control" type="text" ng-pattern="/^-?[0-9]*$/" ng-model="parameter.value" required> <div ng-show="reportForm[parameter.name].$invalid" class="invalid-feedback">Please provide an integer value.</div> <div ng-show="report.errors[parameter.name]" class="invalid-feedback">{{report.errors[parameter.name]}}</div> </div> <div ng-if="parameter.type === \'float\'" class="form-group"> <label for="{{parameter.name}}" class="">{{parameter.displayName}}</label> <input id="{{parameter.name}}" name="{{parameter.name}}" ng-class="{ \'is-invalid\' : reportForm[parameter.name].$invalid || report.errors[parameter.name] || report.errors[parameter.name]}" class="form-control" type="number" ng-model="parameter.value" required> <div ng-show="reportForm[parameter.name].$invalid" class="invalid-feedback">Please provide a decimal number.</div> <div ng-show="report.errors[parameter.name]" class="invalid-feedback">{{report.errors[parameter.name]}}</div> </div> <div ng-if="parameter.type === \'double\'" class="form-group"> <label for="{{parameter.name}}" class="">{{parameter.displayName}}</label> <input id="{{parameter.name}}" name="{{parameter.name}}" ng-class="{ \'is-invalid\' : reportForm[parameter.name].$invalid || report.errors[parameter.name] || report.errors[parameter.name]}" class="form-control" type="number" ng-model="parameter.value" required> <div ng-show="reportForm[parameter.name].$invalid" class="invalid-feedback">Please provide a decimal number.</div> <div ng-show="report.errors[parameter.name]" class="invalid-feedback">{{report.errors[parameter.name]}}</div> </div> <div ng-if="parameter.type === \'date\'" class="form-group"> <label for="{{parameter.name}}" class="">{{parameter.displayName}}</label> <div class="input-group" ng-if="options.scheduleReport && parameter.useAbsoluteDate === false"> <input type="number" name="{{parameter.name}}Count" ng-class="{ \'is-invalid\' : reportForm[parameter.name + \'Count\'].$invalid || report.errors[parameter.name + \'Count\'] }" class="form-control" min="0" max="31" step="1" ng-pattern="/^[0-9]*$/" ng-model="parameter.count" placeholder="count" required> <select class="form-control custom-select" ng-model="parameter.interval"> <option value="day">day</option> <option value="month">month</option> <option value="year">year</option> </select> <label class="my-auto mx-2"> ago, at </label> <input type="number" name="{{parameter.name}}Hours" ng-class="{ \'is-invalid\' : reportForm[parameter.name + \'Hours\'].$invalid || report.errors[parameter.name + \'Hours\'] }" class="form-control" min="0" max="23" step="1" ng-pattern="/^[0-9]*$/" ng-model="parameter.hours" placeholder="hours" required> <input type="number" name="{{parameter.name}}Minutes" ng-class="{ \'is-invalid\' : reportForm[parameter.name + \'Minutes\'].$invalid || report.errors[parameter.name + \'Minutes\'] }" class="form-control" min="0" max="59" step="1" ng-pattern="/^[0-9]*$/" ng-model="parameter.minutes" placeholder="minutes" required> <div ng-show="reportForm[parameter.name + \'Count\'].$invalid || report.errors[parameter.name + \'Count\']" class="invalid-feedback">{{report.errors[parameter.name + \'Count\'] || \'Please provide a count value between 0 and 31.\'}}</div> <div ng-show="reportForm[parameter.name + \'Hours\'].$invalid || report.errors[parameter.name + \'Hours\']" class="invalid-feedback">{{report.errors[parameter.name + \'Hours\'] || \'Please provide an hours value between 0 and 23.\'}}</div> <div ng-show="reportForm[parameter.name + \'Minutes\'].$invalid || report.errors[parameter.name + \'Minutes\']" class="invalid-feedback">{{report.errors[parameter.name + \'Minutes\'] || \'Please provide a minutes value between 0 and 59.\'}}</div> </div> <datetimepicker ng-if="!options.scheduleReport || parameter.useAbsoluteDate === true" locale="parameter.internalLocale" format="parameter.internalFormat" ng-model="parameter.internalValue" expand="true" on-state-change="onDateParamStateChange(invalidState, date, parameter)"></datetimepicker> </div> <div ng-if="parameter.type === \'timezone\'" class="form-group" ng-repeat-end> <label for="{{parameter.name}}" class="">{{parameter.displayName}}</label> <ui-select id="{{parameter.name}}" name="{{parameter.name}}" ng-model="parameter.value" ng-change="timezoneChanged()" ng-disabled="!report.timezoneEditable" ng-class="{ \'is-invalid\' : reportForm[parameter.name].$invalid || report.errors[parameter.name] || report.errors[parameter.name]}" theme="bootstrap"> <ui-select-match placeholder="Select Timezone"> <span>{{$select.selected}}</span> </ui-select-match> <ui-select-choices repeat="timezone in (report.supportedTimezones | filter: $select.search)"> {{timezone}} </ui-select-choices> </ui-select> <div ng-show="!report.timezoneEditable" class="text-horizon mt-1" style="font-size:80%"> Time Zone has been explicitly configured in the Grafana Dashboard. This can be modified by changing <i>Timezone</i> in <a href="{{selected.endpoint.url}}/{{selected.dashboard.url}}?editview=settings" target="_blank">Time Options <i class="fa fa-external-link"></i></a>. </div> <div ng-show="report.errors[parameter.name]" class="text-danger mt-1" style="font-size:80%">{{report.errors[parameter.name]}}</div> </div> <hr class="mb-4"> </div> <div class="form-group" ng-if="options.showReportFormatOptions && !options.deliverReport"> <label for="reportFormat" class="">Report Format</label> <select id="reportFormat" name="reportFormat" ng-class="{ \'is-invalid\' : reportForm.reportFormat.$invalid || report.errors.format }" class="form-control custom-select" ng-model="report.format" ng-options="format as format for format in report.supportedFormats"> </select> <div ng-show="report.errors.format" class="invalid-feedback">{{report.errors.format}}</div> <hr class="mb-4"> </div> <div class="form-group ml-4" ng-if="options.showDeliveryOptions && options.showDeliveryOptionsToggle"> <input type="checkbox" id="deliverReport" ng-model="options.deliverReport" class="form-check-input" ng-change="options.scheduleReport = options.deliverReport && options.scheduleReport"> <label class="form-check-label" data-toggle="tooltip" data-placement="right" title="Deliver report to file system or via e-mail" for="deliverReport"> <i class="fa fa-share"></i> Deliver this report </label> </div> <div class="" ng-if="options.showDeliveryOptions && options.deliverReport"> <h3>Report Delivery Options</h3> <div class=""> <div class="form-group"> <label for="instanceId">Unique name</label> <button class="btn btn-link text-secondary px-0" popover-trigger="\'mouseenter\'" uib-popover="A name to identify this report. Must be unique overall schedules/deliveries."><i class="fa fa-info-circle"></i> </button> <input ng-disabled="!options.canEditTriggerName" id="instanceId" name="instanceId" ng-model="report.deliveryOptions.instanceId" ng-class="{ \'is-invalid\' : reportForm.instanceId.$invalid || report.errors.instanceId }" class="form-control" data-toggle="tooltip" data-placement="right" title="A name to identify this report. Must be unique overall reports." required> <div ng-show="reportForm.instanceId.$invalid" class="invalid-feedback">Please provide a value.</div> <div ng-show="report.errors.instanceId" class="invalid-feedback">{{report.errors.instanceId}}</div> </div> <div class="form-group"> <label for="format" class="">Format</label> <select id="format" name="format" ng-class="{ \'is-invalid\' : reportForm.format.$invalid || report.errors.format }" class="form-control custom-select" ng-model="report.format" data-toggle="tooltip" data-placement="right" title="The output format of the generated report." ng-options="format as format for format in report.supportedFormats"> </select> <div ng-show="report.errors.format" class="invalid-feedback">{{report.errors.format}}</div> </div> <div class="form-group ml-4"> <input type="checkbox" id="persistToggle" ng-model="report.deliveryOptions.persist" class="form-check-input" ng-class="{ \'is-invalid\' : report.errors.sendMail_persist_webhook }"> <label class="form-check-label" data-toggle="tooltip" data-placement="right" title="Indicates whether a copy of the generated report is stored on disk." for="persistToggle"> Save a copy of this report </label> </div> <div class="form-group ml-4"> <input type="checkbox" id="sendMailToggle" ng-model="report.deliveryOptions.sendMail" class="form-check-input" ng-class="{ \'is-invalid\' : report.errors.sendMail_persist_webhook }"> <label class="form-check-label" for="sendMailToggle" data-toggle="tooltip" data-placement="right" title="Indicates whether the generated report is send via email to the defined recipient."> Email report </label> </div> <div class="form-group ml-4"> <input type="checkbox" id="webhookToggle" ng-model="report.deliveryOptions.webhook" class="form-check-input" ng-class="{ \'is-invalid\' : report.errors.sendMail_persist_webhook }"> <label class="form-check-label" for="webhookToggle" data-toggle="tooltip" data-placement="right" title="Indicates wheter the generated report is pushed to an URL"> Webhook </label> <div ng-show="report.errors.sendMail_persist_webhook" class="invalid-feedback">Please select at least one delivery method</div> </div> <div class="form-group" ng-if="report.deliveryOptions.sendMail"> <label for="mailRecipient">Recipient</label> <button class="btn btn-link text-secondary px-0" popover-trigger="\'mouseenter\'" uib-popover="Allows multiple recipients by separating them via comma: test@opennms.org,ulf@opennms.org"><i class="fa fa-info-circle"></i> </button> <input id="mailRecipient" name="mailRecipient" ng-model="report.deliveryOptions.mailTo" placeholder="some@email.org" type="email" class="form-control" ng-class="{ \'is-invalid\' : reportForm.mailRecipient.$invalid || report.errors.mailTo }" data-toggle="tooltip" data-placement="right" title="The recipient of the generated report if \'Email report\' is enabled." multi-emails required> <div ng-show="reportForm.mailRecipient.$invalid" class="invalid-feedback">Please provide a valid email.</div> <div ng-show="report.errors.mailTo" class="invalid-feedback">{{report.errors.mailTo}}</div> </div> <div class="form-group" ng-if="report.deliveryOptions.webhook"> <label for="mailRecipient">Webhook URL</label> <button class="btn btn-link text-secondary px-0" popover-trigger="\'outsideClick\'" uib-popover-html="\'\n                        <div>\n                            Posts the generated report to this http endpoint.\n                            If url parameters are required, substitution of the URL supports the following parameters: <br><br>\n                            - <strong>format</strong> Format of the report <br>\n                            - <strong>instanceId</strong> Unique name of the report <br>\n                            - <strong>parameter_&lt;parameterName&gt;</strong> Any report parameter <br><br>\n\n                            <strong>Example</strong> <br>\n                            <span>http://localhost:8080/files?instanceId=:instanceId&format=:format&option=:parameter_option</pre>\n                        </div>\'"> <i class="fa fa-info-circle"></i> </button> <input id="webhookUrl" name="webhookUrl" ng-model="report.deliveryOptions.webhookUrl" placeholder="https://example.org/:reportId/?:instanceId" type="text" class="form-control" ng-class="{ \'is-invalid\' : reportForm.webhookUrl.$invalid || report.errors.webhookUrl }" data-toggle="tooltip" data-placement="right" title="The report is sent to this URL with an http post request after generated" required> <div ng-show="reportForm.webhookUrl.$invalid" class="invalid-feedback">Please provide a valid webhook url.</div> <div ng-show="report.errors.webhookUrl" class="invalid-feedback">{{report.errors.webhookUrl}}</div> </div> </div> <hr class="mb-4"> </div> <div class="form-group ml-4" ng-if="options.showScheduleOptions && options.showScheduleOptionsToggle"> <input type="checkbox" id="createSchedule" ng-model="options.scheduleReport" class="form-check-input" ng-change="options.deliverReport = options.deliverReport || options.scheduleReport"> <label class="form-check-label" data-toggle="tooltip" data-placement="right" title="Schedule this report" for="createSchedule"> <i class="fa fa-clock-o"></i> Schedule this report </label> </div> <div class="" ng-if="options.showScheduleOptions && options.scheduleReport"> <h3>Schedule Editor</h3> <div class=""> <onms-schedule-editor ng-model="report.scheduleOptions"></onms-schedule-editor> <div class="text-danger" style="font-size:80%;max-width:300px" ng-if="report.errors.cronExpression">{{report.errors.cronExpression}}</div> </div> <hr> </div> <p class="text-danger" style="font-size:80%" ng-if="report.errors.entity"> {{report.errors.entity}} </p> </form> </span>')}]),e.exports=t},12:function(e,exports,t){"use strict";console.log("init: bootstrap-js");var jQuery=t(5);t(8),t(41),e.exports=jQuery},128:function(e,exports,t){"use strict";t(48),t(150),t(14),t(149);var r,o,n=p(t(107)),a=p(t(11)),i=p(t(29)),s=p(t(49)),l=p(t(245)),u=p(t(16)),d=p(t(103));function p(e){return e&&e.__esModule?e:{default:e}}var c="onms.elementList";window.ISO_8601_DATE_FORMAT="yyyy-MM-ddTHH:mm:ss.sssZ",window.ISO_8601_DATE_FORMAT_WITHOUT_MILLIS="yyyy-MM-ddTHH:mm:ssZ";var angular=t(3);t(5);t(12);var f=t(129),m=t(130),h=t(131),v=function(e){return"string"==typeof e?e.replace("!","%21").replace("$","%24").replace("'","%27").replace("(","%28").replace(")","%29").replace("+","%2B").replace(",","%2C").replace(";","%3B").replace("=","%3D"):e},g=function(e){for(var t=!0,r="",o=0;o<e.length;o++){switch(t||(r+=";"),r+=e[o].property,e[o].operator){case"EQ":r+="==";break;case"NE":r+="!=";break;case"LT":r+="=lt=";break;case"LE":r+="=le=";break;case"GT":r+="=gt=";break;case"GE":r+="=ge="}r+=v(e[o].value),t=!1}return r},y=function(e){for(var t=e.split(";"),r=[],o=[],n=0;n<t.length;n++){var i,s,l,u,d,p;(0,a.default)(i=t[n]).call(i,"==")>0?(r=t[n].split("=="),o.push({property:r[0],operator:"EQ",value:r[1]})):(0,a.default)(s=t[n]).call(s,"!=")>0?(r=t[n].split("!="),o.push({property:r[0],operator:"NE",value:r[1]})):(0,a.default)(l=t[n]).call(l,"=lt=")>0?(r=t[n].split("=lt="),o.push({property:r[0],operator:"LT",value:r[1]})):(0,a.default)(u=t[n]).call(u,"=le=")>0?(r=t[n].split("=le="),o.push({property:r[0],operator:"LE",value:r[1]})):(0,a.default)(d=t[n]).call(d,"=gt=")>0?(r=t[n].split("=gt="),o.push({property:r[0],operator:"GT",value:r[1]})):(0,a.default)(p=t[n]).call(p,"=ge=")>0&&(r=t[n].split("=ge="),o.push({property:r[0],operator:"GE",value:r[1]}))}return o},b=function(e,t,r){var o,n=e;return t<0?(n=0,o=0):o=Math.floor(t/r)*r,n=(n=n<0?0:n)>o?o:n,n=Math.floor(n/r)*r};(0,i.default)(r=(0,i.default)(o=angular.module("onmsListFilters",[])).call(o,"operator",(function(){return function(e,t){var r="string"==typeof t&&(0,a.default)(t).call(t,"*")>-1;switch(e){case"EQ":return r?"is like":"equals";case"NE":return r?"is not like":"does not equal";case"LT":return"is less than";case"LE":return"is less than or equal";case"GT":return"is greater than";case"GE":return"is greater than or equal";default:return e}}}))).call(r,"isNotEmpty",(function(){return function(e){return e&&("string"!=typeof e||""!==(0,s.default)(e).call(e))}})),angular.module(c,[]).config(["$locationProvider",function(e){e.hashPrefix(""),e.html5Mode({enabled:!0,rewriteLinks:!1})}]).directive("onmsListEditInPlace",(function(){return{controller:["$scope",function($scope){$scope.editing=!1,$scope.originalValue=angular.copy($scope.value),$scope.edit=function(){$scope.editing=!0},$scope.unedit=function(){$scope.editing=!1},$scope.onKeyup=function(e){27===e.keyCode&&$scope.cancel()},$scope.submit=function(){$scope.onSubmit(),$scope.originalValue=$scope.value,$scope.unedit()},$scope.cancel=function(){$scope.value=$scope.originalValue,$scope.unedit()}}],scope:{item:"=",value:"=",valueType:"=",step:"=",onSubmit:"&onSubmit"},templateUrl:f,transclude:!0}})).directive("onmsListEditListInPlace",["$window",function(e){return{controller:["$scope",function($scope){$scope.editing=!1,$scope.edit=function(){$scope.editing=!0},$scope.unedit=function(){$scope.newValue=null,$scope.editing=!1},$scope.onKeyup=function(e){switch(e.keyCode){case 13:$scope.add((0,l.default)($scope),$scope.newValue);break;case 27:$scope.unedit()}},$scope.confirmAndRemove=function(t,r){e.confirm('Are you sure you want to remove "'+r+'"?')&&((0,u.default)(t).call(t,(0,a.default)(t).call(t,r),1),$scope.onEdit())},$scope.add=function(e,t){e.push(t),(0,d.default)(e).call(e),$scope.onEdit(),$scope.unedit()}}],scope:{values:"=",valueType:"=",step:"=",onEdit:"&onEdit"},templateUrl:m,transclude:!0}}]).directive("onmsListEditMapInPlace",["$window",function(e){return{controller:["$scope",function($scope){$scope.editing=!1,$scope.edit=function(){$scope.editing=!0},$scope.unedit=function(){$scope.newKey=null,$scope.newValue=null,$scope.editing=!1},$scope.onKeyup=function(e){switch(e.keyCode){case 13:$scope.add((0,l.default)($scope),$scope.newKey,$scope.newValue);break;case 27:$scope.unedit()}},$scope.confirmAndRemove=function(t,r){e.confirm('Are you sure you want to remove "'+r+'"?')&&(delete t[r],$scope.onEdit())},$scope.add=function(e,t,r){e[t]=r,$scope.onEdit(),$scope.unedit()}}],scope:{values:"=",keyType:"=",valueType:"=",step:"=",onEdit:"&onEdit"},templateUrl:h,transclude:!0}}]).controller("ListCtrl",["$scope","$location","$window","$log","$filter",function($scope,e,t,r,o){r.debug("ListCtrl initializing..."),$scope.defaults={_s:"",searchClauses:[],limit:20,offset:0,orderBy:"",order:"asc"};var n=void 0===e.search().limit?$scope.defaults.limit:Number(e.search().limit)>0?Number(e.search().limit):$scope.defaults.limit;$scope.query={lastOffset:0,maxOffset:0,searchParam:void 0===e.search()._s?$scope.defaults._s:e.search()._s,searchClauses:void 0===e.search()._s?$scope.defaults.searchClauses:y(e.search()._s),limit:n,newLimit:n,offset:void 0===e.search().offset?$scope.defaults.offset:Number(e.search().offset)>0?b(Number(e.search().offset),Number.MAX_VALUE,n):$scope.defaults.offset,orderBy:void 0===e.search().orderBy?$scope.defaults.orderBy:e.search().orderBy,order:void 0===e.search().order?$scope.defaults.order:"asc"===e.search().order?"asc":"desc"},$scope.$watch("query",(function(){var t=angular.copy($scope.query);delete t.searchClauses,delete t.newLimit,delete t.lastOffset,delete t.maxOffset,t._s=""===t.searchParam?null:t.searchParam,delete t.searchParam,t.limit!==$scope.defaults.limit&&""!==t.limit||delete t.limit,t.offset!==$scope.defaults.offset&&""!==t.offset||delete t.offset,t.orderBy!==$scope.defaults.orderBy&&""!==t.orderBy||delete t.orderBy,t.order!==$scope.defaults.order&&""!==t.order||delete t.order,t._s!==$scope.defaults._s&&""!==t._s||delete t._s,e.search(t)}),!0),$scope.addSearchClause=function(e){angular.isDate(e.value)&&(e.value=o("date")(new Date(e.value),ISO_8601_DATE_FORMAT)),$scope.getSearchClause(e)||($scope.query.searchClauses.push(angular.copy(e)),$scope.query.searchParam=g($scope.query.searchClauses),$scope.refresh())},$scope.getSearchClause=function(e){for(var t=0;t<$scope.query.searchClauses.length;t++)if($scope.clauseEquals(e,$scope.query.searchClauses[t]))return $scope.query.searchClauses[t];return null},$scope.clauseEquals=function(e,t){return e.property===t.property&&e.operator===t.operator&&e.value===t.value},$scope.addEpochTimestampSearchClause=function(e){e.value=o("date")(e.value,ISO_8601_DATE_FORMAT),$scope.addSearchClause(e)},$scope.removeSearchClause=function(e){var t,r;(0,u.default)(t=$scope.query.searchClauses).call(t,(0,a.default)(r=$scope.query.searchClauses).call(r,e),1),$scope.query.searchParam=g($scope.query.searchClauses),$scope.refresh()},$scope.removeSearchClauses=function(e){for(var t=0;t<e.length;t++){var r,o,n=(0,a.default)(r=$scope.query.searchClauses).call(r,e[t]);if(n>=0)(0,u.default)(o=$scope.query.searchClauses).call(o,n,1)}$scope.query.searchParam=g($scope.query.searchClauses),$scope.refresh()},$scope.replaceSearchClause=function(e,t){angular.isDate(t.value)&&(t.value=o("date")(new Date(t.value),ISO_8601_DATE_FORMAT));var r=$scope.getSearchClause(e),n=$scope.getSearchClause(t);r?n?$scope.removeSearchClause(e):(r.property=t.property,r.operator=t.operator,r.value=t.value,$scope.query.searchParam=g($scope.query.searchClauses),$scope.refresh()):n||$scope.addSearchClause(t)},$scope.clearSearch=function(){$scope.query.searchClauses.length>0&&($scope.query.searchClauses=[],$scope.query.searchParam="",$scope.refresh())},$scope.changeOrderBy=function(e){$scope.query.orderBy===e?$scope.query.order="asc"===$scope.query.order?"desc":"asc":($scope.query.orderBy=e,$scope.query.order=$scope.defaults.order),$scope.refresh()},$scope.setOffset=function(e){var t=b(e,$scope.query.maxOffset,$scope.query.limit);$scope.query.offset!==t&&($scope.query.offset=t,$scope.refresh())},$scope.setLimit=function(e){e<1?$scope.query.newLimit=$scope.query.limit:$scope.query.limit!==e&&($scope.query.limit=e,$scope.query.offset=b($scope.query.offset,$scope.query.maxOffset,$scope.query.limit),$scope.refresh())},$scope.refresh=function(){r.warn("You need to override $scope.$parent.refresh() in your controller")},$scope.update=function(){r.warn("You need to override $scope.$parent.update() in your controller")},$scope.deleteItem=function(e){r.warn("You need to override $scope.$parent.deleteItem() in your controller")},r.debug("ListCtrl initialized")}]).run(["$rootScope","$log",function(e,t){t.debug("Finished initializing "+c)}]),e.exports={appendTransform:function(e,t){var r=angular.isArray(e)?e:[e];return(0,n.default)(r).call(r,t)},toFiql:g,fromFiql:y,parseContentRange:function(e){if(!e)return{start:0,end:0,total:0};var t=/items\s+?(\d+)\s*-\s*(\d+)\s*\/\s*(\d+)/;return{start:Number(e.replace(t,"$1")),end:Number(e.replace(t,"$2")),total:Number(e.replace(t,"$3"))}},escapeSearchValue:v,normalizeOffset:b}},129:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editInPlace.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-inline" ng-submit="submit()" style="margin:0"> <input ng-show="editing" ng-keyup="onKeyup($event)" type="{{valueType}}" step="{{step}}" ng-model="value"> <span style="line-height:24px" ng-hide="editing" ng-click="edit()">{{value}}&nbsp;</span> <a href style="text-decoration:none" ng-click="edit()" ng-hide="editing"><i class="fa fa-edit fa-lg"></i></a> <a href style="text-decoration:none" ng-click="submit()" ng-show="editing"><i class="fa fa-check fa-lg"></i></a> <a href style="text-decoration:none" ng-click="cancel()" ng-show="editing"><i class="fa fa-close fa-lg"></i></a> <span ng-transclude></span> </form> ')}]),e.exports=t},130:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editListInPlace.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span> <span ng-repeat="value in values"> <button class="btn btn-sm btn-secondary" ng-click="confirmAndRemove(values, value)" style="margin-bottom:3px;margin-right:3px"> {{value}}&nbsp;<i class="fa fa-close"></i> </button> </span> <span style="line-height:24px" ng-hide="editing"> <a href style="text-decoration:none" ng-click="edit()"><i class="fa fa-edit fa-lg"></i></a>&nbsp; </span> <span ng-show="editing" class="text-nowrap"> <input type="{{valueType}}" ng-keyup="onKeyup($event)" ng-model="newValue"> <a href style="text-decoration:none" ng-click="add(values, newValue)"><i class="fa fa-plus fa-lg"></i></a> <a href style="text-decoration:none" ng-click="unedit()"><i class="fa fa-close fa-lg"></i></a> </span> <span ng-transclude></span> </span>')}]),e.exports=t},131:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editMapInPlace.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span> <span ng-repeat="(key,value) in values"> <button class="btn btn-sm btn-secondary" ng-click="confirmAndRemove(values, key)" style="margin-bottom:3px;margin-right:3px"> <b>{{key}}:</b> {{value}}&nbsp;<i class="fa fa-close"></i> </button> </span> <span style="line-height:24px" ng-hide="editing"> <a href style="text-decoration:none" ng-click="edit()"><i class="fa fa-edit fa-lg"></i></a>&nbsp; </span> <span ng-show="editing" class="text-nowrap"> <input type="{{keyType}}" ng-keyup="onKeyup($event)" ng-model="newKey"> <input type="{{valueType}}" ng-keyup="onKeyup($event)" ng-model="newValue"> <a href style="text-decoration:none" ng-click="add(values, newKey, newValue)"><i class="fa fa-plus fa-lg"></i></a> <a href style="text-decoration:none" ng-click="unedit()"><i class="fa fa-close fa-lg"></i></a> </span> <span ng-transclude></span> </span>')}]),e.exports=t},152:function(e,exports,t){"use strict";var r=t(15),o=t(17),n=t(18);r(exports,"__esModule",{value:!0}),exports.default=void 0,t(158),t(14);var a=k(t(97)),i=k(t(29)),s=k(t(459)),l=k(t(49)),u=k(t(21)),d=k(t(217)),p=k(t(218)),c=k(t(111)),f=k(t(159)),m=k(t(219)),h=k(t(297)),v=k(t(460)),g=k(t(461)),y=k(t(463)),b=k(t(464)),w=k(t(298)),E=k(t(735));function k(e){return e&&e.__esModule?e:{default:e}}function _(e){return _="function"==typeof o&&"symbol"==typeof n?function(e){return typeof e}:function(e){return e&&"function"==typeof o&&e.constructor===o&&e!==o.prototype?"symbol":typeof e},_(e)}function S(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),r(e,(a=n.key,i=void 0,i=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[u.default];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==_(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===_(i)?i:String(i)),n)}var a,i}var C=t(8),O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=void 0===t?{}:t;if(this.clockMode=r.clockMode||d.default.FULL_CLOCK_SYSTEM,this.clockMode!==d.default.HALF_CLOCK_SYSTEM&&this.clockMode!==d.default.FULL_CLOCK_SYSTEM)throw new Error("Provided clock mode not supported");this.type=r.type||c.default.DAILY,this.interval=void 0!==r.interval?r.interval:0,this.at=r.at||new f.default({hours:0,minutes:0}),this.from=r.from||new f.default({hours:0,minutes:0}),this.to=r.to||new f.default({hours:23,minutes:0}),this.daysOfWeek=r.daysOfWeek||{},this.dayOfMonth=r.dayOfMonth||"1",this.weekOfMonth=r.dayOfMonth||"1",this.dayOfWeek=r.dayOfWeek||String(p.default.Sunday.id),this.dayOfMonthToggle=r.dayOfMonthToggle||"dayOfMonth",this.cronExpression=r.cronExpression||"0 0/5 * * * ?",this.timezone=r.timezone||void 0,this.showDebugOptions=r.showDebugOptions||!1,this.at instanceof f.default||(this.at=new f.default(this.at)),this.from instanceof f.default||(this.from=new f.default(this.from)),this.to instanceof f.default||(this.to=new f.default(this.to)),this.at.convert(this.clockMode),this.from.convert(this.clockMode),this.to.convert(this.clockMode),this.from.options.disableMinutes=!0,this.to.options.disableMinutes=!0,this.daysOfWeek instanceof h.default||(this.daysOfWeek=new h.default(this.daysOfWeek)),this.interval=String(this.interval)}var t,o,n;return t=e,n=[{key:"createFrom",value:function(e){for(var t=[new g.default,new y.default,new v.default],r=0;r<t.length;r++)if(!0===t[r].canParse(e))return t[r].parse(e);return(new v.default).parse(e)}}],(o=[{key:"getSelectedWeekdays",value:function(){var e,t;return(0,a.default)(e=(0,i.default)(t=(0,s.default)(this.daysOfWeek)).call(t,(function(e){return!0===this.daysOfWeek[e]}),this)).call(e,(function(e){return e.substr(0,3).toUpperCase()}))}},{key:"getCronExpression",value:function(){if(this.validate(),this.type===c.default.CUSTOM)return this.cronExpression;var e=new m.default({seconds:0,minutes:0,hours:0,dayOfMonth:"*",month:"*",dayOfWeek:"?"});if(this.type===c.default.DAILY||this.type===c.default.DAYS_PER_WEEK){var t=this.interval,r=new f.default(this.at,d.default.FULL_CLOCK_SYSTEM),o=new f.default(this.from,d.default.FULL_CLOCK_SYSTEM),n=new f.default(this.to,d.default.FULL_CLOCK_SYSTEM);if("0"===t)e.hours=r.hours,e.minutes=r.minutes;else if(t===w.default.EVERY_HOUR){var a=o.hours===n.hours?o.hours:o.hours+"-"+n.hours;e.hours=a,e.minutes=0}else if(t%60==0){var i=o.hours+"-"+n.hours;e.hours=i+"/"+t/60,e.minutes=0}else o.hours===n.hours?(e.hours=o.hours,e.minutes=0):(e.hours=o.hours+"-"+(n.hours-1),e.minutes="0/"+t)}if(this.type===c.default.DAYS_PER_WEEK&&(e.dayOfWeek=this.getSelectedWeekdays().join(",")),this.type===c.default.DAYS_PER_MONTH){var s=new f.default(this.at,d.default.FULL_CLOCK_SYSTEM);e.minutes=s.minutes,e.hours=s.hours,"dayOfMonth"===this.dayOfMonthToggle?e.dayOfMonth=this.dayOfMonth:e.dayOfWeek=this.dayOfWeek+("L"!==this.weekOfMonth?"#":"")+this.weekOfMonth}return(this.type===c.default.DAYS_PER_WEEK||this.type===c.default.DAYS_PER_MONTH&&"?"!==e.dayOfWeek)&&(e.dayOfMonth="?"),e.asCronExpression()}},{key:"validate",value:function(){if(this.type===c.default.CUSTOM){var e,t=(0,l.default)(e=this.cronExpression).call(e).split(" ");if(t.length<6||t.length>7)throw new b.default("cronExpression","Invalid cron expression")}if(this.type===c.default.DAYS_PER_WEEK&&this.type===c.default.DAYS_PER_WEEK&&0===this.getSelectedWeekdays().length)throw new b.default("dayOfWeek","Please select at least one day");if((this.type===c.default.DAILY||this.type===c.default.DAYS_PER_WEEK)&&"0"!==this.interval&&this.to.isBefore(this.from))throw new b.default("to","To time must be equal or after from time")}},{key:"getServerZone",value:function(){return this.serverZone||window._onmsZoneId}},{key:"getBrowserZone",value:function(){return C.tz.guess()}},{key:"getNextExecution",value:function(e){var t=E.default.parseExpression(this.getCronExpression(),{tz:this.timezone}).next().toDate();return C.tz(t,e||this.timezone||C.tz.guess())}},{key:"isValid",value:function(){return void 0===this.errors||0===(0,s.default)(this.errors).length}}])&&S(t.prototype,o),n&&S(t,n),r(t,"prototype",{writable:!1}),e}();exports.default=O},159:function(e,exports,t){"use strict";var r=t(15),o=t(17),n=t(18);r(exports,"__esModule",{value:!0}),exports.default=void 0,t(14);var a=u(t(82)),i=u(t(46)),s=u(t(21)),l=u(t(217));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof o&&"symbol"==typeof n?function(e){return typeof e}:function(e){return e&&"function"==typeof o&&e.constructor===o&&e!==o.prototype?"symbol":typeof e},d(e)}function p(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),r(e,(a=n.key,i=void 0,i=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[s.default];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==d(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===d(i)?i:String(i)),n)}var a,i}var c=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o=t||{};this.hours=void 0===o.hours?12:(0,a.default)(o.hours,10),this.minutes=void 0===o.minutes?0:(0,a.default)(o.minutes,10),this.suffix=o.suffix||null,this.mode=null===this.suffix?l.default.FULL_CLOCK_SYSTEM:l.default.HALF_CLOCK_SYSTEM,this.mode===l.default.FULL_CLOCK_SYSTEM&&(this.suffix=null),this.options=o.options||{},this.verify(),r!==l.default.FULL_CLOCK_SYSTEM&&r!==l.default.HALF_CLOCK_SYSTEM||this.convert(r)}var t,o,n;return t=e,(o=[{key:"verify",value:function(){if(this.mode===l.default.HALF_CLOCK_SYSTEM){if("am"!==this.suffix&&"pm"!==this.suffix)throw new Error("Clock suffix, must be either 'am' or 'pm', but was '"+this.suffix+"'");if(this.hours<=0||this.hours>12)throw new Error("Hours must be between [1-12] but was "+this.hours)}if(this.mode===l.default.FULL_CLOCK_SYSTEM&&(this.hours<0||this.hours>23))throw new Error("Hours must be between [0-23] but was "+this.hours);if(this.minutes<0||this.minutes>59)throw new Error("Minutes must be between [0-59] but was "+this.minutes)}},{key:"getMinutesOfDay",value:function(){var t=new e(this,l.default.FULL_CLOCK_SYSTEM);return 60*t.hours+t.minutes}},{key:"isBefore",value:function(t){if(!(t instanceof e))throw new Error("Other object must be of type Time, but was of type "+d(t));return this.getMinutesOfDay()-t.getMinutesOfDay()<0}},{key:"convert",value:function(e){if(e!==l.default.FULL_CLOCK_SYSTEM&&e!==l.default.HALF_CLOCK_SYSTEM)throw new Error("Unknown Clock Mode '"+e+"'");return this.mode!==e&&(e===l.default.FULL_CLOCK_SYSTEM&&(12===this.hours&&"am"===this.suffix&&(this.hours=0),"pm"===this.suffix&&this.hours>=1&&this.hours<12&&(this.hours+=12),this.suffix=null),e===l.default.HALF_CLOCK_SYSTEM&&(0===this.hours?(this.hours=12,this.suffix="am"):this.hours>=1&&this.hours<=11?this.suffix="am":12===this.hours?this.suffix="pm":this.hours>12&&(this.hours-=12,this.suffix="pm")),this.mode=e),this}},{key:"toString",value:function(){var e,t;return(0,i.default)(e="00"+this.hours).call(e,-2)+":"+(0,i.default)(t="00"+this.minutes).call(t,-2)+(this.mode===l.default.HALF_CLOCK_SYSTEM?" "+this.suffix:"")}}])&&p(t.prototype,o),n&&p(t,n),r(t,"prototype",{writable:!1}),e}();exports.default=c},206:function(e,exports,t){"use strict";var angular=t(3),r=t(207);angular.module("onms.pagination",["ui.bootstrap"]).directive("pagination",(function(){return{restrict:"E",scope:{model:"=model",position:"@position",onChangeCallback:"=onChange"},link:function(e,t,r){if(void 0===e.model)throw new Error("No model defined.");if(void 0===e.model.page)throw new Error("No attribute model.page defined");if(void 0===e.model.totalItems)throw new Error("No attribute model.totalItems defined");if(void 0===e.model.limit)throw new Error("No attribute model.limit defined");var o=e.model.page;e.onChange=function(){o!==e.model.page&&(o=e.model.page,e.onChangeCallback&&e.onChangeCallback())}},transclude:!0,templateUrl:r}}))},207:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/lib/onms-pagination/pagination-toolbar.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div> <div ng-transclude ng-if="position === \'bottom\'"></div> <div class="row"> <div class="col-md-4 col-lg-6 col-sm-12" ng-show="(model.totalItems / model.limit) > 1"> <div style="margin:0" uib-pagination ng-model="model.page" total-items="model.totalItems" items-per-page="model.limit" rotate="true" boundary-links="true" max-size="5" boundary-link-numbers="true" ng-change="onChange()"> </div> </div> <div class="col-md-8 col-lg-6 col-sm-12 mt-4"> <pre class="pull-right" ng-show="model.totalItems == 0">No items found.</pre> <pre class="pull-right" ng-show="model.totalItems > 0">{{model.totalItems / model.page === 1\n            ? "Item " + (model.offset + 1)\n            : "Items " + ((model.page - 1) * model.limit + 1) + " - " + (model.page * model.limit &gt; model.totalItems ? model.totalItems : model.page * model.limit)}} ({{model.totalItems}} total)</pre> </div> </div> <div ng-transclude ng-if="position === \'top\' || position === undefined"></div> </div>')}]),e.exports=t},217:function(e,exports,t){"use strict";t(15)(exports,"__esModule",{value:!0}),exports.default=void 0;var r={HALF_CLOCK_SYSTEM:"AM_PM",FULL_CLOCK_SYSTEM:"24_HOURS"};exports.default=r},218:function(e,exports,t){"use strict";var r=t(15),o=t(17),n=t(18);r(exports,"__esModule",{value:!0}),exports.default=void 0,t(14);var a,i=(a=t(21))&&a.__esModule?a:{default:a};function s(e){return s="function"==typeof o&&"symbol"==typeof n?function(e){return typeof e}:function(e){return e&&"function"==typeof o&&e.constructor===o&&e!==o.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),r(e,(a=n.key,l=void 0,l=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[i.default];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===s(l)?l:String(l)),n)}var a,l}var u=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.label=r}var t,o,n;return t=e,(o=[{key:"shortcut",get:function(){return this.label.substr(0,3).toUpperCase()}}])&&l(t.prototype,o),n&&l(t,n),r(t,"prototype",{writable:!1}),e}(),d=new u(1,"Sunday"),p=new u(2,"Monday"),c=new u(3,"Tuesday"),f=new u(4,"Wednesday"),m=new u(5,"Thursday"),h=new u(6,"Friday"),v=new u(7,"Saturday"),g={all:[d,p,c,f,m,h,v],Weekdays:u,Sunday:d,Monday:p,Tuesday:c,Wednesday:f,Thursday:m,Friday:h,Saturday:v};exports.default=g},219:function(e,exports,t){"use strict";var r=t(15),o=t(17),n=t(18);r(exports,"__esModule",{value:!0}),exports.default=void 0;var a=u(t(11)),i=u(t(82)),s=u(t(49)),l=u(t(21));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof o&&"symbol"==typeof n?function(e){return typeof e}:function(e){return e&&"function"==typeof o&&e.constructor===o&&e!==o.prototype?"symbol":typeof e},d(e)}function p(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),r(e,(a=n.key,i=void 0,i=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[l.default];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==d(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===d(i)?i:String(i)),n)}var a,i}t(158),t(14);var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=void 0!==t?t:{};this.seconds=void 0!==r.seconds?r.seconds:{},this.minutes=void 0!==r.minutes?r.minutes:{},this.hours=void 0!==r.hours?r.hours:{},this.dayOfMonth=void 0!==r.dayOfMonth?r.dayOfMonth:{},this.month=void 0!==r.month?r.month:{},this.dayOfWeek=void 0!==r.dayOfWeek?r.dayOfWeek:{}}var t,o,n;return t=e,n=[{key:"createFrom",value:function(t){if("string"!=typeof t||""===t||""===(0,s.default)(t).call(t))throw new Error("Cannot parse provided expression. Please make sure it is a valid cron expression");var r=(0,s.default)(t).call(t).split(" ");if(r.length<6||r.length>7)throw new Error("Invalid Cron Expression. Expected field count is 6 or 7, but got "+r.length);var o=new e({seconds:r[0],minutes:r[1],hours:r[2],dayOfMonth:r[3],month:r[4],dayOfWeek:r[5]});return 7===r.length&&(o.year=r[6]),o}}],(o=[{key:"asCronExpression",value:function(){return[this.seconds,this.minutes,this.hours,this.dayOfMonth,this.month,this.dayOfWeek].join(" ")}},{key:"interval",get:function(){var e;if(this.isMinutesInterval())return this.minutes.substr((0,a.default)(e=this.minutes).call(e,"/")+1);if(this.isHoursInterval()){var t,r=this.hours.substr((0,a.default)(t=this.hours).call(t,"/")+1);return String(60*(0,i.default)(r,10))}return this.isHoursRange()>=1?"60":"0"}},{key:"isConcreteMinutes",value:function(){return!this.isMinutesInterval()&&!this.isMinutesRange()&&!this.__contains(this.minutes,",")&&(0,i.default)(this.minutes,10)>=0}},{key:"isMinutesInterval",value:function(){return this.__contains(this.minutes,"/")}},{key:"isMinutesRange",value:function(){return this.__contains(this.minutes,"-")}},{key:"isConcreteHours",value:function(){return!this.isHoursInterval()&&!this.isHoursRange()&&!this.__contains(this.hours,",")&&(0,i.default)(this.hours,10)>=0}},{key:"isHoursRange",value:function(){return this.__contains(this.hours,"-")}},{key:"isHoursInterval",value:function(){return this.__contains(this.hours,"/")}},{key:"__contains",value:function(e,t){return"string"==typeof e&&(0,a.default)(e).call(e,t)>=1}}])&&p(t.prototype,o),n&&p(t,n),r(t,"prototype",{writable:!1}),e}();exports.default=c},22:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/lib/onms-http/403-permission-denied.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span> <div class="modal-header"> <h3><i class="fa fa-exclamation-triangle text-warning"></i> Permission Denied</h3> </div> <div class="modal-body"> <h5> You are not allowed to perform the requested action. </h5> <p class="text-muted"> This is not supposed to happen. Please reload the page and contact your administrator if this occurs more often. </p> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-click="reload()">Reload</button> </div> </span>')}]),e.exports=t},26:function(e,exports,t){"use strict";var r=t(15),o=t(17),n=t(18);r(exports,"__esModule",{value:!0}),exports.default=void 0,t(14);var a,i=(a=t(21))&&a.__esModule?a:{default:a};function s(e){return s="function"==typeof o&&"symbol"==typeof n?function(e){return typeof e}:function(e){return e&&"function"==typeof o&&e.constructor===o&&e!==o.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),r(e,(a=n.key,l=void 0,l=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[i.default];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===s(l)?l:String(l)),n)}var a,l}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,n;return t=e,n=[{key:"getBaseHref",value:function(){var e=document.getElementsByTagName("base")[0];return e?e.href:""}},{key:"setLocation",value:function(t){window&&window.location&&(window.location.href=e.getBaseHref()+t)}},{key:"toggle",value:function(e,t){var r=document.getElementsByName(t);for(var o in r)r.hasOwnProperty(o)&&(r[o].checked=e)}}],(o=null)&&l(t.prototype,o),n&&l(t,n),r(t,"prototype",{writable:!1}),e}();exports.default=u},292:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-classifications/views/modals/popover.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="popover px-2 py-2" ng-class="[vm.$attrs.placement || vm.defaults.placement, \'bs-popover-\' + (vm.$attrs.placement || vm.defaults.placement), vm.$attrs.popoverClass || vm.defaults.popoverClass, {fade: vm.animation}]"> <div class="popover-arrow arrow" style="top:50px"></div> <h3 class="popover-title" ng-bind-html="vm.$attrs.title"></h3> <div class="popover-content"> <p ng-bind-html="vm.$attrs.message"></p> <div class="row"> <div class="col-sm-6" ng-if="!vm.$attrs.hideConfirmButton && !vm.defaults.hideConfirmButton" ng-class="{\'col-sm-offset-3\': vm.$attrs.hideCancelButton || vm.defaults.hideCancelButton}"> <button class="btn btn-block confirm-button" ng-class="\'btn-\' + (vm.$attrs.confirmButtonType || vm.defaults.confirmButtonType)" ng-click="vm.onConfirm(); vm.hidePopover()" ng-bind-html="vm.$attrs.confirmText || vm.defaults.confirmText"> </button> </div> <div class="col-sm-6" ng-if="!vm.$attrs.hideCancelButton && !vm.defaults.hideCancelButton" ng-class="{\'col-sm-offset-3\': vm.$attrs.hideConfirmButton || vm.defaults.hideConfirmButton}"> <button class="btn btn-block cancel-button" ng-class="\'btn-\' + (vm.$attrs.cancelButtonType || vm.defaults.cancelButtonType)" ng-click="vm.onCancel(); vm.hidePopover()" ng-bind-html="vm.$attrs.cancelText || vm.defaults.cancelText"> </button> </div> </div> </div> </div> ')}]),e.exports=t},297:function(e,exports,t){"use strict";var r=t(15),o=t(17),n=t(18);r(exports,"__esModule",{value:!0}),exports.default=void 0,t(14);var a=d(t(294)),i=d(t(9)),s=d(t(730)),l=d(t(21)),u=d(t(218));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){return p="function"==typeof o&&"symbol"==typeof n?function(e){return typeof e}:function(e){return e&&"function"==typeof o&&e.constructor===o&&e!==o.prototype?"symbol":typeof e},p(e)}function c(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),r(e,(a=n.key,i=void 0,i=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[l.default];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==p(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===p(i)?i:String(i)),n)}var a,i}var f=function(){function e(t){var r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n={};if((0,a.default)(t)){var l={};(0,i.default)(t).call(t,(function(e){e instanceof u.default.Weekdays?l[e.label]=!0:l[e]=!0})),n=l}else void 0!==t&&(n=t);(0,i.default)(r=(0,s.default)(u.default.all)).call(r,(function(e){!1===n.hasOwnProperty(e.label)?o[e.label]=!1:o[e.label]=n[e.label]&&!0}),this)}var t,o,n;return t=e,n=[{key:"createFrom",value:function(t){var r=t.split(","),o=(0,s.default)(u.default.all),n=[];return(0,i.default)(r).call(r,(function(e){for(var t=0;t<o.length;t++)e===o[t].shortcut&&n.push(o[t])})),new e(n)}}],(o=[{key:"getSelectedWeekdays",value:function(){var e,t=this,r=[];return(0,i.default)(e=(0,s.default)(u.default.all)).call(e,(function(e){!0===t[e.label]&&r.push(e)})),r}}])&&c(t.prototype,o),n&&c(t,n),r(t,"prototype",{writable:!1}),e}();exports.default=f},298:function(e,exports,t){"use strict";t(15)(exports,"__esModule",{value:!0}),exports.default=void 0;var r="180",o="120",n="60",a="30",i="15",s="10",l={all:[r,o,n,a,i,s,"5"],EVERY_3_HOURS:r,EVERY_2_HOURS:o,EVERY_HOUR:n,EVERY_30_MINUTES:a,EVERY_15_MINUTES:i,EVERY_10_MINUTES:s,EVERY_5_MINUTES:"5",Hours:[r,o,n],Minutes:[a,i,s,"5"]};exports.default=l},3:function(e,exports,t){"use strict";t(5);var angular=t(40);t(53),t(54),t(55),t(56),t(51),t(57),t(58),t(59),t(60),t(12),t(61),t(62),console.log("init: angular-js "+angular.version.full),e.exports=window.angular=angular},460:function(e,exports,t){"use strict";var r=t(15),o=t(17),n=t(18);r(exports,"__esModule",{value:!0}),exports.default=void 0,t(14);var a=l(t(21)),i=l(t(111)),s=l(t(152));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof o&&"symbol"==typeof n?function(e){return typeof e}:function(e){return e&&"function"==typeof o&&e.constructor===o&&e!==o.prototype?"symbol":typeof e},u(e)}function d(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),r(e,(i=n.key,s=void 0,s=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[a.default];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==u(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===u(s)?s:String(s)),n)}var i,s}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,n;return t=e,(o=[{key:"canParse",value:function(e){return!0}},{key:"parse",value:function(e){return new s.default({type:i.default.CUSTOM,cronExpression:e})}}])&&d(t.prototype,o),n&&d(t,n),r(t,"prototype",{writable:!1}),e}();exports.default=p},461:function(e,exports,t){"use strict";var r=t(15),o=t(17),n=t(18);r(exports,"__esModule",{value:!0}),exports.default=void 0,t(14);var a=h(t(11)),i=h(t(82)),s=h(t(21)),l=h(t(111)),u=h(t(159)),d=h(t(462)),p=h(t(219)),c=h(t(297)),f=h(t(152)),m=h(t(298));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){return v="function"==typeof o&&"symbol"==typeof n?function(e){return typeof e}:function(e){return e&&"function"==typeof o&&e.constructor===o&&e!==o.prototype?"symbol":typeof e},v(e)}function g(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),r(e,(a=n.key,i=void 0,i=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[s.default];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==v(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===v(i)?i:String(i)),n)}var a,i}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,n;return t=e,(o=[{key:"canParse",value:function(e){var t,r=p.default.createFrom(e),o=c.default.createFrom(r.dayOfWeek),n=void 0===r.year&&"0"===r.seconds&&(r.isConcreteMinutes()||r.isMinutesInterval()&&0===(0,a.default)(t=r.minutes).call(t,"0"))&&(r.isConcreteHours()||r.isHoursInterval()||r.isHoursRange())&&"*"===r.month&&("*"===r.dayOfMonth&&"?"===r.dayOfWeek||"?"===r.dayOfMonth&&o.getSelectedWeekdays().length>0);if(n){if(r.isMinutesInterval()){var i=m.default.Minutes;return(0,a.default)(i).call(i,r.interval)>=0}if(r.isHoursInterval()){var s=m.default.Hours;return(0,a.default)(s).call(s,r.interval)>=0}return!0}return!1}},{key:"parse",value:function(e){var t=p.default.createFrom(e),r=new f.default({type:l.default.DAILY});if(r.interval=t.interval,"0"===r.interval)r.at=new u.default({hours:t.hours,minutes:t.minutes});else{var o=new d.default(t.hours);r.interval%60!=0&&t.isHoursRange()&&(o.end=(0,i.default)(o.end,10)+1),r.from=new u.default({hours:o.start,minutes:0}),r.to=new u.default({hours:o.end,minutes:0})}var n=c.default.createFrom(t.dayOfWeek);return n.getSelectedWeekdays().length>0&&(r.type=l.default.DAYS_PER_WEEK,r.daysOfWeek=n),r}}])&&g(t.prototype,o),n&&g(t,n),r(t,"prototype",{writable:!1}),e}();exports.default=y},462:function(e,exports,t){"use strict";t(14);var r=t(21),o=t(15),n=t(17),a=t(18);function i(e){return i="function"==typeof n&&"symbol"==typeof a?function(e){return typeof e}:function(e){return e&&"function"==typeof n&&e.constructor===n&&e!==n.prototype?"symbol":typeof e},i(e)}o(exports,"__esModule",{value:!0}),exports.default=void 0;var s,l=(s=t(11))&&s.__esModule?s:{default:s};function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),o(e,(s=a.key,l=void 0,l=function(e,t){if("object"!==i(e)||null===e)return e;var o=e[r];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===i(l)?l:String(l)),a)}var s,l}function d(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),o(e,"prototype",{writable:!1}),e}var p=d((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=(0,l.default)(t).call(t,"/"),o=(0,l.default)(t).call(t,"-"),n=t.substr(0,-1===r?t.length:r);this.start=n.substr(0,-1===o?n.length:o),this.end=-1===o?this.start:n.substr(o+1)}));exports.default=p},463:function(e,exports,t){"use strict";var r=t(15),o=t(17),n=t(18);r(exports,"__esModule",{value:!0}),exports.default=void 0;var a=c(t(11)),i=c(t(82)),s=c(t(21));t(375),t(48),t(151),t(14);var l=c(t(111)),u=c(t(159)),d=c(t(219)),p=c(t(152));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"==typeof o&&"symbol"==typeof n?function(e){return typeof e}:function(e){return e&&"function"==typeof o&&e.constructor===o&&e!==o.prototype?"symbol":typeof e},f(e)}function m(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),r(e,(a=n.key,i=void 0,i=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[s.default];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==f(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===f(i)?i:String(i)),n)}var a,i}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.regExp=new RegExp("[1-7]#[1,2,3]|L")}var t,o,n;return t=e,(o=[{key:"canParse",value:function(e){var t,r,o,n=d.default.createFrom(e),s=void 0===n.year&&"0"===n.seconds&&n.isConcreteMinutes()&&n.isConcreteHours()&&"*"===n.month&&-1===(0,a.default)(t=n.dayOfMonth).call(t,",")&&-1===(0,a.default)(r=n.dayOfMonth).call(r,"-")&&-1===(0,a.default)(o=n.dayOfMonth).call(o,"/")&&((0,i.default)(n.dayOfMonth,10)>=1&&(0,i.default)(n.dayOfMonth,10)<=31||"L"===n.dayOfMonth&&"?"===n.dayOfWeek||"?"===n.dayOfMonth&&this.regExp.test(n.dayOfWeek));return s}},{key:"parse",value:function(e){var t=d.default.createFrom(e),r=new p.default({type:l.default.DAYS_PER_MONTH,at:new u.default({hours:t.hours,minutes:t.minutes})});return"?"===t.dayOfMonth?r.dayOfMonthToggle="dayOfWeek":r.dayOfMonthToggle="dayOfMonth","dayOfMonth"===r.dayOfMonthToggle?r.dayOfMonth=t.dayOfMonth:(r.weekOfMonth=t.dayOfWeek.substr(-1),r.dayOfWeek=t.dayOfWeek.substr(0,1)),r}}])&&m(t.prototype,o),n&&m(t,n),r(t,"prototype",{writable:!1}),e}();exports.default=h},464:function(e,exports,t){"use strict";function r(e){return r="function"==typeof p&&"symbol"==typeof c?function(e){return typeof e}:function(e){return e&&"function"==typeof p&&e.constructor===p&&e!==p.prototype?"symbol":typeof e},r(e)}t(109),t(151),t(14);var o=t(265),n=t(69),a=t(11),i=t(465),s=t(466),l=t(467),u=t(15),d=t(21),p=t(17),c=t(18);u(exports,"__esModule",{value:!0}),exports.default=void 0;var f=g(t(107)),m=g(t(265)),h=g(t(69)),v=g(t(468));function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),u(e,(a=n.key,i=void 0,i=function(e,t){if("object"!==r(e)||null===e)return e;var o=e[d];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===r(i)?i:String(i)),n)}var a,i}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){var t="function"==typeof s?new s:void 0;return E=function(e){if(null===e||(r=e,-1===a(o=Function.toString.call(r)).call(o,"[native code]")))return e;var r,o;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return k(e,arguments,C(this).constructor)}return n.prototype=l(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),S(n,e)},E(e)}function k(e,t,r){var o;_()?k=n(o=i).call(o):k=function(e,t,r){var o=[null];o.push.apply(o,t);var a=new(n(Function).apply(e,o));return r&&S(a,r.prototype),a};return k.apply(null,arguments)}function _(){if("undefined"==typeof Reflect||!i)return!1;if(i.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i(Boolean,[],(function(){}))),!0}catch(e){return!1}}function S(e,t){var r;return S=o?n(r=o).call(r):function(e,t){return e.__proto__=t,e},S(e,t)}function C(e){var t;return C=m.default?(0,h.default)(t=v.default).call(t):function(e){return e.__proto__||(0,v.default)(e)},C(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=l(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),u(e,"prototype",{writable:!1}),t&&S(e,t)}(d,e);var t,r,o,n,a,s=(t=d,r=_(),function(){var e,o=C(t);if(r){var n=C(this).constructor;e=i(o,arguments,n)}else e=o.apply(this,arguments);return w(this,e)});function d(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"entity";b(this,d);for(var o=arguments.length,n=new Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];return(t=s.call.apply(s,(0,f.default)(e=[this]).call(e,n))).context=r,t}return o=d,n&&y(o.prototype,n),a&&y(o,a),u(o,"prototype",{writable:!1}),o}(E(Error));exports.default=O},469:function(e,exports,t){"use strict";var r,o=(r=t(69))&&r.__esModule?r:{default:r};var n=t(8);t(12),t(741),t(742);var angular=t(3),a=t(470);angular.module("onms.datetimepicker",["ui.bootstrap"]).directive("datetimepicker",["$timeout",function(e){return{restrict:"E",templateUrl:a,scope:{id:"@?id",format:"<?format",sideBySide:"@?expand",inline:"@?inline",locale:"<?locale",date:"=?ngModel",calendarWeeks:"@?calendarWeeks",maxDate:"=?maxDate",options:"=?options",onStateChange:"&?onStateChange"},link:function(t,r,a){t.id?t.elementId=t.id:(t.id=angular.element('[data-toggle="datetimepicker"]').length,t.elementId="datetimepicker-"+t.id),t.onStateChange=t.onStateChange||function(e){},t.options=t.options||{},t.options.sideBySide="true"===t.sideBySide||!1,t.options.inline="true"===t.inline||!1,t.options.calendarWeeks="true"===t.calendarWeeks||!1,t.options.format=t.options.format||"YYYY-MM-DD HH:mm",t.locale&&(t.options.locale=t.locale),t.date&&(t.options.defaultDate=t.date),t.maxDate&&(t.options.maxDate=t.maxDate),t.format&&(t.options.format=t.format),t.options.buttons={showToday:!0,showClose:!0},t.options.icons={clear:"fa fa-trash",close:"fa fa-check"},(0,o.default)(r).call(r,"keydown",(function(r){r.target&&r.target.value&&(t.validationHandle&&e.cancel(t.validationHandle),t.validationHandle=e((function(){var e=n(r.target.value,t.options.format);e.isValid()?(t.date=e,t.error=!1):t.error=!0,t.onStateChange({invalidState:t.error})}),100))})),(0,o.default)(r).call(r,"change.datetimepicker",(function(e){t.$apply((function(){e.date&&(t.date=e.date.format(t.options.format),t.error=!1,t.onStateChange({invalidState:t.error,date:t.date}))}))})),e((function(){angular.element("#"+t.elementId).datetimepicker(t.options)}),0)}}}]),e.exports=angular},470:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/lib/onms-datetimepicker/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-group"> <div class="input-group date" id="{{elementId}}" data-target-input="nearest"> <input type="text" ng-class="{ \'is-invalid\': error }" class="form-control datetimepicker" data-target="#{{elementId}}"> <div class="input-group-append" data-target="#{{elementId}}" data-toggle="datetimepicker"> <div class="input-group-text"><i class="fa fa-calendar"></i></div> </div> <div class="invalid-feedback" ng-show="error === true">Please provide a valid date value.</div> </div> </div>')}]),e.exports=t},471:function(e,exports,t){"use strict";var r=d(t(11)),o=d(t(103)),n=d(t(82)),a=d(t(217)),i=d(t(159)),s=d(t(152)),l=d(t(111)),u=d(t(218));function d(e){return e&&e.__esModule?e:{default:e}}var p=t(472),c=t(473),f=t(474);angular.module("onms.schedule.editor",[]).directive("onmsScheduleEditor",(function(){return{restrict:"E",templateUrl:p,scope:{id:"=?id",options:"=ngModel"},link:function(e,t,r){e.id=e.id||"schedule",e.options.type=e.options.type||l.default.DAILY,e.options=new s.default(e.options),e.weekdays=u.default.all,e.verifyInput=function(){try{e.errors=void 0,e.options.errors=e.errors,e.options.to.error=void 0,e.options.getCronExpression()}catch(t){"to"===t.context?(e.options.to.error=t.message,e.errors={to:t.message}):t.context?(e.errors={},e.errors[t.context]=t.message):console.log("Unexpected error occurred",t),e.options.errors=e.errors}},e.$watchGroup(["options.type","options.interval","options.dayOfMonth","options.dayOfWeek","options.weekOfMonth","options.dayOfMonthToggle","options.cronExpression"],e.verifyInput),e.$watchCollection("options.at",e.verifyInput),e.$watchCollection("options.from",e.verifyInput),e.$watchCollection("options.to",e.verifyInput),e.$watchCollection("options.daysOfWeek",e.verifyInput),e.$watch("options.dayOfMonth",(function(t,r){t!==r&&"dayOfMonth"!==e.options.dayOfMonthToggle&&(e.options.dayOfMonthToggle="dayOfMonth")})),e.$watchGroup(["options.dayOfWeek","options.weekOfMonth"],(function(t,r){t[0]===r[0]&&t[1]===r[1]||"dayOfWeek"===e.options.dayOfMonthToggle||(e.options.dayOfMonthToggle="dayOfWeek")}))}}})).directive("onmsScheduleInterval",(function(){return{restrict:"E",templateUrl:c,scope:{value:"=ngModel"}}})).directive("onmsTimeInput",[function(){return{restrict:"E",templateUrl:f,scope:{model:"=ngModel",mode:"=?mode",minutesStep:"=?minutesStep",disableMinutes:"=?disableMinutes"},link:function(e,t,s){void 0===e.model.options?e.options={mode:a.default.HALF_CLOCK_SYSTEM,disableMinutes:!1,minutesStep:5}:e.options=e.model.options,"boolean"==typeof e.disableMinutes&&(e.options.disableMinutes=e.disableMinutes),e.mode!==a.default.FULL_CLOCK_SYSTEM&&e.mode!==a.default.HALF_CLOCK_SYSTEM||(e.options.mode=e.mode),"number"==typeof e.minutesStep&&(e.options.minutesStep=e.minutesStep),e.options.mode=e.options.mode||e.model.mode,e.options.mode!==a.default.FULL_CLOCK_SYSTEM&&e.options.mode!==a.default.HALF_CLOCK_SYSTEM&&(e.options.mode=a.default.FULL_CLOCK_SYSTEM),"boolean"!=typeof e.options.disableMinutes&&(e.options.disableMinutes=!1),"number"!=typeof e.options.minutesStep&&(e.options.minutesStep=5),e.model instanceof i.default||(e.model=new i.default(e.model)),e.model.convert(e.options.mode);var l=function(){var t,a;e.minutes=[];for(var i=0;i<60;i+=e.options.minutesStep)e.minutes.push(i);-1===(0,r.default)(t=e.minutes).call(t,e.model.minutes)&&e.minutes.push(e.model.minutes),(0,o.default)(a=e.minutes).call(a,(function(e,t){return(0,n.default)(e,10)-(0,n.default)(t,10)}))},u=function(){e.hours=[];for(var t=e.model.mode===a.default.HALF_CLOCK_SYSTEM?1:0,r=e.model.mode===a.default.HALF_CLOCK_SYSTEM?12:23,o=t;o<=r;o++)e.hours.push(o)};l(),u(),e.$watch("options.minutesStep",(function(e){l()})),e.$watch("options.mode",(function(t,r){t!==r&&(e.model.convert(e.options.mode),u())}))}}}])},472:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/lib/onms-schedule-editor/templates/schedule-editor.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span> <style>onms-time-input{display:inline-block}.iso-datetime{font-family:monospace}.zone{display:inline;margin:unset;padding:.5rem;vertical-align:middle}.next-scheduled-time{padding-top:1rem;padding-bottom:1rem}td{padding-right:.4rem}</style> <form class="form" novalidate> <div class=""> <div class="form-check"> <input class="form-check-input" type="radio" name="{{id}}TypeSelect" id="{{id}}TypeDaily" ng-model="options.type" value="daily"> <label class="form-check-label" for="{{id}}TypeDaily"> Daily </label> </div> <div class="form-check"> <input class="form-check-input" type="radio" name="{{id}}TypeSelect" id="{{id}}TypeDaysPerWeek" ng-model="options.type" value="daysPerWeek"> <label class="form-check-label" for="{{id}}TypeDaysPerWeek"> Days per week </label> </div> <div class="form-check"> <input class="form-check-input" type="radio" name="{{id}}TypeSelect" id="{{id}}TypeDaysPerMonth" ng-model="options.type" value="daysPerMonth"> <label class="form-check-label" for="{{id}}TypeDaysPerMonth"> Days per month </label> </div> <div class="form-check"> <input class="form-check-input" type="radio" name="{{id}}TypeSelect" id="{{id}}TypeCustom" ng-model="options.type" value="custom"> <label class="form-check-label" for="{{id}}TypeCustom"> Cron Expression </label> </div> </div> <hr> <div class="" ng-if="options.type === \'daysPerWeek\'"> <label>Weekdays</label> <div class="form-check ml-1" ng-repeat="weekday in weekdays"> <input class="form-check-input" ng-class="{\'is-invalid\': errors.dayOfWeek}" type="checkbox" name="{{id}}{{weekday.id}}" id="{{id}}{{weekday.id}}" ng-model="options.daysOfWeek[weekday.label]" value="custom"> <label class="form-check-label" for="{{id}}{{weekday.id}}"> {{weekday.label}} </label> </div> <p class="text-danger small mb-0" ng-if="errors.dayOfWeek">{{errors.dayOfWeek}}</p> </div> <div class="mt-2" ng-if="options.type === \'daily\' || options.type === \'daysPerWeek\'"> <div class="form-group"> <label>Interval</label> <onms-schedule-interval ng-model="options.interval"></onms-schedule-interval> </div> <div class="form-group" ng-if="options.interval === \'0\'"> <label>At</label> <onms-time-input ng-model="options.at" options="options.at"></onms-time-input> <span class="zone">{{options.timezone}}</span> </div> <div class="form-group" ng-if="options.interval !== \'0\'"> <label>From</label> <onms-time-input ng-model="options.from" options="options.from"></onms-time-input> </div> <div class="form-group" ng-if="options.interval !== \'0\'"> <label>To</label> <onms-time-input ng-model="options.to" options="options.to"></onms-time-input> </div> </div> <div class="" ng-if="options.type === \'daysPerMonth\'"> <div class="form-group"> <label>At</label> <onms-time-input ng-model="options.at" options="options.at"></onms-time-input> <span class="zone">{{options.timezone}}</span> </div> <div class=""> <label>On</label> <div class="form-inline my-1 ml-1"> <input class="" type="radio" ng-model="options.dayOfMonthToggle" value="dayOfMonth"> <span class="mx-1">the</span> <select class="form-control custom-select" ng-model="options.dayOfMonth"> <option value="1">1st</option> <option value="2">2nd</option> <option value="3">3rd</option> <option value="4">4th</option> <option value="5">5th</option> <option value="6">6th</option> <option value="7">7th</option> <option value="8">8th</option> <option value="9">9th</option> <option value="10">10th</option> <option value="11">11th</option> <option value="12">12th</option> <option value="13">13th</option> <option value="14">14th</option> <option value="15">15th</option> <option value="16">16th</option> <option value="17">17th</option> <option value="18">18th</option> <option value="19">19th</option> <option value="20">20th</option> <option value="21">21st</option> <option value="22">22nd</option> <option value="23">23rd</option> <option value="24">24th</option> <option value="25">25th</option> <option value="26">26th</option> <option value="27">27th</option> <option value="28">28th</option> <option value="29">29th</option> <option value="30">30th</option> <option value="31">31st</option> <option value="L">Last</option> </select> <span class="ml-1">day of every month</span> </div> <div class="form-inline my-1 ml-1"> <input class="" type="radio" ng-model="options.dayOfMonthToggle" value="dayOfWeek"> <span class="mx-1">the</span> <select class="form-control custom-select" ng-model="options.weekOfMonth"> <option value="1">first</option> <option value="2">second</option> <option value="3">third</option> <option value="4">fourth</option> <option value="L">last</option> </select> <select class="form-control custom-select mx-1" ng-model="options.dayOfWeek"> <option ng-repeat="weekday in weekdays track by weekday.id" value="{{weekday.id}}">{{weekday.label}}</option> </select> <span>of every month</span> </div> </div> </div> <div class="" ng-if="options.type === \'custom\'"> <div class="form-inline"> <input id="customCronExpressionInput" type="text" class="form-control" ng-class="{\'is-invalid\': errors.cronExpression}" ng-model="options.cronExpression "> <span class="zone">{{options.timezone}}</span> <a href="http://www.quartz-scheduler.org/documentation/quartz-2.2.2/tutorials/crontrigger.html" class="ml-2" target="_blank" title="Help me"> <i class="fa fa-question-circle" aria-hidden="true"></i> </a> <p class="invalid-feedback" ng-if="errors.cronExpression">{{errors.cronExpression}}</p> </div> </div> <div class="next-scheduled-time"> <label> Next scheduled time: </label> <table> <tr> <td> Report: </td> <td> <span class="iso-datetime">{{options.getNextExecution(options.timezone).format("llll")}}</span> </td> <td> ({{options.timezone}}) </td> </tr> <tr ng-if="options.getServerZone()"> <td> Server: </td> <td> <span class="iso-datetime">{{options.getNextExecution(options.getServerZone()).format("llll")}}</span> </td> <td> ({{options.getServerZone()}}) </td> </tr> <tr> <td> Browser: </td> <td> <span class="iso-datetime">{{options.getNextExecution(options.getBrowserZone()).format("llll")}}</span> </td> <td> ({{options.getBrowserZone()}}) </td> </tr> </table> </div> <div class="text-muted mt-2" ng-if="options.showDebugOptions"> <hr> <label>Generated Cron Expression</label> <pre class="bg-light px-2 py-2 text-muted">{{options.getCronExpression()}}</pre> <label>Schedule Options</label> <pre class="bg-light px-2 py-2 text-muted">{{options | json}}</pre> </div> </form> </span> ')}]),e.exports=t},473:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/lib/onms-schedule-editor/templates/interval-input.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<select class="form-control custom-select" ng-model="value"> <option value="0" selected="selected">once per day</option> <option value="180">every 3 hours</option> <option value="120">every 2 hours</option> <option value="60">every hour</option> <option value="30">every 30 minutes</option> <option value="15">every 15 minutes</option> <option value="10">every 10 minutes</option> <option value="5">every 5 minutes</option> </select> ')}]),e.exports=t},474:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/lib/onms-schedule-editor/templates/time-input.tpl.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div class="form-inline"> <select class="form-control custom-select mx-1" ng-class="{\'is-invalid\': model.error}" ng-options="i for i in hours" ng-model="model.hours"> </select> <span>:</span> <select class="form-control custom-select mx-1" ng-class="{\'is-invalid\': model.error && !options.disableMinutes}" ng-model="model.minutes" ng-options="(\'00\' + i).slice(-2) for i in minutes" ng-disabled="options.disableMinutes"> </select> <select class="form-control custom-select" ng-if="model.mode === \'AM_PM\'" ng-model="model.suffix"> <option value="am">am</option> <option value="pm">pm</option> </select> <p class="invalid-feedback ml-1" ng-if="model.error">{{model.error}}</p> </div> ')}]),e.exports=t},5:function(e,exports,t){"use strict";console.log("init: jquery-js");var jQuery=t(7);t(28),e.exports=jQuery},736:function(e,exports){},737:function(e,exports,t){"use strict";function r(e){return r="function"==typeof p&&"symbol"==typeof c?function(e){return typeof e}:function(e){return e&&"function"==typeof p&&e.constructor===p&&e!==p.prototype?"symbol":typeof e},r(e)}t(109),t(151),t(14);var o=t(265),n=t(69),a=t(11),i=t(465),s=t(466),l=t(467),u=t(15),d=t(21),p=t(17),c=t(18);u(exports,"__esModule",{value:!0}),exports.default=void 0;var f=g(t(107)),m=g(t(265)),h=g(t(69)),v=g(t(468));function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),u(e,(a=n.key,i=void 0,i=function(e,t){if("object"!==r(e)||null===e)return e;var o=e[d];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===r(i)?i:String(i)),n)}var a,i}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){var t="function"==typeof s?new s:void 0;return E=function(e){if(null===e||(r=e,-1===a(o=Function.toString.call(r)).call(o,"[native code]")))return e;var r,o;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return k(e,arguments,C(this).constructor)}return n.prototype=l(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),S(n,e)},E(e)}function k(e,t,r){var o;_()?k=n(o=i).call(o):k=function(e,t,r){var o=[null];o.push.apply(o,t);var a=new(n(Function).apply(e,o));return r&&S(a,r.prototype),a};return k.apply(null,arguments)}function _(){if("undefined"==typeof Reflect||!i)return!1;if(i.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i(Boolean,[],(function(){}))),!0}catch(e){return!1}}function S(e,t){var r;return S=o?n(r=o).call(r):function(e,t){return e.__proto__=t,e},S(e,t)}function C(e){var t;return C=m.default?(0,h.default)(t=v.default).call(t):function(e){return e.__proto__||(0,v.default)(e)},C(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=l(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),u(e,"prototype",{writable:!1}),t&&S(e,t)}(d,e);var t,r,o,n,a,s=(t=d,r=_(),function(){var e,o=C(t);if(r){var n=C(this).constructor;e=i(o,arguments,n)}else e=o.apply(this,arguments);return w(this,e)});function d(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"entity";b(this,d);for(var o=arguments.length,n=new Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];return(t=s.call.apply(s,(0,f.default)(e=[this]).call(e,n))).context=r,t}return o=d,n&&y(o.prototype,n),a&&y(o,a),u(o,"prototype",{writable:!1}),o}(E(Error));exports.default=O},8:function(e,exports,t){"use strict";console.log("init: moment-js");var r=t(1);t(35),t(36),e.exports=r}},[[1038,0]]])}));
//# sourceMappingURL=onms-reports.min.js.map