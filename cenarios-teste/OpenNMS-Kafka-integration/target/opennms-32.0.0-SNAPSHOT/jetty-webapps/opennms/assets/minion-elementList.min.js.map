{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///./src/main/assets/js/lib/onms-http/index.js","webpack:///./src/main/assets/js/apps/onms-elementList/minion-elementList/index.js","webpack:///./src/main/assets/js/apps/onms-elementList/minion-elementList/main.html","webpack:///./src/main/assets/js/vendor/bootstrap-js.js","webpack:///./src/main/assets/js/apps/onms-elementList/lib/elementList.js","webpack:///./src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editInPlace.html","webpack:///./src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editListInPlace.html","webpack:///./src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editMapInPlace.html","webpack:///./src/main/assets/js/apps/onms-date-formatter/index.js","webpack:///./src/main/assets/js/lib/onms-http/403-permission-denied.html","webpack:///./src/main/assets/js/vendor/angular-js.js","webpack:///./src/main/assets/js/apps/onms-elementList/lib/restResources.js","webpack:///./src/main/assets/js/vendor/jquery-js.js","webpack:///./src/main/assets/js/vendor/moment-js.js"],"names":["root","factory","exports","module","define","amd","a","i","window","obj","_startsWith","require","__esModule","default","angular","permissionDeniedTemplate","$q","$rootScope","responseError","rejection","_context","_context2","status","config","url","call","console","error","headers","$emit","reject","$locationProvider","hashPrefix","$httpProvider","defaults","common","interceptors","push","run","$uibModal","$on","baseTags","document","getElementsByTagName","length","href","headerLogoutForm","submit","warn","open","templateUrl","controller","$scope","$uibModalInstance","reload","dismiss","location","size","backdrop","keyboard","_filter","_interopRequireDefault","_map","MODULE_NAME","elementList","mainTemplate","directive","restrict","transclude","input","$filter","property","$http","$location","$window","$log","DateFormatterService","minionFactory","debug","minionNodes","getLink","minion","id","$parent","orderBy","query","refresh","formatter","finally","_s","searchParam","limit","offset","order","value","items","join","get","params","then","response","node","data","isArray","foreignId","contentRange","parseContentRange","lastOffset","end","maxOffset","total","setOffset","start","absUrl","deleteItem","item","saveMe","confirm","$delete","cancelWatch","$watch","alert","update","label","properties","$update","element","ready","log","bootstrap","path","c","put","jQuery","ISO_8601_DATE_FORMAT","ISO_8601_DATE_FORMAT_WITHOUT_MILLIS","editInPlaceTemplate","editListInPlaceTemplate","editMapInPlaceTemplate","escapeSearchValue","replace","toFiql","clauses","first","fiql","operator","fromFiql","statements","split","segments","_context3","_context4","_context5","_context6","_indexOf","normalizeOffset","lastPageOffset","newOffset","Math","floor","_context7","_context8","fuzzy","_trim","html5Mode","enabled","rewriteLinks","editing","originalValue","copy","edit","unedit","onKeyup","$event","keyCode","cancel","onSubmit","scope","valueType","step","newValue","event","add","_values","confirmAndRemove","_splice","onEdit","_sort","values","newKey","key","keyType","searchClauses","initialLimit","search","Number","newLimit","MAX_VALUE","queryParams","addSearchClause","clause","isDate","Date","getSearchClause","clauseEquals","b","addEpochTimestampSearchClause","removeSearchClause","_context9","_context10","removeSearchClauses","_context11","_context12","index","replaceSearchClause","oldClause","newClause","scopeOldClause","scopeNewClause","clearSearch","changeOrderBy","o","setLimit","appendTransform","defaultTransform","transform","t","_concat","pattern","moment","OnmsDateFormatter","prototype","init","readyCallback","self","this","defaultFormat","_onmsZoneId","undefined","xhr","XMLHttpRequest","onreadystatechange","readyState","DONE","JSON","parse","responseText","datetimeformatConfig","datetimeformat","_onmsDateTimeFormat","zoneId","statusText","e","setRequestHeader","send","assertInitialized","Error","getZoneId","_zoneId","tz","guess","format","date","formatJavaDTF","jest","f","_onmsFormatter","$interval","deferred","defer","count","resolve","raw","promise","ifEmpty","ret","dateFormatterService","compile","text","formatted","replaceWith","catch","version","full","arrayify","$resource","BASE_REST_URL","method","transformResponse"],"mappings":"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","file":"minion-elementList.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn ","'use strict';\n\nconst angular = require('vendor/angular-js');\n\nconst permissionDeniedTemplate  = require('./403-permission-denied.html');\n\nangular.module('onms.http', ['ui.bootstrap'])\n    .factory('InterceptorService',['$q', '$rootScope', function($q, $rootScope) {\n        return {\n            responseError: function (rejection) {\n                if (rejection.status === 401) {\n                    if (rejection.config && rejection.config.url\n                        && (rejection.config.url.startsWith('rest/')\n                            || rejection.config.url.startsWith('api/v2/'))\n                    ) {\n                        console.error('Login Required', rejection, rejection.headers); // eslint-disable-line no-console\n                        $rootScope.$emit('loginRequired');\n                    }\n                }\n                if (rejection.status === 403) {\n                    $rootScope.$emit('permissionDenied');\n                }\n                return $q.reject(rejection);\n            }\n        }\n    }])\n    .config(['$locationProvider', function($locationProvider) {\n        $locationProvider.hashPrefix('');\n    }])\n    .config(['$httpProvider',\n        function ($httpProvider) {\n            $httpProvider.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n            $httpProvider.interceptors.push('InterceptorService');\n        }\n    ])\n    .run(['$rootScope', '$uibModal', function($rootScope, $uibModal) {\n        $rootScope.$on('loginRequired', function() {\n            var baseTags = document.getElementsByTagName('base');\n            if (baseTags && baseTags.length > 0 && baseTags[0].href) {\n                document.headerLogoutForm.submit();\n            } else {\n                console.warn('Login is required, but cannot forward to login page due to missing base tag.'); // eslint-disable-line no-console\n            }\n        });\n\n        $rootScope.$on('permissionDenied', function() {\n            $uibModal.open({\n                templateUrl: permissionDeniedTemplate,\n                controller: function($scope, $uibModalInstance) {\n                    $scope.reload = function () {\n                        $uibModalInstance.dismiss();\n                        window.location.reload();\n                    };\n                },\n                size: '',\n                backdrop: 'static',\n                keyboard  : false\n            });\n        });\n    }])\n;\n\nmodule.exports = angular;","'use strict';\n\nconst MODULE_NAME = 'onms.elementList.minion';\n\nconst angular = require('vendor/angular-js');\nconst elementList = require('../lib/elementList');\nrequire('../lib/restResources');\nrequire('../../onms-date-formatter');\n\nconst mainTemplate = require('./main.html');\n\n// $filters that can be used to create human-readable versions of filter values\nangular.module('minionListFilters', [ 'onmsListFilters', 'onmsDateFormatter' ])\n.directive('onmsMinionList', () => {\n\treturn {\n\t\trestrict: 'E',\n\t\ttransclude: true,\n\t\ttemplateUrl: mainTemplate\n\t};\n})\n.filter('property', function() {\n\treturn function(input) {\n\t\tswitch (input) {\n\t\tcase 'id':\n\t\t\treturn 'ID';\n\t\tcase 'label':\n\t\t\treturn 'Label';\n\t\tcase 'location':\n\t\t\treturn 'Location';\n\t\tcase 'type':\n\t\t\treturn 'Type';\n\t\tcase 'status':\n\t\t\treturn 'Status';\n\t\tcase 'lastUpdated':\n\t\t\treturn 'Last updated';\n\t\tcase 'version':\n        \treturn 'Version';\n\t\tdefault:\n\t\t\t// If no match, return the input\n\t\t\treturn input;\n\t\t}\n\t}\n})\n.filter('value', function($filter) {\n\treturn function(input, property) {\n\t\tswitch (property) {\n\t\tcase 'lastUpdated':\n\t\t\t// Return the date in our preferred format\n\t\t\treturn $filter('onmsDate')(input);\n\t\tdefault:\n\t\t\treturn input;\n\t\t}\n\t}\n});\n\n// Minion list module\nangular.module(MODULE_NAME, [ 'onms.restResources', 'onms.elementList', 'minionListFilters', 'onmsDateFormatter' ])\n\n.config(['$locationProvider', function($locationProvider) {\n\t$locationProvider.hashPrefix('');\n}])\n\n/**\n * Minion list controller\n */\n.controller('MinionListCtrl', ['$scope', '$http', '$location', '$window', '$log', '$filter', 'DateFormatterService', 'minionFactory', function($scope, $http, $location, $window, $log, $filter, DateFormatterService, minionFactory) {\n\t$log.debug('MinionListCtrl initializing...');\n\n\t$scope.minionNodes = {};\n\n\t$scope.getLink = function(minion) {\n\t\tif (minion && $scope.minionNodes[minion.id + '\\0' + minion.location]) {\n\t\t\treturn 'element/node.jsp?node=' + $scope.minionNodes[minion.id + '\\0' + minion.location].id;\n\t\t}\n\t\treturn undefined;\n\t};\n\n\t// Set the default sort and set it on $scope.$parent.query\n\t$scope.$parent.defaults.orderBy = 'label';\n\t$scope.$parent.query.orderBy = 'label';\n\n\t// Reload all resources via REST\n\t$scope.$parent.refresh = function() {\n\t\tDateFormatterService.formatter.finally(function() {\n\t\t// Fetch all of the items\n\t\tminionFactory.query(\n\t\t\t{\n\t\t\t\t_s: $scope.$parent.query.searchParam, // FIQL search\n\t\t\t\tlimit: $scope.$parent.query.limit,\n\t\t\t\toffset: $scope.$parent.query.offset,\n\t\t\t\torderBy: $scope.$parent.query.orderBy,\n\t\t\t\torder: $scope.$parent.query.order\n\t\t\t}, \n\t\t\tfunction(value, headers) {\n\t\t\t\t$scope.$parent.items = value;\n\n\t\t\t\tif (value && value.length > 0) {\n\t\t\t\t\tvar query = '(' + value.map(function(minion) {\n\t\t\t\t\t\treturn 'foreignId==' + minion.id;\n\t\t\t\t\t}).join(',') + ')';\n\n\t\t\t\t\t$http.get('api/v2/nodes', {\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t_s: query\n\t\t\t\t\t\t}\n\t\t\t\t\t}).then(function(response) {\n\t\t\t\t\t\tvar minionNodes = {}, node;\n\t\t\t\t\t\tif (response && response.data && response.data.node) {\n\t\t\t\t\t\t\tif (!angular.isArray(response.data.node)) {\n\t\t\t\t\t\t\t\tresponse.data.node = [response.data.node];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor (var i=0; i < response.data.node.length; i++) {\n\t\t\t\t\t\t\t\tnode = response.data.node[i];\n\t\t\t\t\t\t\t\tminionNodes[node.foreignId + '\\0' + node.location] = node;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$scope.minionNodes = minionNodes;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tvar contentRange = elementList.parseContentRange(headers('Content-Range'));\n\t\t\t\t$scope.$parent.query.lastOffset = contentRange.end;\n\t\t\t\t// Subtract 1 from the value since offsets are zero-based\n\t\t\t\t$scope.$parent.query.maxOffset = contentRange.total - 1;\n\t\t\t\t$scope.$parent.setOffset(contentRange.start);\n\t\t\t},\n\t\t\tfunction(response) {\n\t\t\t\tswitch(response.status) {\n\t\t\t\tcase 404:\n\t\t\t\t\t// If we didn't find any elements, then clear the list\n\t\t\t\t\t$scope.$parent.items = [];\n\t\t\t\t\t$scope.$parent.query.lastOffset = 0;\n\t\t\t\t\t$scope.$parent.query.maxOffset = -1;\n\t\t\t\t\t$scope.$parent.setOffset(0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 401:\n\t\t\t\tcase 403:\n\t\t\t\t\t// Handle session timeout by reloading page completely\n\t\t\t\t\t$window.location.href = $location.absUrl();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// TODO: Handle 500 Server Error by executing an undo callback?\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t);\n\t\t});\n\t};\n\n\t$scope.$parent.deleteItem = function(item) {\n\t\tvar saveMe = minionFactory.get({id: item.id}, function() {\n\t\t\tif ($window.confirm('Are you sure you want to remove minion \"' + item['id'] + '\"?')) {\n\t\t\t\tsaveMe.$delete({id: item['id']}, function() {\n\t\t\t\t\tvar cancelWatch = $scope.$watch('items', function() {\n\t\t\t\t\t\tfor (var i = 0; i < $scope.items.length; i++) {\n\t\t\t\t\t\t\t// If it still contains the deleted item, then call refresh()\n\t\t\t\t\t\t\tif ($scope.items[i]['id'] === item['id']) {\n\t\t\t\t\t\t\t\t$scope.refresh();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcancelWatch();\n\t\t\t\t\t});\n\t\t\t\t}, function (response) {\n\t\t\t\t\t$window.alert('Deletion of minion \"' +  item['id'] + '\" failed.');\n\t\t\t\t});\n\t\t\t}\n\t\t}, function(response) {\n\t\t\tif (response.status === 404) {\n\t\t\t\t$scope.refresh();\n\t\t\t}\n\t\t});\n\t};\n\n\t// Save an item by using $resource.$update\n\t$scope.$parent.update = function(item) {\n\t\tvar saveMe = minionFactory.get({id: item.id}, function() {\n\t\t\tsaveMe.label = item.label;\n\t\t\tsaveMe.location = item.location;\n\t\t\tsaveMe.properties = item.properties;\n\n\t\t\t// TODO\n\t\t\t//saveMe.status = item.status;\n\t\t\t// TODO\n\t\t\t//saveMe.properties = item.properties;\n\n\t\t\t// Read-only fields\n\t\t\t// saveMe.type = item.type;\n\t\t\t// saveMe.date = item.date;\n\n\t\t\tsaveMe.$update({}, function() {\n\t\t\t\t// If there's a search in effect, refresh the view\n\t\t\t\tif ($scope.$parent.query.searchParam !== '') {\n\t\t\t\t\t$scope.$parent.refresh();\n\t\t\t\t}\n\t\t\t});\n\t\t}, function(response) {\n\t\t\t$log.debug(response);\n\t\t});\n\n\t};\n\n\t// Refresh the item list;\n\t$scope.$parent.refresh();\n\n\t$log.debug('MinionListCtrl initialized');\n}])\n\n.run(['$rootScope', '$log', function($rootScope, $log) {\n\t$log.debug('Finished initializing ' + MODULE_NAME);\n}])\n\n;\n\nangular.element(document).ready(function() {\n\t// eslint-disable-next-line no-console\n\tconsole.log('Bootstrapping ' + MODULE_NAME);\n\tangular.bootstrap(document, [MODULE_NAME]);\n});\n","// Module\nvar code = \"<div ng-controller=\\\"ListCtrl\\\"> <div ng-controller=\\\"MinionListCtrl\\\"> <div id=\\\"filterModal\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\"> <div class=\\\"modal-dialog\\\"> <div class=\\\"modal-content\\\"> <div class=\\\"modal-body\\\"> <label>Add Filter:</label> <form class=\\\"form-inline\\\" onSubmit=\\\"$('#filterModal').modal('hide')\\\" ng-submit=\\\"addSearchClause(clause)\\\"> <div class=\\\"form-group\\\"> <select class=\\\"form-control custom-select\\\" ng-model=\\\"clause.property\\\" ng-init=\\\"clause.property = 'id'\\\"> <option value=\\\"id\\\">ID</option> <option value=\\\"label\\\">Label</option> <option value=\\\"location\\\">Location</option> <option value=\\\"status\\\">Status</option> <option value=\\\"version\\\">Version</option> <option value=\\\"lastUpdated\\\">Last Updated</option> </select> <select class=\\\"form-control custom-select\\\" ng-model=\\\"clause.operator\\\" ng-init=\\\"clause.operator = 'EQ'\\\"> <option value=\\\"EQ\\\">=</option> <option value=\\\"NE\\\">!=</option> <option value=\\\"LT\\\">&lt;</option> <option value=\\\"LE\\\">&lt;=</option> <option value=\\\"GT\\\">&gt;</option> <option value=\\\"GE\\\">&gt;=</option> </select> <input class=\\\"form-control\\\" type=\\\"text\\\" ng-model=\\\"clause.value\\\" ng-if=\\\"clause.property !== 'lastUpdated'\\\"> <input class=\\\"form-control\\\" type=\\\"datetime-local\\\" ng-model=\\\"clause.value\\\" ng-if=\\\"clause.property === 'lastUpdated'\\\"> </div> <button class=\\\"btn btn-secondary\\\" type=\\\"submit\\\">Submit</button> </form> </div> </div> </div> </div> <div id=\\\"helpModal\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\"> <div class=\\\"modal-dialog\\\"> <div class=\\\"modal-content\\\"> <div class=\\\"modal-body\\\"> <h3>Help</h3> <h4>Filtering</h4> <p> Click on the <i class=\\\"fa fa-search-plus\\\"></i> icon to filter the list. You can match a portion of a value by using the * character as a wildcard value. Click on the <i class=\\\"fa fa-ban\\\"> icon to clear all filters.</i> </p> <h4>Filter by Example</h4> <p> You can click on the <i class=\\\"fa fa-plus-square-o\\\"></i> icon next to a value to only show rows that contain that value. If you click on the <i class=\\\"fa fa-minus-square-o\\\"></i> icon, it will remove rows with that value from the results. For timestamp values, clicking on the <i class=\\\"fa fa-toggle-left\\\"></i> icon will show timestamps newer than the specified value and clicking on the <i class=\\\"fa fa-toggle-right\\\"></i> icon will show timestamps older than the value. </p> <h4>Sorting</h4> <p>Click on a column header to sort by that column. Click the same column again to reverse the sort order.</p> <h4>Items per Page</h4> <p>You can change the number of items per page by entering a numeric value in the <i class=\\\"fa fa-th-list\\\"></i> box.</p> </div> </div> </div> </div> <div class=\\\"well well-sm\\\"> <span class=\\\"h5\\\" style=\\\"line-height:2.8\\\"> Filters&nbsp;&nbsp; <a href onClick=\\\"$('#filterModal').modal()\\\"><i class=\\\"fa fa-search-plus fa-lg\\\"></i></a> &nbsp; <a href onClick=\\\"$('#helpModal').modal()\\\"><i class=\\\"fa fa-question-circle fa-lg\\\"></i></a> &nbsp; <a href ng-click=\\\"clearSearch()\\\"><i class=\\\"fa fa-ban fa-lg\\\"></i></a> &nbsp; </span> <span ng-hide=\\\"query.searchClauses.length == 0\\\"> <span ng-repeat=\\\"clause in query.searchClauses\\\"> <div class=\\\"btn-group\\\" style=\\\"margin:3px\\\"> <button class=\\\"btn btn-primary\\\" ng-click=\\\"removeSearchClause(clause)\\\"> {{clause.property | property}} {{clause.operator | operator : clause.value}} {{clause.value | value : clause.property}} &nbsp; <i class=\\\"fa fa-close\\\"></i> </button> </div> </span> </span> </div> <div> <div class=\\\"\\\"> <button type=\\\"button\\\" role=\\\"button\\\" class=\\\"btn btn-secondary {{(query.offset-query.limit) &lt; 0 ? 'disabled' : ''}}\\\" ng-click=\\\"setOffset(0)\\\"> <i class=\\\"fa fa-backward\\\"></i>&nbsp;&nbsp;First </button> <button type=\\\"button\\\" role=\\\"button\\\" class=\\\"btn btn-secondary ml-2 {{(query.offset-query.limit) &lt; 0 ? 'disabled' : ''}}\\\" ng-click=\\\"setOffset(query.offset-query.limit)\\\"> <i class=\\\"fa fa-play fa-flip-horizontal\\\"></i>&nbsp;&nbsp;Previous </button> <div class=\\\"btn-group\\\"> <a class=\\\"btn btn-secondary\\\" ng-click=\\\"setOffset(query.offset-(3*query.limit))\\\" ng-hide=\\\"(query.offset-(3*query.limit)) &lt; 0\\\" style=\\\"width:5em\\\"> {{(query.offset/query.limit) - 2}} </a> <a class=\\\"btn btn-secondary\\\" ng-click=\\\"setOffset(query.offset-(2*query.limit))\\\" ng-hide=\\\"(query.offset-(2*query.limit)) &lt; 0\\\" style=\\\"width:5em\\\"> {{(query.offset/query.limit) - 1}} </a> <a class=\\\"btn btn-secondary\\\" ng-click=\\\"setOffset(query.offset-query.limit)\\\" ng-hide=\\\"(query.offset-query.limit) &lt; 0\\\" style=\\\"width:5em\\\"> {{query.offset/query.limit}} </a> <a class=\\\"btn btn-secondary active\\\" ng-show=\\\"query.maxOffset &gt; 0\\\" style=\\\"width:5em\\\"> {{(query.offset/query.limit) + 1}} </a> <a class=\\\"btn btn-secondary\\\" ng-click=\\\"setOffset(query.offset+query.limit)\\\" ng-hide=\\\"(query.offset+query.limit) &gt; query.maxOffset\\\" style=\\\"width:5em\\\"> {{(query.offset/query.limit) + 2}} </a> <a class=\\\"btn btn-secondary\\\" ng-click=\\\"setOffset(query.offset+(2*query.limit))\\\" ng-hide=\\\"query.offset+(2*query.limit) &gt; query.maxOffset\\\" style=\\\"width:5em\\\"> {{(query.offset/query.limit) + 3}} </a> <a class=\\\"btn btn-secondary\\\" ng-click=\\\"setOffset(query.offset+(3*query.limit))\\\" ng-hide=\\\"query.offset+(3*query.limit) &gt; query.maxOffset\\\" style=\\\"width:5em\\\"> {{(query.offset/query.limit) + 4}} </a> </div> <div class=\\\"pull-right\\\"> <form class=\\\"form-inline\\\" ng-submit=\\\"setLimit(query.newLimit)\\\"> <div class=\\\"input-group\\\" style=\\\"margin-left:10px\\\"> <div class=\\\"input-group-prepend\\\"> <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-th-list\\\"></i></span> </div> <input class=\\\"form-control\\\" type=\\\"number\\\" ng-model=\\\"query.newLimit\\\"> </div> <button type=\\\"button\\\" role=\\\"button\\\" class=\\\"btn btn-secondary mx-2 {{(query.offset+query.limit) &gt; query.maxOffset ? 'disabled' : ''}}\\\" ng-click=\\\"setOffset(query.offset + query.limit)\\\"> Next&nbsp;&nbsp;<i class=\\\"fa fa-play\\\"></i> </button> <button type=\\\"button\\\" role=\\\"button\\\" class=\\\"btn btn-secondary {{(query.offset+query.limit) &gt; query.maxOffset ? 'disabled' : ''}}\\\" ng-click=\\\"setOffset(1000000000)\\\"> Last&nbsp;&nbsp;<i class=\\\"fa fa-forward\\\"></i> </button> </form> </div> <h5 class=\\\"pull-right col-form-label\\\" ng-show=\\\"query.maxOffset &lt; 0\\\">No items found.</h5> <h5 class=\\\"pull-right col-form-label\\\" ng-show=\\\"query.maxOffset &gt;= 0\\\">{{query.offset === query.lastOffset ? \\\"Item \\\" + (query.offset + 1) : \\\"Items \\\" + (query.offset + 1) + \\\" - \\\" + (query.lastOffset + 1)}} ({{query.maxOffset + 1}} total)</h5> </div> </div> <br> <div class=\\\"card\\\"> <table class=\\\"table table-bordered table-striped\\\" style=\\\"font-size:100%\\\"> <tbody> <tr> <th> <a href ng-click=\\\"changeOrderBy('id')\\\">ID</a> <i ng-show=\\\"query.orderBy === 'id' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i> <i ng-show=\\\"query.orderBy === 'id' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i> </th> <th> <a href ng-click=\\\"changeOrderBy('label')\\\">Label</a> <i ng-show=\\\"query.orderBy === 'label' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i> <i ng-show=\\\"query.orderBy === 'label' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i> </th> <th> <a href ng-click=\\\"changeOrderBy('location')\\\">Location</a> <i ng-show=\\\"query.orderBy === 'location' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i> <i ng-show=\\\"query.orderBy === 'location' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i> </th> <th> <a href ng-click=\\\"changeOrderBy('type')\\\">Type</a> <i ng-show=\\\"query.orderBy === 'type' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i> <i ng-show=\\\"query.orderBy === 'type' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i> </th> <th> <a href ng-click=\\\"changeOrderBy('status')\\\">Status</a> <i ng-show=\\\"query.orderBy === 'status' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i> <i ng-show=\\\"query.orderBy === 'status' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i> </th> <th> <a href ng-click=\\\"changeOrderBy('version')\\\">Version</a> <i ng-show=\\\"query.orderBy === 'version' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i> <i ng-show=\\\"query.orderBy === 'version' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i> </th> <th> <a href ng-click=\\\"changeOrderBy('date')\\\">Last Updated</a> <i ng-show=\\\"query.orderBy === 'date' &amp;&amp; query.order === 'asc'\\\" class=\\\"fa fa-sort-asc\\\"></i> <i ng-show=\\\"query.orderBy === 'date' &amp;&amp; query.order === 'desc'\\\" class=\\\"fa fa-sort-desc\\\"></i> </th> <th> Properties </th> <th> Actions </th> </tr> <tr ng-repeat=\\\"item in items\\\"> <td class=\\\"text-nowrap\\\" style=\\\"line-height:24px\\\"> <span ng-if=\\\"getLink(item)\\\"> <a href=\\\"{{getLink(item)}}\\\">{{item.id}}</a> </span> <span ng-if=\\\"!getLink(item)\\\"> {{item.id}} </span> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"addSearchClause({property:'id',operator:'EQ',value:item.id})\\\"><i class=\\\"fa fa-plus-square-o fa-lg\\\"></i></a> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"addSearchClause({property:'id',operator:'NE',value:item.id})\\\"><i class=\\\"fa fa-minus-square-o fa-lg\\\"></i></a> </td> <td class=\\\"text-nowrap\\\"> <onms-list-edit-in-place item=\\\"item\\\" value=\\\"item.label\\\" value-type=\\\"'text'\\\" on-submit=\\\"update(item)\\\"> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"addSearchClause({property:'label',operator:'EQ',value:item.label})\\\"><i class=\\\"fa fa-plus-square-o fa-lg\\\"></i></a> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"addSearchClause({property:'label',operator:'NE',value:item.label})\\\"><i class=\\\"fa fa-minus-square-o fa-lg\\\"></i></a> </onms-list-edit-in-place> </td> <td class=\\\"text-nowrap\\\"> {{item.location}} <a href style=\\\"text-decoration:none\\\" ng-click=\\\"addSearchClause({property:'location',operator:'EQ',value:item.location})\\\"><i class=\\\"fa fa-plus-square-o fa-lg\\\"></i></a> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"addSearchClause({property:'location',operator:'NE',value:item.location})\\\"><i class=\\\"fa fa-minus-square-o fa-lg\\\"></i></a> </td> <td class=\\\"text-nowrap\\\" style=\\\"line-height:24px\\\"> {{item.type}} <a href style=\\\"text-decoration:none\\\" ng-click=\\\"addSearchClause({property:'type',operator:'EQ',value:item.type})\\\"><i class=\\\"fa fa-plus-square-o fa-lg\\\"></i></a> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"addSearchClause({property:'type',operator:'NE',value:item.type})\\\"><i class=\\\"fa fa-minus-square-o fa-lg\\\"></i></a> </td> <td class=\\\"text-nowrap\\\" style=\\\"line-height:24px\\\"> <span ng-show=\\\"item.status !== null\\\"> {{item.status}} <a href style=\\\"text-decoration:none\\\" ng-click=\\\"addSearchClause({property:'status',operator:'EQ',value:item.status})\\\"><i class=\\\"fa fa-plus-square-o fa-lg\\\"></i></a> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"addSearchClause({property:'status',operator:'NE',value:item.status})\\\"><i class=\\\"fa fa-minus-square-o fa-lg\\\"></i></a> </span> </td> <td class=\\\"text-nowrap\\\" style=\\\"line-height:24px\\\"> <span ng-show=\\\"item.version !== null\\\"> {{item.version}} <a href style=\\\"text-decoration:none\\\" ng-click=\\\"addSearchClause({property:'version',operator:'EQ',value:item.version})\\\"><i class=\\\"fa fa-plus-square-o fa-lg\\\"></i></a> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"addSearchClause({property:'version',operator:'NE',value:item.version})\\\"><i class=\\\"fa fa-minus-square-o fa-lg\\\"></i></a> </span> </td> <td class=\\\"text-nowrap\\\" style=\\\"line-height:24px\\\"> <span ng-show=\\\"item.date !== null\\\"> {{item.date | onmsDate}} <a href style=\\\"text-decoration:none\\\" ng-click=\\\"addEpochTimestampSearchClause({property:'lastUpdated',operator:'GE',value:item.date})\\\"><i class=\\\"fa fa-toggle-left fa-lg\\\"></i></a> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"addEpochTimestampSearchClause({property:'lastUpdated',operator:'LE',value:item.date})\\\"><i class=\\\"fa fa-toggle-right fa-lg\\\"></i></a> </span> </td> <td> <onms-list-edit-map-in-place values=\\\"item.properties\\\" value-type=\\\"'text'\\\" on-edit=\\\"update(item)\\\"></onms-list-edit-map-in-place> </td> <td> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"deleteItem(item)\\\"><i class=\\\"fa fa-trash fa-lg\\\"></i></a> </td> </tr> </tbody> </table> </div> </div> </div> \";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/minion-elementList/main.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","console.log('init: bootstrap-js'); // eslint-disable-line no-console\n\nconst jQuery = require('vendor/jquery-js');\nrequire('vendor/moment-js');\nrequire('bootstrap/dist/js/bootstrap');\n\nmodule.exports = jQuery;\n","const MODULE_NAME = 'onms.elementList';\n\n/**\n * ISO-8601 date format string.\n */\nwindow.ISO_8601_DATE_FORMAT = 'yyyy-MM-ddTHH:mm:ss.sssZ';\nwindow.ISO_8601_DATE_FORMAT_WITHOUT_MILLIS = 'yyyy-MM-ddTHH:mm:ssZ';\n\nconst angular = require('vendor/angular-js');\nconst jQuery = require('vendor/jquery-js');\nrequire('vendor/bootstrap-js');\n\nconst editInPlaceTemplate = require('../templates/angular-onms-elementList-editInPlace.html');\nconst editListInPlaceTemplate = require('../templates/angular-onms-elementList-editListInPlace.html');\nconst editMapInPlaceTemplate = require('../templates/angular-onms-elementList-editMapInPlace.html');\n\n/**\n * Function used to append an extra transformer to the default $http transforms.\n */\nconst appendTransform = (defaultTransform, transform) => {\n\tconst t = angular.isArray(defaultTransform) ? defaultTransform : [ defaultTransform ];\n\treturn t.concat(transform);\n};\n\n/**\n * Escape FIQL reserved characters by URL-encoding them. Reserved characters are:\n * <ul>\n * <li>!</li>\n * <li>$</li>\n * <li>'</li>\n * <li>(</li>\n * <li>)</li>\n * <li>*</li>\n * <li>+</li>\n * <li>,</li>\n * <li>;</li>\n * <li>=</li>\n * </ul>\n * @param value\n * @returns String with reserved characters URL-encoded\n */\nconst escapeSearchValue = (value) => {\n\tif (typeof value === 'string') {\n\t\t\treturn value\n\t\t\t\t\t.replace('!', '%21')\n\t\t\t\t\t.replace('$', '%24')\n\t\t\t\t\t.replace('\\'', '%27')\n\t\t\t\t\t.replace('(', '%28')\n\t\t\t\t\t.replace(')', '%29')\n\t\t\t\t\t// People are going to type this in as a wildcard, so I\n\t\t\t\t\t// guess they'll have to type in '%2A' if they want to\n\t\t\t\t\t// match an asterisk...\n\t\t\t\t\t//.replace('*', '%2A')\n\t\t\t\t\t.replace('+', '%2B')\n\t\t\t\t\t.replace(',', '%2C')\n\t\t\t\t\t.replace(';', '%3B')\n\t\t\t\t\t.replace('=', '%3D');\n\t}\n\treturn value;\n};\n\n/**\n * Convert from a clause into a FIQL query string.\n */\nconst toFiql = (clauses) => {\n\tlet first = true;\n\tlet fiql = '';\n\tfor (let i = 0; i < clauses.length; i++) {\n\t\tif (!first) {\n\t\t\tfiql += ';';\n\t\t}\n\t\tfiql += clauses[i].property;\n\n\t\tswitch (clauses[i].operator) {\n\t\tcase 'EQ':\n\t\t\tfiql += '=='; break;\n\t\tcase 'NE':\n\t\t\tfiql += '!='; break;\n\t\tcase 'LT':\n\t\t\tfiql += '=lt='; break;\n\t\tcase 'LE':\n\t\t\tfiql += '=le='; break;\n\t\tcase 'GT':\n\t\t\tfiql += '=gt='; break;\n\t\tcase 'GE':\n\t\t\tfiql += '=ge='; break;\n\t\tdefault:\n\t\t\t// otherwise, do nothing\n\t\t\tbreak;\n\t\t}\n\n\t\tfiql += escapeSearchValue(clauses[i].value);\n\n\t\tfirst = false;\n\t}\n\treturn fiql;\n};\n\n/**\n * Convert from a FIQL query string into separate clause objects.\n * This only works for simple queries composed of multiple AND (';')\n * clauses.\n * \n * TODO: Expand this to cover more FIQL syntax\n */\nconst fromFiql = (fiql) => {\n\tlet statements = fiql.split(';');\n\tlet segments = [];\n\tlet clauses = [];\n\tfor (let i = 0; i < statements.length; i++) {\n\t\tif (statements[i].indexOf('==') > 0) {\n\t\t\tsegments = statements[i].split('==');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'EQ',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t} else if (statements[i].indexOf('!=') > 0) {\n\t\t\tsegments = statements[i].split('!=');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'NE',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t} else if (statements[i].indexOf('=lt=') > 0) {\n\t\t\tsegments = statements[i].split('=lt=');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'LT',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t} else if (statements[i].indexOf('=le=') > 0) {\n\t\t\tsegments = statements[i].split('=le=');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'LE',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t} else if (statements[i].indexOf('=gt=') > 0) {\n\t\t\tsegments = statements[i].split('=gt=');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'GT',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t} else if (statements[i].indexOf('=ge=') > 0) {\n\t\t\tsegments = statements[i].split('=ge=');\n\t\t\tclauses.push({\n\t\t\t\tproperty: segments[0],\n\t\t\t\toperator: 'GE',\n\t\t\t\tvalue: segments[1]\n\t\t\t});\n\t\t}\n\t}\n\treturn clauses;\n};\n\n\n/**\n * Parse an HTTP Content-Range header into the start, end, and total fields.\n * The header should be in a format like: \"items 0-14/28\".\n * \n * @param contentRange String from the Content-Range header\n */\nconst parseContentRange = (contentRange) => {\n\tif (!contentRange) {\n\t\treturn {start: 0, end: 0, total: 0};\n\t}\n\t// Example: items 0-14/28\n\tconst pattern = /items\\s+?(\\d+)\\s*-\\s*(\\d+)\\s*\\/\\s*(\\d+)/;\n\treturn {\n\t\tstart: Number(contentRange.replace(pattern, '$1')),\n\t\tend: Number(contentRange.replace(pattern, '$2')),\n\t\ttotal: Number(contentRange.replace(pattern, '$3'))\n\t};\n};\n\nconst normalizeOffset = (offset, maxOffset, limit) => {\n\tlet newOffset = offset;\n\n\t// Offset of the last page\n\tlet lastPageOffset;\n\tif (maxOffset < 0) {\n\t\tnewOffset = 0;\n\t\tlastPageOffset = 0;\n\t} else {\n\t\tlastPageOffset = Math.floor(maxOffset / limit) * limit; \n\t}\n\n\t// Bounds checking\n\tnewOffset = ((newOffset < 0) ? 0 : newOffset);\n\tnewOffset = ((newOffset > lastPageOffset) ? lastPageOffset : newOffset);\n\n\t// Make sure that offset is a multiple of limit\n\tnewOffset = Math.floor(newOffset / limit) * limit;\n\n\treturn newOffset;\n};\n\n/* // BMR: this doesn't seem to actually be used anywhere\nString.prototype.endsWith = function(suffix) {\n\treturn this.indexOf(suffix, this.length - suffix.length) !== -1;\n};\n*/\n\n// $filters that can be used to create human-readable versions of filter values\nangular.module('onmsListFilters', [])\n.filter('operator', function() {\n\treturn function(input, value) {\n\t\t// See if the string contains a wildcard\n\t\tvar fuzzy = (typeof value === 'string' && value.indexOf('*') > -1);\n\n\t\tswitch (input) {\n\t\tcase 'EQ':\n\t\t\treturn fuzzy ? 'is like' : 'equals';\n\t\tcase 'NE':\n\t\t\treturn fuzzy ? 'is not like' : 'does not equal';\n\t\tcase 'LT':\n\t\t\treturn 'is less than';\n\t\tcase 'LE':\n\t\t\treturn 'is less than or equal';\n\t\tcase 'GT':\n\t\t\treturn 'is greater than';\n\t\tcase 'GE':\n\t\t\treturn 'is greater than or equal';\n\t\tdefault:\n\t\t\t// If no match, return the input\n\t\t\treturn input;\n\t\t}\n\t}\n})\n.filter('isNotEmpty', function() {\n\treturn function(input) {\n\t\treturn input &&\n\t\t\t(typeof input === 'string' ? input.trim() !== '' : true);\n\t}\n})\n;\n\n// List module\nangular.module(MODULE_NAME, [])\n\n.config(/* @ngInject */ function($locationProvider) {\n\t$locationProvider.hashPrefix('');\n\t$locationProvider.html5Mode({\n\t\t// Use HTML5 \n\t\tenabled: true,\n\t\t// Don't rewrite all <a> links on the page\n\t\trewriteLinks: false\n\t});\n})\n\n.directive('onmsListEditInPlace', /* @ngInject */ function() {\n\treturn {\n\t\tcontroller: function($scope) {\n\t\t\t$scope.editing = false;\n\t\t\t$scope.originalValue = angular.copy($scope.value);\n\n\t\t\t// Start editing the value\n\t\t\t$scope.edit = function() {\n\t\t\t\t$scope.editing = true;\n\t\t\t}\n\n\t\t\t// Stop editing the value\n\t\t\t$scope.unedit = function() {\n\t\t\t\t$scope.editing = false;\n\t\t\t}\n\n\t\t\t$scope.onKeyup = function($event) {\n\t\t\t\t// If the user types ESC, then abort the edit\n\t\t\t\tif($event.keyCode === 27) {\n\t\t\t\t\t$scope.cancel();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.submit = function() {\n\t\t\t\t$scope.onSubmit();\n\t\t\t\t// TODO: Handle update failures\n\t\t\t\t// Now that we've save a new value, use it as the original value\n\t\t\t\t$scope.originalValue = $scope.value;\n\t\t\t\t// Switch out of edit mode\n\t\t\t\t$scope.unedit();\n\t\t\t}\n\n\t\t\t$scope.cancel = function() {\n\t\t\t\t// Restore the original value\n\t\t\t\t$scope.value = $scope.originalValue;\n\t\t\t\t// Switch out of edit mode\n\t\t\t\t$scope.unedit();\n\t\t\t}\n\t\t},\n\t\t// Use an isolated scope\n\t\tscope: {\n\t\t\titem: '=',\n\t\t\tvalue: '=',\n\t\t\tvalueType: '=',\n\t\t\t// Optional step attribute for number fields\n\t\t\tstep: '=',\n\t\t\tonSubmit: '&onSubmit'\n\t\t},\n\t\ttemplateUrl: editInPlaceTemplate,\n\t\ttransclude: true\n\t};\n})\n\n.directive('onmsListEditListInPlace', /* @ngInject */ function($window) {\n\treturn {\n\t\tcontroller: function($scope) {\n\t\t\t$scope.editing = false;\n\n\t\t\t// Start editing the value\n\t\t\t$scope.edit = function() {\n\t\t\t\t$scope.editing = true;\n\t\t\t}\n\n\t\t\t// Stop editing the value\n\t\t\t$scope.unedit = function() {\n\t\t\t\t// Undo any edits\n\t\t\t\t$scope.newValue = null;\n\t\t\t\t$scope.editing = false;\n\t\t\t}\n\n\t\t\t$scope.onKeyup = function(event) {\n\t\t\t\tswitch(event.keyCode) {\n\t\t\t\t// If the user types Enter, then submit the edit\n\t\t\t\tcase 13: $scope.add($scope.values, $scope.newValue); break;\n\t\t\t\t// If the user types ESC, then abort the edit\n\t\t\t\tcase 27: $scope.unedit(); break;\n\t\t\t\t// otherwise, do nothing\n\t\t\t\tdefault: break;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.confirmAndRemove = function(items, item) {\n\t\t\t\t// Splice the value out of the array\n\t\t\t\tif ($window.confirm('Are you sure you want to remove \"' + item + '\"?')) {\n\t\t\t\t\titems.splice(items.indexOf(item), 1);\n\t\t\t\t\t$scope.onEdit();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.add = function(items, item) {\n\t\t\t\titems.push(item);\n\t\t\t\titems.sort();\n\t\t\t\t// TODO: Handle update failures\n\t\t\t\t$scope.onEdit();\n\t\t\t\t// Switch out of edit mode\n\t\t\t\t$scope.unedit();\n\t\t\t}\n\t\t},\n\t\t// Use an isolated scope\n\t\tscope: {\n\t\t\tvalues: '=',\n\t\t\tvalueType: '=',\n\t\t\t// Optional step attribute for number fields\n\t\t\tstep: '=',\n\t\t\tonEdit: '&onEdit'\n\t\t},\n\t\ttemplateUrl: editListInPlaceTemplate,\n\t\ttransclude: true\n\t};\n})\n\n.directive('onmsListEditMapInPlace', /* @ngInject */ function($window) {\n\treturn {\n\t\tcontroller: function($scope) {\n\t\t\t$scope.editing = false;\n\n\t\t\t// Start editing the value\n\t\t\t$scope.edit = function() {\n\t\t\t\t$scope.editing = true;\n\t\t\t}\n\n\t\t\t// Stop editing the value\n\t\t\t$scope.unedit = function() {\n\t\t\t\t// Undo any edits\n\t\t\t\t$scope.newKey = null;\n\t\t\t\t$scope.newValue = null;\n\t\t\t\t$scope.editing = false;\n\t\t\t}\n\n\t\t\t$scope.onKeyup = function(event) {\n\t\t\t\tswitch(event.keyCode) {\n\t\t\t\t// If the user types Enter, then submit the edit\n\t\t\t\tcase 13: $scope.add($scope.values, $scope.newKey, $scope.newValue); break;\n\t\t\t\t// If the user types ESC, then abort the edit\n\t\t\t\tcase 27: $scope.unedit(); break;\n\t\t\t\t// otherwise, do nothing\n\t\t\t\tdefault: break;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.confirmAndRemove = function(items, key) {\n\t\t\t\t// Splice the value out of the array\n\t\t\t\tif ($window.confirm('Are you sure you want to remove \"' + key + '\"?')) {\n\t\t\t\t\tdelete items[key];\n\t\t\t\t\t$scope.onEdit();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$scope.add = function(items, key, value) {\n\t\t\t\titems[key] = value;\n\t\t\t\t// TODO: Handle update failures\n\t\t\t\t$scope.onEdit();\n\t\t\t\t// Switch out of edit mode\n\t\t\t\t$scope.unedit();\n\t\t\t}\n\t\t},\n\t\t// Use an isolated scope\n\t\tscope: {\n\t\t\tvalues: '=',\n\t\t\tkeyType: '=',\n\t\t\tvalueType: '=',\n\t\t\t// Optional step attribute for number fields\n\t\t\tstep: '=',\n\t\t\tonEdit: '&onEdit'\n\t\t},\n\t\ttemplateUrl: editMapInPlaceTemplate,\n\t\ttransclude: true\n\t};\n})\n\n/**\n * Generic list controller\n */\n.controller('ListCtrl', ['$scope', '$location', '$window', '$log', '$filter', function($scope, $location, $window, $log, $filter) {\n\t$log.debug('ListCtrl initializing...');\n\n\t$scope.defaults = {\n\t\t_s: '',\n\t\tsearchClauses: [],\n\t\tlimit: 20,\n\t\toffset: 0,\n\t\torderBy: '',\n\t\torder: 'asc'\n\t}\n\n\tvar initialLimit = typeof $location.search().limit === 'undefined' ? $scope.defaults.limit : (Number($location.search().limit) > 0 ? Number($location.search().limit) : $scope.defaults.limit);\n\n\t// Restore any query parameters that you can from the \n\t// query string, blank out the rest\n\t$scope.query = {\n\t\tlastOffset: 0,\n\t\tmaxOffset: 0,\n\n\t\tsearchParam: typeof $location.search()._s === 'undefined' ? $scope.defaults._s : $location.search()._s,\n\t\tsearchClauses: typeof $location.search()._s === 'undefined' ? $scope.defaults.searchClauses : fromFiql($location.search()._s),\n\t\tlimit: initialLimit,\n\t\tnewLimit: initialLimit,\n\t\toffset: typeof $location.search().offset === 'undefined' ? $scope.defaults.offset : (Number($location.search().offset) > 0 ? normalizeOffset(Number($location.search().offset), Number.MAX_VALUE, initialLimit) : $scope.defaults.offset),\n\n\t\t// TODO: Validate that the orderBy is in a list of supported properties\n\t\torderBy: typeof $location.search().orderBy === 'undefined' ? $scope.defaults.orderBy : $location.search().orderBy,\n\t\torder: typeof $location.search().order === 'undefined' ? $scope.defaults.order : ($location.search().order === 'asc' ? 'asc' : 'desc')\n\t};\n\n\t// Sync the query hash with the $location query string\n\t$scope.$watch('query', function() {\n\t\tvar queryParams = angular.copy($scope.query);\n\n\t\t// Delete derived values that we don't need in the query string\n\t\tdelete queryParams.searchClauses;\n\t\tdelete queryParams.newLimit;\n\t\tdelete queryParams.lastOffset;\n\t\tdelete queryParams.maxOffset;\n\n\t\t// Rename searchParam to _s\n\t\tqueryParams._s = (queryParams.searchParam === '' ? null : queryParams.searchParam);\n\t\tdelete queryParams.searchParam;\n\n\t\t// Delete any parameters that have default or blank values\n\t\tif (queryParams.limit === $scope.defaults.limit || queryParams.limit === '') { delete queryParams.limit; }\n\t\tif (queryParams.offset === $scope.defaults.offset || queryParams.offset === '') { delete queryParams.offset; }\n\t\tif (queryParams.orderBy === $scope.defaults.orderBy || queryParams.orderBy === '') { delete queryParams.orderBy; }\n\t\tif (queryParams.order === $scope.defaults.order || queryParams.order === '') { delete queryParams.order; }\n\t\tif (queryParams._s === $scope.defaults._s || queryParams._s === '') { delete queryParams._s; }\n\n\t\t$location.search(queryParams);\n\t}, \n\ttrue // Use object equality because the reference doesn't change\n\t);\n\n\t// Add the search clause to the list of clauses\n\t$scope.addSearchClause = function(clause) {\n\t\tif(angular.isDate(clause.value)) {\n\t\t\t// Returns a value in yyyy-MM-ddTHH:mm:ss.sssZ format\n\t\t\t// Unfortunately, I don't think CXF will like this because\n\t\t\t// it includes the millisecond portion of the date.\n\t\t\t//clause.value = new Date(clause.value).toISOString();\n\n\t\t\tclause.value = $filter('date')(new Date(clause.value), ISO_8601_DATE_FORMAT);\n\t\t}\n\n\t\t// Make sure the clause isn't already in the list of search clauses\n\t\tif ($scope.getSearchClause(clause)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// TODO: Add validation?\n\t\t$scope.query.searchClauses.push(angular.copy(clause));\n\t\t$scope.query.searchParam = toFiql($scope.query.searchClauses);\n\t\t$scope.refresh();\n\t}\n\n\t$scope.getSearchClause = function(clause) {\n\t\tfor (var i = 0; i < $scope.query.searchClauses.length; i++) {\n\t\t\tif ($scope.clauseEquals(clause, $scope.query.searchClauses[i])) {\n\t\t\t\treturn $scope.query.searchClauses[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t$scope.clauseEquals = function(a, b) {\n\t\treturn a.property === b.property &&\n\t\t\ta.operator === b.operator &&\n\t\t\ta.value === b.value;\n\t}\n\n\t// Convert an epoch timestamp into String format before adding the search clause\n\t$scope.addEpochTimestampSearchClause = function(clause) {\n\t\tclause.value = $filter('date')(clause.value, ISO_8601_DATE_FORMAT);\n\t\t$scope.addSearchClause(clause);\n\t}\n\n\t// Remove a search clause from the list of clauses\n\t$scope.removeSearchClause = function(clause) {\n\t\t// TODO: Add validation?\n\t\t$scope.query.searchClauses.splice($scope.query.searchClauses.indexOf(clause), 1);\n\t\t$scope.query.searchParam = toFiql($scope.query.searchClauses);\n\t\t$scope.refresh();\n\t}\n\n\t$scope.removeSearchClauses = function(clauses) {\n\t\tfor (var i = 0; i < clauses.length; i++) {\n\t\t\tvar index = $scope.query.searchClauses.indexOf(clauses[i]);\n\t\t\tif (index >= 0) {\n\t\t\t\t$scope.query.searchClauses.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\t$scope.query.searchParam = toFiql($scope.query.searchClauses);\n\t\t$scope.refresh();\n\t}\n\n\t// Replace a search clause with a new clause\n\t$scope.replaceSearchClause = function(oldClause, newClause) {\n\t\tif(angular.isDate(newClause.value)) {\n\t\t\t// Returns a value in yyyy-MM-ddTHH:mm:ss.sssZ format\n\t\t\t// Unfortunately, I don't think CXF will like this because\n\t\t\t// it includes the millisecond portion of the date.\n\t\t\t//clause.value = new Date(clause.value).toISOString();\n\n\t\t\tnewClause.value = $filter('date')(new Date(newClause.value), ISO_8601_DATE_FORMAT);\n\t\t}\n\n\t\t// TODO: Add validation?\n\t\tvar scopeOldClause = $scope.getSearchClause(oldClause);\n\t\tvar scopeNewClause = $scope.getSearchClause(newClause);\n\t\tif (!scopeOldClause) {\n\t\t\tif (!scopeNewClause) {\n\t\t\t\t// If the old clause is not present, simply add the new clause\n\t\t\t\t$scope.addSearchClause(newClause);\n\t\t\t} else {\n\t\t\t\t// If the old clause is not present and the new clause is already\n\t\t\t\t// present, then do nothing\n\t\t\t}\n\t\t} else {\n\t\t\tif (!scopeNewClause) {\n\t\t\t\t// If the old clause is present and the new clause is not, replace\n\t\t\t\t// the values inside the old clause and then refresh\n\t\t\t\tscopeOldClause.property = newClause.property;\n\t\t\t\tscopeOldClause.operator = newClause.operator;\n\t\t\t\tscopeOldClause.value = newClause.value;\n\n\t\t\t\t$scope.query.searchParam = toFiql($scope.query.searchClauses);\n\t\t\t\t$scope.refresh();\n\t\t\t} else {\n\t\t\t\t// If the old clause is present and the new clause is present,\n\t\t\t\t// then just remove the old clause (as if it had been replaced by\n\t\t\t\t// the already-existing new clause)\n\t\t\t\t$scope.removeSearchClause(oldClause);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Clear the current search\n\t$scope.clearSearch = function() {\n\t\tif ($scope.query.searchClauses.length > 0) {\n\t\t\t$scope.query.searchClauses = [];\n\t\t\t$scope.query.searchParam = '';\n\t\t\t$scope.refresh();\n\t\t}\n\t}\n\n\t// Change the sorting of the table\n\t$scope.changeOrderBy = function(property) {\n\t\tif ($scope.query.orderBy === property) {\n\t\t\t// TODO: Figure out if we should reset limit/offset here also\n\t\t\t// If the property is already selected then reverse the sorting\n\t\t\t$scope.query.order = ($scope.query.order === 'asc' ? 'desc' : 'asc');\n\t\t} else {\n\t\t\t// TODO: Figure out if we should reset limit/offset here also\n\t\t\t$scope.query.orderBy = property;\n\t\t\t$scope.query.order = $scope.defaults.order;\n\t\t}\n\t\t$scope.refresh();\n\t}\n\n\t$scope.setOffset = function(offset) {\n\t\tconst o = normalizeOffset(offset, $scope.query.maxOffset, $scope.query.limit);\n\n\t\tif ($scope.query.offset !== o) {\n\t\t\t$scope.query.offset = o;\n\t\t\t$scope.refresh();\n\t\t}\n\t}\n\n\t$scope.setLimit = function(limit) {\n\t\tif (limit < 1) {\n\t\t\t$scope.query.newLimit = $scope.query.limit;\n\t\t\t// TODO: Throw a validation error\n\t\t\treturn;\n\t\t}\n\t\tif ($scope.query.limit !== limit) {\n\t\t\t$scope.query.limit = limit;\n\t\t\t$scope.query.offset = normalizeOffset($scope.query.offset, $scope.query.maxOffset, $scope.query.limit);\n\t\t\t$scope.refresh();\n\t\t}\n\t}\n\n\t// Override this to implement updates to an object\n\t$scope.refresh = function() {\n\t\t$log.warn('You need to override $scope.$parent.refresh() in your controller');\n\t}\n\n\t// Override this to implement updates to an object\n\t$scope.update = function() {\n\t\t$log.warn('You need to override $scope.$parent.update() in your controller');\n\t}\n\n\t// Override this to implement deletions\n\t$scope.deleteItem = function(item) {\n\t\t$log.warn('You need to override $scope.$parent.deleteItem() in your controller');\n\t}\n\n\t$log.debug('ListCtrl initialized');\n}])\n\n.run(['$rootScope', '$log', function($rootScope, $log) {\n\t$log.debug('Finished initializing ' + MODULE_NAME);\n}])\n\n;\n\n/*\nangular.element(document).ready(function() {\n\tconsole.log('Bootstrapping ' + MODULE_NAME);\n\tangular.bootstrap(document, [MODULE_NAME]);\n});\n*/\n\nmodule.exports = {\n\tappendTransform: appendTransform,\n\ttoFiql: toFiql,\n\tfromFiql: fromFiql,\n\tparseContentRange: parseContentRange,\n\tescapeSearchValue: escapeSearchValue,\n\tnormalizeOffset: normalizeOffset\n};\n","// Module\nvar code = \"<form class=\\\"form-inline\\\" ng-submit=\\\"submit()\\\" style=\\\"margin:0\\\"> <input ng-show=\\\"editing\\\" ng-keyup=\\\"onKeyup($event)\\\" type=\\\"{{valueType}}\\\" step=\\\"{{step}}\\\" ng-model=\\\"value\\\"> <span style=\\\"line-height:24px\\\" ng-hide=\\\"editing\\\" ng-click=\\\"edit()\\\">{{value}}&nbsp;</span> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"edit()\\\" ng-hide=\\\"editing\\\"><i class=\\\"fa fa-edit fa-lg\\\"></i></a> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"submit()\\\" ng-show=\\\"editing\\\"><i class=\\\"fa fa-check fa-lg\\\"></i></a> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"cancel()\\\" ng-show=\\\"editing\\\"><i class=\\\"fa fa-close fa-lg\\\"></i></a> <span ng-transclude></span> </form> \";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editInPlace.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<span> <span ng-repeat=\\\"value in values\\\"> <button class=\\\"btn btn-sm btn-secondary\\\" ng-click=\\\"confirmAndRemove(values, value)\\\" style=\\\"margin-bottom:3px;margin-right:3px\\\"> {{value}}&nbsp;<i class=\\\"fa fa-close\\\"></i> </button> </span> <span style=\\\"line-height:24px\\\" ng-hide=\\\"editing\\\"> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"edit()\\\"><i class=\\\"fa fa-edit fa-lg\\\"></i></a>&nbsp; </span> <span ng-show=\\\"editing\\\" class=\\\"text-nowrap\\\"> <input type=\\\"{{valueType}}\\\" ng-keyup=\\\"onKeyup($event)\\\" ng-model=\\\"newValue\\\"> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"add(values, newValue)\\\"><i class=\\\"fa fa-plus fa-lg\\\"></i></a> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"unedit()\\\"><i class=\\\"fa fa-close fa-lg\\\"></i></a> </span> <span ng-transclude></span> </span>\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editListInPlace.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","// Module\nvar code = \"<span> <span ng-repeat=\\\"(key,value) in values\\\"> <button class=\\\"btn btn-sm btn-secondary\\\" ng-click=\\\"confirmAndRemove(values, key)\\\" style=\\\"margin-bottom:3px;margin-right:3px\\\"> <b>{{key}}:</b> {{value}}&nbsp;<i class=\\\"fa fa-close\\\"></i> </button> </span> <span style=\\\"line-height:24px\\\" ng-hide=\\\"editing\\\"> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"edit()\\\"><i class=\\\"fa fa-edit fa-lg\\\"></i></a>&nbsp; </span> <span ng-show=\\\"editing\\\" class=\\\"text-nowrap\\\"> <input type=\\\"{{keyType}}\\\" ng-keyup=\\\"onKeyup($event)\\\" ng-model=\\\"newKey\\\"> <input type=\\\"{{valueType}}\\\" ng-keyup=\\\"onKeyup($event)\\\" ng-model=\\\"newValue\\\"> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"add(values, newKey, newValue)\\\"><i class=\\\"fa fa-plus fa-lg\\\"></i></a> <a href style=\\\"text-decoration:none\\\" ng-click=\\\"unedit()\\\"><i class=\\\"fa fa-close fa-lg\\\"></i></a> </span> <span ng-transclude></span> </span>\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editMapInPlace.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","/* eslint no-console: 0 */\n\nconst angular = require('vendor/angular-js');\nconst moment = require('vendor/moment-js');\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction OnmsDateFormatter() {\n}\n\nOnmsDateFormatter.prototype.init = function init(readyCallback) {\n\tvar self = this;\n\tvar defaultFormat = \"yyyy-MM-dd'T'HH:mm:ssxxx\"; // eslint-disable-line quotes\n\twindow._onmsZoneId = undefined;\n\n\tvar xhr = new XMLHttpRequest();\n\txhr.onreadystatechange = function readystatechange() {\n\t\ttry {\n\t\t\tif (xhr.readyState === XMLHttpRequest.DONE) {\n\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\tvar config = JSON.parse(xhr.responseText);\n\t\t\t\t\tif (config.datetimeformatConfig && config.datetimeformatConfig.datetimeformat) {\n\t\t\t\t\t\twindow._onmsDateTimeFormat = config.datetimeformatConfig.datetimeformat || defaultFormat;\n\t\t\t\t\t\twindow._onmsZoneId = config.datetimeformatConfig.zoneId;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('Error: datetimeformatConfig property not found:',config);\n\t\t\t\t\t\twindow._onmsDateTimeFormat = defaultFormat;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('Error: failed to request format info: ' + xhr.status + ' ' + xhr.statusText);\n\t\t\t\t\twindow._onmsDateTimeFormat = defaultFormat;\n\t\t\t\t}\n\t\t\t\treadyCallback(self, xhr.status);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log('Error: failed to request format info: ', e);\n\t\t\twindow._onmsDateTimeFormat = defaultFormat;\n\t\t\treadyCallback(self, xhr.status);\n\t\t}\n\t};\n\txhr.open('GET', 'rest/info');\n\txhr.setRequestHeader('Accept', 'application/json');\n\txhr.send();\n};\n\nOnmsDateFormatter.prototype.assertInitialized = function assertInitialized() {\n\tif (!window._onmsDateTimeFormat) {\n\t\tconsole.log('OnmsDateFormatter.init() must complete before using!');\n\t\tthrow new Error('OnmsDateFormatter.init() must complete before using!');\n\t}\n};\n\nOnmsDateFormatter.prototype.getZoneId = function getZoneId() {\n\tthis.assertInitialized();\n\n\tif (!this._zoneId) {\n\t\tif (window._onmsZoneId) {\n\t\t\tthis._zoneId = window._onmsZoneId;\n\t\t} else {\n\t\t\tconsole.warn('No zone ID specified from the server; guessing based on browser.');\n\t\t\tthis._zoneId = moment.tz.guess();\n\t\t}\n\t}\n\treturn this._zoneId;\n};\n\nOnmsDateFormatter.prototype.format = function format(date) {\n\tthis.assertInitialized();\n\n\tif (date === undefined || date === null) {\n\t\treturn date;\n\t}\n\n\tconst zoneId = this.getZoneId();\n\tconst momentDate = moment.tz(date, zoneId);\n\treturn momentDate.formatJavaDTF(window._onmsDateTimeFormat);\n};\n\n(function() {\n\t'use strict';\n\tif (typeof jest === 'undefined') {\n\t\tvar f = new OnmsDateFormatter();\n\t\tf.init(function() {\n\t\t\twindow._onmsFormatter = f;\n\t\t});\n\t} else {\n\t\tconsole.log('Running in a test environment. Skipping automatic initialization.');\n\t}\n})();\n\n(function() {\n\t'use strict';\n\n\tif (window.angular) {\n\t\tangular.module('onmsDateFormatter', ['ng']).factory('DateFormatterService', ['$interval', '$q', function DateFormatterService($interval, $q) {\n\t\t\tconsole.log('Initializing DateFormatterService');\n\n\t\t\tvar deferred = $q.defer();\n\n\t\t\tvar count = 0;\n\t\t\tvar i = $interval(function() {\n\t\t\t\tif (window._onmsFormatter) {\n\t\t\t\t\tconsole.log('Global formatter found: ' + window._onmsDateTimeFormat);\n\t\t\t\t\tdeferred.resolve(window._onmsFormatter);\n\t\t\t\t\t$interval.cancel(i);\n\t\t\t\t}\n\t\t\t\tif (count++ > 300) {\n\t\t\t\t\tconsole.log('DateFormatterService: giving up waiting for global formatter.');\n\t\t\t\t\t$interval.cancel(i);\n\t\t\t\t}\n\t\t\t}, 100);\n\n\t\t\treturn {\n\t\t\t\traw: window._onmsFormatter,\n\t\t\t\tformatter: deferred.promise,\n\t\t\t\tformat: function(date) {\n\t\t\t\t\treturn deferred.promise.then(function(f) {\n\t\t\t\t\t\treturn f.format(date);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\tangular.module('onmsDateFormatter').filter('onmsDate', ['$filter', 'DateFormatterService', function($filter, DateFormatterService) {\n\t\t\treturn function onmsDate(input, ifEmpty) {\n\t\t\t\tvar ret;\n\t\t\t\tif (window._onmsFormatter) {\n\t\t\t\t\t// If the formatter has finished initializing, use it\n\t\t\t\t\tret = window._onmsFormatter.format(input);\n\t\t\t\t\t//console.log('onmsDate: formatter returned: ' + ret);\n\t\t\t\t} else {\n\t\t\t\t\t// Otherwise, use ISO format\n\t\t\t\t\tret = $filter('date')(input, 'yyyy-MM-ddTHH:mm:ss.sssZ');\n\t\t\t\t\t//console.log('onmsDate: $filter(date) returned: ' + ret);\n\t\t\t\t}\n\t\t\t\tif (ret !== undefined && ret !== null) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t\treturn ifEmpty;\n\t\t\t}\n\t\t}]);\n\n\t\tangular.module('onmsDateFormatter').directive('onmsDate', ['DateFormatterService', function(dateFormatterService) {\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\tcompile: function(element) {\n\t\t\t\t\tdateFormatterService.format(element.text()).then(function(formatted) {\n\t\t\t\t\t\telement.replaceWith(formatted);\n\t\t\t\t\t}).catch(function(e) {\n\t\t\t\t\t\tconsole.error('Failed to format ' + element.text(), e);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}]);\n\t} else {\n\t\tconsole.log('Angular not found.  Not initializing OnmsDateFormatter Angular components.');\n\t}\n})();\n\nmodule.exports = OnmsDateFormatter;\n","// Module\nvar code = \"<span> <div class=\\\"modal-header\\\"> <h3><i class=\\\"fa fa-exclamation-triangle text-warning\\\"></i> Permission Denied</h3> </div> <div class=\\\"modal-body\\\"> <h5> You are not allowed to perform the requested action. </h5> <p class=\\\"text-muted\\\"> This is not supposed to happen. Please reload the page and contact your administrator if this occurs more often. </p> </div> <div class=\\\"modal-footer\\\"> <button class=\\\"btn btn-primary\\\" ng-click=\\\"reload()\\\">Reload</button> </div> </span>\";\n// Exports\nvar _module_exports = code;;\nvar path = '/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/lib/onms-http/403-permission-denied.html';\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, _module_exports) }]);\nmodule.exports = path;","/* Load jQuery first, so Angular finds it */\nrequire('./jquery-js');\n\n/* Angular Core */\nconst angular = require('angular');\nrequire('angular-animate');\nrequire('angular-cookies');\nrequire('angular-route');\nrequire('angular-resource');\nrequire('angular-sanitize');\n\n/* 3rd-Party Modules */\nrequire('angular-growl-v2');\nrequire('angular-loading-bar');\n\nrequire('angular-growl-v2/build/angular-growl.css');\nrequire('angular-loading-bar/build/loading-bar.css');\n\n/* Bootstrap UI */\nrequire('vendor/bootstrap-js');\nrequire('angular-bootstrap-checkbox');\nrequire('ui-bootstrap4'); // angular-ui-boostrap for bootstrap 4\n\nconsole.log('init: angular-js ' + angular.version.full); // eslint-disable-line no-console\n\nmodule.exports = window['angular'] = angular;","'use strict';\n\n// Base URL of the REST service\nconst BASE_REST_URL = 'api/v2';\n\n// Module name\nconst MODULE_NAME = 'onms.restResources';\n\nconst angular = require('vendor/angular-js');\nrequire('lib/onms-http');\n\n/**\n * Function used to append an extra transformer to the default $http transforms.\n * \n * @param defaultTransform Existing response transformer(s)\n * @param transform New transformer to append to the end of the list\n */\nconst appendTransform = (defaultTransform, transform) => {\n\tconst t = angular.isArray(defaultTransform) ? defaultTransform : [ defaultTransform ];\n\treturn t.concat(transform);\n};\n\n/**\n * Ensure that the REST responses are always returned as arrays\n * \n * @param data HTTP response\n * @param headers HTTP response headers\n * @param status HTTP response status code\n * @param key Name of the key where values are stored in {@code data}\n */\nconst arrayify = (data, headers, status, key) => {\n\t// TODO: Figure out how to handle session timeouts that redirect to \n\t// the login screen\n\t/*\n\tif (status === 302) {\n\t\t$window.location.href = $location.absUrl();\n\t\treturn [];\n\t}\n\t*/\n\tif (status === 204) { // No content\n\t\treturn [];\n\t}\n\t// Always return the data as an array\n\treturn angular.isArray(data[key]) ? data[key] : [ data[key] ];\n};\n\n// REST $resource module\nangular.module(MODULE_NAME, [ 'onms.http', 'ngResource' ])\n\n// OnmsAlarm REST $resource\n.factory('alarmFactory', /* @ngInject */ function($resource, $log, $http, $location) {\n\treturn $resource(\n\t\tBASE_REST_URL + '/alarms/:id', \n\t\t{ id: '@id' },\n\t\t{\n\t\t\t'query': { \n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'alarm');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'update': { \n\t\t\t\tmethod: 'PUT'\n\t\t\t},\n\t\t\t'queryProperties': {\n\t\t\t\turl: BASE_REST_URL + '/alarms/properties',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'searchProperty');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'queryPropertyValues': {\n\t\t\t\turl: BASE_REST_URL + '/alarms/properties/:id',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'value');\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t);\n})\n\n// OnmsEvent REST $resource\n.factory('eventFactory', /* @ngInject */ function($resource, $log, $http, $location) {\n\treturn $resource(\n\t\tBASE_REST_URL + '/events/:id', \n\t\t{ id: '@id' },\n\t\t{\n\t\t\t'query': { \n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'event');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'update': { \n\t\t\t\tmethod: 'PUT'\n\t\t\t},\n\t\t\t'queryProperties': {\n\t\t\t\turl: BASE_REST_URL + '/events/properties',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'searchProperty');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'queryPropertyValues': {\n\t\t\t\turl: BASE_REST_URL + '/events/properties/:id',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'value');\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t);\n})\n\n// OnmsMinion REST $resource\n.factory('minionFactory', /* @ngInject */ function($resource, $log, $http, $location) {\n\treturn $resource(BASE_REST_URL + '/minions/:id', { id: '@id' },\n\t\t{\n\t\t\t'query': { \n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'minion');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'update': { \n\t\t\t\tmethod: 'PUT'\n\t\t\t}\n\t\t}\n\t);\n})\n\n// OnmsMonitoringLocation REST $resource\n.factory('monitoringLocationFactory', /* @ngInject */ function($resource, $log, $http, $location) {\n\treturn $resource(BASE_REST_URL + '/monitoringLocations/:id', {},\n\t\t{\n\t\t\t'query': { \n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'location');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'update': { \n\t\t\t\tmethod: 'PUT'\n\t\t\t}\n\t\t}\n\t);\n})\n\n// OnmsNode REST $resource\n.factory('nodeFactory', /* @ngInject */ function($resource, $log, $http, $location) {\n\treturn $resource(BASE_REST_URL + '/nodes/:id', { id: '@id' },\n\t\t{\n\t\t\t'query': { \n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'node');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'update': { \n\t\t\t\tmethod: 'PUT'\n\t\t\t},\n\t\t\t'queryProperties': {\n\t\t\t\turl: BASE_REST_URL + '/nodes/properties',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'searchProperty');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'queryPropertyValues': {\n\t\t\t\turl: BASE_REST_URL + '/nodes/properties/:id',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'value');\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t);\n})\n\n// OnmsNotification REST $resource\n.factory('notificationFactory', /* @ngInject */ function($resource, $log, $http, $location) {\n\treturn $resource(BASE_REST_URL + '/notifications/:id', { id: '@id' },\n\t\t{\n\t\t\t'query': { \n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'notification');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'update': { \n\t\t\t\tmethod: 'PUT'\n\t\t\t},\n\t\t\t'queryProperties': {\n\t\t\t\turl: BASE_REST_URL + '/notifications/properties',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'searchProperty');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'queryPropertyValues': {\n\t\t\t\turl: BASE_REST_URL + '/notifications/properties/:id',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'value');\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t);\n})\n\n// OnmsOutage REST $resource\n.factory('outageFactory', /* @ngInject */ function($resource, $log, $http, $location) {\n\treturn $resource(BASE_REST_URL + '/outages/:id', { id: '@id' },\n\t\t{\n\t\t\t'query': { \n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'outage');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'update': { \n\t\t\t\tmethod: 'PUT'\n\t\t\t},\n\t\t\t'queryProperties': {\n\t\t\t\turl: BASE_REST_URL + '/outages/properties',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'searchProperty');\n\t\t\t\t})\n\t\t\t},\n\t\t\t'queryPropertyValues': {\n\t\t\t\turl: BASE_REST_URL + '/outages/properties/:id',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tisArray: true,\n\t\t\t\t// Append a transformation that will unwrap the item array\n\t\t\t\ttransformResponse: appendTransform($http.defaults.transformResponse, function(data, headers, status) {\n\t\t\t\t\treturn arrayify(data, headers, status, 'value');\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t);\n});\n","console.log('init: jquery-js'); // eslint-disable-line no-console\n\nconst jQuery = require('jquery');\nrequire('jquery-migrate');\n\nmodule.exports = jQuery;\n","console.log('init: moment-js'); // eslint-disable-line no-console\n\nconst moment = require('moment');\nrequire('moment-timezone');\nrequire('@rangerrick/moment-javaformat');\n\nmodule.exports = moment;"],"sourceRoot":""}