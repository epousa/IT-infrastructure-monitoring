!function(t,o){if("object"==typeof exports&&"object"==typeof module)module.exports=o();else if("function"==typeof define&&define.amd)define([],o);else{var e=o();for(var n in e)("object"==typeof exports?exports:t)[n]=e[n]}}(window,(function(){return(window.webpackJsonp=window.webpackJsonp||[]).push([[41,2,8,25,35],{12:function(t,exports,o){"use strict";console.log("init: bootstrap-js");var jQuery=o(5);o(8),o(41),t.exports=jQuery},136:function(t,exports,o){"use strict";var e,n=(e=o(29))&&e.__esModule?e:{default:e};var r,angular=o(3),i=o(8);function a(){}a.prototype.init=function(t){var o=this,e="yyyy-MM-dd'T'HH:mm:ssxxx";window._onmsZoneId=void 0;var n=new XMLHttpRequest;n.onreadystatechange=function(){try{if(n.readyState===XMLHttpRequest.DONE){if(200===n.status){var r=JSON.parse(n.responseText);r.datetimeformatConfig&&r.datetimeformatConfig.datetimeformat?(window._onmsDateTimeFormat=r.datetimeformatConfig.datetimeformat||e,window._onmsZoneId=r.datetimeformatConfig.zoneId):(console.log("Error: datetimeformatConfig property not found:",r),window._onmsDateTimeFormat=e)}else console.log("Error: failed to request format info: "+n.status+" "+n.statusText),window._onmsDateTimeFormat=e;t(o,n.status)}}catch(r){console.log("Error: failed to request format info: ",r),window._onmsDateTimeFormat=e,t(o,n.status)}},n.open("GET","rest/info"),n.setRequestHeader("Accept","application/json"),n.send()},a.prototype.assertInitialized=function(){if(!window._onmsDateTimeFormat)throw console.log("OnmsDateFormatter.init() must complete before using!"),new Error("OnmsDateFormatter.init() must complete before using!")},a.prototype.getZoneId=function(){return this.assertInitialized(),this._zoneId||(window._onmsZoneId?this._zoneId=window._onmsZoneId:(console.warn("No zone ID specified from the server; guessing based on browser."),this._zoneId=i.tz.guess())),this._zoneId},a.prototype.format=function(t){if(this.assertInitialized(),null==t)return t;var o=this.getZoneId();return i.tz(t,o).formatJavaDTF(window._onmsDateTimeFormat)},function(){if("undefined"==typeof jest){var t=new a;t.init((function(){window._onmsFormatter=t}))}else console.log("Running in a test environment. Skipping automatic initialization.")}(),window.angular?(angular.module("onmsDateFormatter",["ng"]).factory("DateFormatterService",["$interval","$q",function(t,o){console.log("Initializing DateFormatterService");var e=o.defer(),n=0,r=t((function(){window._onmsFormatter&&(console.log("Global formatter found: "+window._onmsDateTimeFormat),e.resolve(window._onmsFormatter),t.cancel(r)),n++>300&&(console.log("DateFormatterService: giving up waiting for global formatter."),t.cancel(r))}),100);return{raw:window._onmsFormatter,formatter:e.promise,format:function(t){return e.promise.then((function(o){return o.format(t)}))}}}]),(0,n.default)(r=angular.module("onmsDateFormatter")).call(r,"onmsDate",["$filter","DateFormatterService",function(t,o){return function(o,e){var n;return null!=(n=window._onmsFormatter?window._onmsFormatter.format(o):t("date")(o,"yyyy-MM-ddTHH:mm:ss.sssZ"))?n:e}}]),angular.module("onmsDateFormatter").directive("onmsDate",["DateFormatterService",function(t){return{restrict:"E",compile:function(o){t.format(o.text()).then((function(t){o.replaceWith(t)})).catch((function(t){console.error("Failed to format "+o.text(),t)}))}}}])):console.log("Angular not found.  Not initializing OnmsDateFormatter Angular components."),t.exports=a},3:function(t,exports,o){"use strict";o(5);var angular=o(40);o(53),o(54),o(55),o(56),o(51),o(57),o(58),o(59),o(60),o(12),o(61),o(62),console.log("init: angular-js "+angular.version.full),t.exports=window.angular=angular},5:function(t,exports,o){"use strict";console.log("init: jquery-js");var jQuery=o(7);o(28),t.exports=jQuery},8:function(t,exports,o){"use strict";console.log("init: moment-js");var e=o(1);o(35),o(36),t.exports=e}},[[136,0]]])}));
//# sourceMappingURL=onms-date-formatter.min.js.map