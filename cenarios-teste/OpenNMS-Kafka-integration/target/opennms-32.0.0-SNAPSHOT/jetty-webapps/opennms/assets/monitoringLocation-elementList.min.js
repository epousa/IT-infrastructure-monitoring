!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a=t();for(var o in a)("object"==typeof exports?exports:e)[o]=a[o]}}(window,(function(){return(window.webpackJsonp=window.webpackJsonp||[]).push([[36,2,8,25,35,49],{10:function(e,exports,t){"use strict";var a,o=(a=t(70))&&a.__esModule?a:{default:a};var angular=t(3),r=t(22);angular.module("onms.http",["ui.bootstrap"]).factory("InterceptorService",["$q","$rootScope",function(e,t){return{responseError:function(a){var r,n;401===a.status&&(a.config&&a.config.url&&((0,o.default)(r=a.config.url).call(r,"rest/")||(0,o.default)(n=a.config.url).call(n,"api/v2/"))&&(console.error("Login Required",a,a.headers),t.$emit("loginRequired")));return 403===a.status&&t.$emit("permissionDenied"),e.reject(a)}}}]).config(["$locationProvider",function(e){e.hashPrefix("")}]).config(["$httpProvider",function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.interceptors.push("InterceptorService")}]).run(["$rootScope","$uibModal",function(e,t){e.$on("loginRequired",(function(){var e=document.getElementsByTagName("base");e&&e.length>0&&e[0].href?document.headerLogoutForm.submit():console.warn("Login is required, but cannot forward to login page due to missing base tag.")})),e.$on("permissionDenied",(function(){t.open({templateUrl:r,controller:["$scope","$uibModalInstance",function($scope,e){$scope.reload=function(){e.dismiss(),window.location.reload()}}],size:"",backdrop:"static",keyboard:!1})}))}]),e.exports=angular},1019:function(e,exports,t){"use strict";var a,o,r,n=(a=t(29))&&a.__esModule?a:{default:a};var i="onms.elementList.monitoringLocation",angular=t(3),s=t(128);t(451);var l=t(1020);(0,n.default)(o=(0,n.default)(r=angular.module("monitoringLocationsListFilters",["onmsListFilters"]).directive("onmsMonitoringLocationList",(function(){return{restrict:"E",transclude:!0,templateUrl:l}}))).call(r,"property",(function(){return function(e){switch(e){case"locationName":return"Location name";case"monitoringArea":return"Monitoring area";case"geolocation":return"Geolocation";case"latitude":return"Latitude";case"longitude":return"Longitude";case"priority":return"Priority";default:return e}}}))).call(o,"value",(function(e){return function(e,t){return e}})),angular.module(i,["onms.restResources","onms.elementList","monitoringLocationsListFilters"]).config(["$locationProvider",function(e){e.hashPrefix("")}]).controller("MonitoringLocationsListCtrl",["$scope","$location","$window","$log","$filter","monitoringLocationFactory",function($scope,e,t,a,o,r){a.debug("MonitoringLocationsListCtrl initializing..."),$scope.$parent.defaults.orderBy="locationName",$scope.$parent.query.orderBy="locationName",$scope.newItem={},$scope.$parent.refresh=function(){var a={limit:$scope.$parent.query.limit,offset:$scope.$parent.query.offset,orderBy:$scope.$parent.query.orderBy,order:$scope.$parent.query.order};$scope.$parent.query.searchParam&&(a._s=$scope.$parent.query.searchParam),r.query(a,(function(e,t){$scope.$parent.items=e;var a=s.parseContentRange(t("Content-Range"));$scope.$parent.query.lastOffset=a.end,$scope.$parent.query.maxOffset=a.total-1,$scope.$parent.query.offset=s.normalizeOffset(a.start,$scope.$parent.query.maxOffset,$scope.$parent.query.limit)}),(function(a){switch(a.status){case 404:$scope.$parent.items=[],$scope.$parent.query.lastOffset=0,$scope.$parent.query.maxOffset=-1,$scope.$parent.setOffset(0);break;case 401:case 403:t.location.href=e.absUrl()}}))},$scope.$parent.update=function(e){if(null!==e["location-name"]&&""!==e["location-name"])var t=r.get({id:e["location-name"]},(function(){t["monitoring-area"]=e["monitoring-area"],t.geolocation=e.geolocation,t.latitude=e.latitude,t.longitude=e.longitude,t.priority=e.priority,t.$update({id:e["location-name"]},(function(){""!==$scope.query.searchParam&&$scope.refresh()}))}),(function(t){if(404===t.status){var a=new r({});a["location-name"]=e["location-name"],a["monitoring-area"]=e["monitoring-area"],a.geolocation=e.geolocation,a.latitude=e.latitude,a.longitude=e.longitude,a.priority=e.priority,a.$save({},(function(){return $scope.refresh(),$scope.newItem={},!0}))}}))},$scope.$parent.deleteItem=function(e){var a=r.get({id:e["location-name"]},(function(){t.confirm('Are you sure you want to remove location "'+e["location-name"]+'"?')&&a.$delete({id:e["location-name"]},(function(){var t=$scope.$watch("items",(function(){for(var a=0;a<$scope.items.length;a++)if($scope.items[a]["location-name"]===e["location-name"])return void $scope.refresh();t()}))}),(function(a){t.alert('Deletion of location "'+e["location-name"]+'" failed. Please make sure that no nodes are associated with the given location.')}))}),(function(e){404===e.status&&$scope.refresh()}))},$scope.$parent.refresh(),a.debug("MonitoringLocationsListCtrl initialized")}]).run(["$rootScope","$log",function(e,t){t.debug("Finished initializing "+i)}]),angular.element(document).ready((function(){console.log("Bootstrapping "+i),angular.bootstrap(document,[i])}))},1020:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/monitoringLocation-elementList/main.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<div ng-controller="ListCtrl"> <div ng-controller="MonitoringLocationsListCtrl"> <div id="filterModal" class="modal fade" tabindex="-1"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-body"> <label>Add Filter:</label> <form class="form-inline" onsubmit=\'$("#filterModal").modal("hide")\' ng-submit="addSearchClause(clause)"> <div class="form-group"> <select class="form-control custom-select" ng-model="clause.property" ng-init="clause.property = \'locationName\'"> <option value="locationName">Location Name</option> <option value="monitoringArea">Monitoring Area</option> <option value="geolocation">Geolocation</option> <option value="latitude">Latitude</option> <option value="longitude">Longitude</option> <option value="priority">Priority</option> </select> <select class="form-control custom-select" ng-model="clause.operator" ng-init="clause.operator = \'EQ\'"> <option value="EQ">=</option> <option value="NE">!=</option> <option value="LT">&lt;</option> <option value="LE">&lt;=</option> <option value="GT">&gt;</option> <option value="GE">&gt;=</option> </select> <input name="clause-value-text" class="form-control" type="text" ng-model="clause.value" ng-if="clause.property !== \'latitude\' &amp;&amp; clause.property !== \'longitude\' &amp;&amp; clause.property !== \'priority\'"> <input name="clause-value-number" class="form-control" type="number" ng-model="clause.value" min="{{clause.property === \'priority\' ? \'0\' : \'\'}}" ng-if="clause.property === \'priority\'"> <input name="clause-value-latitude" class="form-control" type="number" step="any" ng-model="clause.value" min="{{clause.property === \'latitude\' ? \'-90.0\' : \'\'}}" max="{{clause.property === \'latitude\' ? \'90.0\' : \'\'}}" ng-if="clause.property === \'latitude\'"> <input name="clause-value-longitude" class="form-control" type="number" step="any" ng-model="clause.value" min="-180.0" max="180.0" ng-if="clause.property === \'longitude\'"> </div> <br><br> <button class="btn btn-secondary" type="submit">Submit</button> </form> </div> </div> </div> </div> <div id="addLocationModal" class="modal fade" tabindex="-1"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-body"> <h3>Add a new Monitoring Location</h3> <form onsubmit=\'$("#addLocationModal").modal("hide")\' ng-submit="update(newItem)"> <div class="form-group"> <label for="locationName">Location Name</label> <input class="form-control" type="text" ng-model="newItem[\'location-name\']" required> </div> <div class="form-group"> <label for="monitoringArea">Monitoring Area</label> <input class="form-control" type="text" ng-model="newItem[\'monitoring-area\']" required> </div> <div class="form-group"> <label for="geolocation">Geolocation</label> <input class="form-control" type="text" ng-model="newItem.geolocation"> </div> <div class="form-group"> <label for="latitude">Latitude</label> <input class="form-control" type="number" step="any" ng-model="newItem.latitude" min="-90.0" max="90.0"> </div> <div class="form-group"> <label for="longitude">Longitude</label> <input class="form-control" type="number" step="any" ng-model="newItem.longitude" min="-180.0" max="180.0"> </div> <div class="form-group"> <label for="priority">Priority</label> <input class="form-control" type="number" ng-model="newItem.priority"> </div> <button class="btn btn-secondary" type="submit">Submit</button> </form> </div> </div> </div> </div> <div id="helpModal" class="modal fade" tabindex="-1"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-body"> <h3>Help</h3> <h4>Filtering</h4> <p> Click on the <i class="fa fa-search-plus"></i> icon to filter the list. You can match a portion of a value by using the * character as a wildcard value. Click on the <i class="fa fa-ban"> icon to clear all filters.</i> </p> <h4>Filter by Example</h4> <p> You can click on the <i class="fa fa-plus-square-o"></i> icon next to a value to only show rows that contain that value. If you click on the <i class="fa fa-minus-square-o"></i> icon, it will remove rows with that value from the results. For timestamp values, clicking on the <i class="fa fa-toggle-left"></i> icon will show timestamps newer than the specified value and clicking on the <i class="fa fa-toggle-right"></i> icon will show timestamps older than the value. </p> <h4>Sorting</h4> <p>Click on a column header to sort by that column. Click the same column again to reverse the sort order.</p> <h4>Items per Page</h4> <p>You can change the number of items per page by entering a numeric value in the <i class="fa fa-th-list"></i> box.</p> </div> </div> </div> </div> <div class="well well-sm"> <span class="h5" style="line-height:2.8"> Filters&nbsp;&nbsp; <a href onClick="$(\'#filterModal\').modal()"><i class="fa fa-search-plus fa-lg"></i></a> &nbsp; <a href onClick="$(\'#helpModal\').modal()"><i class="fa fa-question-circle fa-lg"></i></a> &nbsp; <a href ng-click="clearSearch()"><i class="fa fa-ban fa-lg"></i></a> &nbsp; </span> <span ng-hide="query.searchClauses.length == 0"> <span ng-repeat="clause in query.searchClauses"> <div class="btn-group" style="margin:3px"> <button class="btn btn-primary" ng-click="removeSearchClause(clause)"> {{clause.property | property}} {{clause.operator | operator : clause.value}} {{clause.value | value : clause.property}} &nbsp; <i class="fa fa-close"></i> </button> </div> </span> </span> </div> <div> <div class=""> <button type="button" role="button" class="btn btn-secondary {{(query.offset-query.limit) &lt; 0 ? \'disabled\' : \'\'}}" ng-click="setOffset(0)"> <i class="fa fa-backward"></i>&nbsp;&nbsp;First </button> <button type="button" role="button" class="btn btn-secondary ml-2 {{(query.offset-query.limit) &lt; 0 ? \'disabled\' : \'\'}}" ng-click="setOffset(query.offset-query.limit)"> <i class="fa fa-play fa-flip-horizontal"></i>&nbsp;&nbsp;Previous </button> <div class="btn-group"> <a class="btn btn-secondary" ng-click="setOffset(query.offset-(3*query.limit))" ng-hide="(query.offset-(3*query.limit)) &lt; 0" style="width:5em"> {{(query.offset/query.limit) - 2}} </a> <a class="btn btn-secondary" ng-click="setOffset(query.offset-(2*query.limit))" ng-hide="(query.offset-(2*query.limit)) &lt; 0" style="width:5em"> {{(query.offset/query.limit) - 1}} </a> <a class="btn btn-secondary" ng-click="setOffset(query.offset-query.limit)" ng-hide="(query.offset-query.limit) &lt; 0" style="width:5em"> {{query.offset/query.limit}} </a> <a class="btn btn-secondary active" ng-show="query.maxOffset &gt; 0" style="width:5em"> {{(query.offset/query.limit) + 1}} </a> <a class="btn btn-secondary" ng-click="setOffset(query.offset+query.limit)" ng-hide="(query.offset+query.limit) &gt; query.maxOffset" style="width:5em"> {{(query.offset/query.limit) + 2}} </a> <a class="btn btn-secondary" ng-click="setOffset(query.offset+(2*query.limit))" ng-hide="query.offset+(2*query.limit) &gt; query.maxOffset" style="width:5em"> {{(query.offset/query.limit) + 3}} </a> <a class="btn btn-secondary" ng-click="setOffset(query.offset+(3*query.limit))" ng-hide="query.offset+(3*query.limit) &gt; query.maxOffset" style="width:5em"> {{(query.offset/query.limit) + 4}} </a> </div> <div class="pull-right"> <form class="form-inline" ng-submit="setLimit(query.newLimit)"> <div class="input-group" style="margin-left:10px"> <div class="input-group-prepend"> <span class="input-group-text"><i class="fa fa-th-list"></i></span> </div> <input class="form-control" type="number" ng-model="query.newLimit"> </div> <button type="button" role="button" class="btn btn-secondary mx-2 {{(query.offset+query.limit) &gt; query.maxOffset ? \'disabled\' : \'\'}}" ng-click="setOffset(query.offset + query.limit)"> Next&nbsp;&nbsp;<i class="fa fa-play"></i> </button> <button type="button" role="button" class="btn btn-secondary {{(query.offset+query.limit) &gt; query.maxOffset ? \'disabled\' : \'\'}}" ng-click="setOffset(1000000000)"> Last&nbsp;&nbsp;<i class="fa fa-forward"></i> </button> </form> </div> <h5 class="pull-right col-form-label" ng-show="query.maxOffset &lt; 0">No items found.</h5> <h5 class="pull-right col-form-label" ng-show="query.maxOffset &gt;= 0">{{query.offset === query.lastOffset ? "Item " + (query.offset + 1) : "Items " + (query.offset + 1) + " - " + (query.lastOffset + 1)}} ({{query.maxOffset + 1}} total)</h5> </div> </div> <br> <div class="card"> <table class="table table-bordered table-striped" style="font-size:100%"> <tbody> <tr> <th> <a href ng-click="changeOrderBy(\'locationName\')">Location Name</a> <i ng-show="query.orderBy === \'locationName\' &amp;&amp; query.order === \'asc\'" class="fa fa-sort-asc"></i> <i ng-show="query.orderBy === \'locationName\' &amp;&amp; query.order === \'desc\'" class="fa fa-sort-desc"></i> </th> <th> <a href ng-click="changeOrderBy(\'monitoringArea\')">Monitoring Area</a> <i ng-show="query.orderBy === \'monitoringArea\' &amp;&amp; query.order === \'asc\'" class="fa fa-sort-asc"></i> <i ng-show="query.orderBy === \'monitoringArea\' &amp;&amp; query.order === \'desc\'" class="fa fa-sort-desc"></i> </th> <th> <a href ng-click="changeOrderBy(\'geolocation\')">Geolocation</a> <i ng-show="query.orderBy === \'geolocation\' &amp;&amp; query.order === \'asc\'" class="fa fa-sort-asc"></i> <i ng-show="query.orderBy === \'geolocation\' &amp;&amp; query.order === \'desc\'" class="fa fa-sort-desc"></i> </th> <th> <a href ng-click="changeOrderBy(\'latitude\')">Latitude</a> <i ng-show="query.orderBy === \'latitude\' &amp;&amp; query.order === \'asc\'" class="fa fa-sort-asc"></i> <i ng-show="query.orderBy === \'latitude\' &amp;&amp; query.order === \'desc\'" class="fa fa-sort-desc"></i> </th> <th> <a href ng-click="changeOrderBy(\'longitude\')">Longitude</a> <i ng-show="query.orderBy === \'longitude\' &amp;&amp; query.order === \'asc\'" class="fa fa-sort-asc"></i> <i ng-show="query.orderBy === \'longitude\' &amp;&amp; query.order === \'desc\'" class="fa fa-sort-desc"></i> </th> <th> <a href ng-click="changeOrderBy(\'priority\')">Priority</a> <i ng-show="query.orderBy === \'priority\' &amp;&amp; query.order === \'asc\'" class="fa fa-sort-asc"></i> <i ng-show="query.orderBy === \'priority\' &amp;&amp; query.order === \'desc\'" class="fa fa-sort-desc"></i> </th> </tr> <tr ng-repeat="item in items"> <td class="text-nowrap" style="line-height:24px"> {{item[\'location-name\']}} <a href style="text-decoration:none" ng-click="deleteItem(item)"><i class="fa fa-trash-o fa-lg"></i></a> <a href style="text-decoration:none" ng-click="addSearchClause({property:\'locationName\',operator:\'EQ\',value:item[\'location-name\']})"><i class="fa fa-plus-square-o fa-lg"></i></a> <a href style="text-decoration:none" ng-click="addSearchClause({property:\'locationName\',operator:\'NE\',value:item[\'location-name\']})"><i class="fa fa-minus-square-o fa-lg"></i></a> </td> <td class="text-nowrap"> <onms-list-edit-in-place item="item" value="item[\'monitoring-area\']" value-type="\'text\'" on-submit="update(item)"> <a href style="text-decoration:none" ng-click="addSearchClause({property:\'monitoringArea\',operator:\'EQ\',value:item[\'monitoring-area\']})"><i class="fa fa-plus-square-o fa-lg"></i></a> <a href style="text-decoration:none" ng-click="addSearchClause({property:\'monitoringArea\',operator:\'NE\',value:item[\'monitoring-area\']})"><i class="fa fa-minus-square-o fa-lg"></i></a> </onms-list-edit-in-place> </td> <td class="text-nowrap"> <onms-list-edit-in-place item="item" value="item[\'geolocation\']" value-type="\'text\'" on-submit="update(item)"> <a href style="text-decoration:none" ng-click="addSearchClause({property:\'geolocation\',operator:\'EQ\',value:item[\'geolocation\']})"><i class="fa fa-plus-square-o fa-lg"></i></a> <a href style="text-decoration:none" ng-click="addSearchClause({property:\'geolocation\',operator:\'NE\',value:item[\'geolocation\']})"><i class="fa fa-minus-square-o fa-lg"></i></a> </onms-list-edit-in-place> </td> <td class="text-nowrap"> <onms-list-edit-in-place item="item" value="item[\'latitude\']" value-type="\'number\'" step="\'any\'" on-submit="update(item)"> <span ng-show="item[\'latitude\'] !== null"> <a href style="text-decoration:none" ng-click="addSearchClause({property:\'latitude\',operator:\'EQ\',value:item[\'latitude\']})"><i class="fa fa-plus-square-o fa-lg"></i></a> <a href style="text-decoration:none" ng-click="addSearchClause({property:\'latitude\',operator:\'NE\',value:item[\'latitude\']})"><i class="fa fa-minus-square-o fa-lg"></i></a> </span> </onms-list-edit-in-place> </td> <td class="text-nowrap"> <onms-list-edit-in-place item="item" value="item[\'longitude\']" value-type="\'number\'" step="\'any\'" on-submit="update(item)"> <span ng-show="item[\'longitude\'] !== null"> <a href style="text-decoration:none" ng-click="addSearchClause({property:\'longitude\',operator:\'EQ\',value:item[\'longitude\']})"><i class="fa fa-plus-square-o fa-lg"></i></a> <a href style="text-decoration:none" ng-click="addSearchClause({property:\'longitude\',operator:\'NE\',value:item[\'longitude\']})"><i class="fa fa-minus-square-o fa-lg"></i></a> </span> </onms-list-edit-in-place> </td> <td class="text-nowrap"> <onms-list-edit-in-place item="item" value="item[\'priority\']" value-type="\'number\'" on-submit="update(item)"> <span ng-show="item[\'priority\'] !== null"> <a href style="text-decoration:none" ng-click="addSearchClause({property:\'priority\',operator:\'EQ\',value:item[\'priority\']})"><i class="fa fa-plus-square-o fa-lg"></i></a> <a href style="text-decoration:none" ng-click="addSearchClause({property:\'priority\',operator:\'NE\',value:item[\'priority\']})"><i class="fa fa-minus-square-o fa-lg"></i></a> </span> </onms-list-edit-in-place> </td> </tr> </tbody> </table> </div> <button type="button" role="button" class="btn btn-secondary mb-2" onClick="$(\'#addLocationModal\').modal()">Add a new location</button> </div> </div> ')}]),e.exports=t},12:function(e,exports,t){"use strict";console.log("init: bootstrap-js");var jQuery=t(5);t(8),t(41),e.exports=jQuery},128:function(e,exports,t){"use strict";t(48),t(150),t(14),t(149);var a,o,r=d(t(107)),n=d(t(11)),i=d(t(29)),s=d(t(49)),l=d(t(245)),u=d(t(16)),c=d(t(103));function d(e){return e&&e.__esModule?e:{default:e}}var f="onms.elementList";window.ISO_8601_DATE_FORMAT="yyyy-MM-ddTHH:mm:ss.sssZ",window.ISO_8601_DATE_FORMAT_WITHOUT_MILLIS="yyyy-MM-ddTHH:mm:ssZ";var angular=t(3);t(5);t(12);var p=t(129),m=t(130),y=t(131),g=function(e){return"string"==typeof e?e.replace("!","%21").replace("$","%24").replace("'","%27").replace("(","%28").replace(")","%29").replace("+","%2B").replace(",","%2C").replace(";","%3B").replace("=","%3D"):e},h=function(e){for(var t=!0,a="",o=0;o<e.length;o++){switch(t||(a+=";"),a+=e[o].property,e[o].operator){case"EQ":a+="==";break;case"NE":a+="!=";break;case"LT":a+="=lt=";break;case"LE":a+="=le=";break;case"GT":a+="=gt=";break;case"GE":a+="=ge="}a+=g(e[o].value),t=!1}return a},v=function(e){for(var t=e.split(";"),a=[],o=[],r=0;r<t.length;r++){var i,s,l,u,c,d;(0,n.default)(i=t[r]).call(i,"==")>0?(a=t[r].split("=="),o.push({property:a[0],operator:"EQ",value:a[1]})):(0,n.default)(s=t[r]).call(s,"!=")>0?(a=t[r].split("!="),o.push({property:a[0],operator:"NE",value:a[1]})):(0,n.default)(l=t[r]).call(l,"=lt=")>0?(a=t[r].split("=lt="),o.push({property:a[0],operator:"LT",value:a[1]})):(0,n.default)(u=t[r]).call(u,"=le=")>0?(a=t[r].split("=le="),o.push({property:a[0],operator:"LE",value:a[1]})):(0,n.default)(c=t[r]).call(c,"=gt=")>0?(a=t[r].split("=gt="),o.push({property:a[0],operator:"GT",value:a[1]})):(0,n.default)(d=t[r]).call(d,"=ge=")>0&&(a=t[r].split("=ge="),o.push({property:a[0],operator:"GE",value:a[1]}))}return o},b=function(e,t,a){var o,r=e;return t<0?(r=0,o=0):o=Math.floor(t/a)*a,r=(r=r<0?0:r)>o?o:r,r=Math.floor(r/a)*a};(0,i.default)(a=(0,i.default)(o=angular.module("onmsListFilters",[])).call(o,"operator",(function(){return function(e,t){var a="string"==typeof t&&(0,n.default)(t).call(t,"*")>-1;switch(e){case"EQ":return a?"is like":"equals";case"NE":return a?"is not like":"does not equal";case"LT":return"is less than";case"LE":return"is less than or equal";case"GT":return"is greater than";case"GE":return"is greater than or equal";default:return e}}}))).call(a,"isNotEmpty",(function(){return function(e){return e&&("string"!=typeof e||""!==(0,s.default)(e).call(e))}})),angular.module(f,[]).config(["$locationProvider",function(e){e.hashPrefix(""),e.html5Mode({enabled:!0,rewriteLinks:!1})}]).directive("onmsListEditInPlace",(function(){return{controller:["$scope",function($scope){$scope.editing=!1,$scope.originalValue=angular.copy($scope.value),$scope.edit=function(){$scope.editing=!0},$scope.unedit=function(){$scope.editing=!1},$scope.onKeyup=function(e){27===e.keyCode&&$scope.cancel()},$scope.submit=function(){$scope.onSubmit(),$scope.originalValue=$scope.value,$scope.unedit()},$scope.cancel=function(){$scope.value=$scope.originalValue,$scope.unedit()}}],scope:{item:"=",value:"=",valueType:"=",step:"=",onSubmit:"&onSubmit"},templateUrl:p,transclude:!0}})).directive("onmsListEditListInPlace",["$window",function(e){return{controller:["$scope",function($scope){$scope.editing=!1,$scope.edit=function(){$scope.editing=!0},$scope.unedit=function(){$scope.newValue=null,$scope.editing=!1},$scope.onKeyup=function(e){switch(e.keyCode){case 13:$scope.add((0,l.default)($scope),$scope.newValue);break;case 27:$scope.unedit()}},$scope.confirmAndRemove=function(t,a){e.confirm('Are you sure you want to remove "'+a+'"?')&&((0,u.default)(t).call(t,(0,n.default)(t).call(t,a),1),$scope.onEdit())},$scope.add=function(e,t){e.push(t),(0,c.default)(e).call(e),$scope.onEdit(),$scope.unedit()}}],scope:{values:"=",valueType:"=",step:"=",onEdit:"&onEdit"},templateUrl:m,transclude:!0}}]).directive("onmsListEditMapInPlace",["$window",function(e){return{controller:["$scope",function($scope){$scope.editing=!1,$scope.edit=function(){$scope.editing=!0},$scope.unedit=function(){$scope.newKey=null,$scope.newValue=null,$scope.editing=!1},$scope.onKeyup=function(e){switch(e.keyCode){case 13:$scope.add((0,l.default)($scope),$scope.newKey,$scope.newValue);break;case 27:$scope.unedit()}},$scope.confirmAndRemove=function(t,a){e.confirm('Are you sure you want to remove "'+a+'"?')&&(delete t[a],$scope.onEdit())},$scope.add=function(e,t,a){e[t]=a,$scope.onEdit(),$scope.unedit()}}],scope:{values:"=",keyType:"=",valueType:"=",step:"=",onEdit:"&onEdit"},templateUrl:y,transclude:!0}}]).controller("ListCtrl",["$scope","$location","$window","$log","$filter",function($scope,e,t,a,o){a.debug("ListCtrl initializing..."),$scope.defaults={_s:"",searchClauses:[],limit:20,offset:0,orderBy:"",order:"asc"};var r=void 0===e.search().limit?$scope.defaults.limit:Number(e.search().limit)>0?Number(e.search().limit):$scope.defaults.limit;$scope.query={lastOffset:0,maxOffset:0,searchParam:void 0===e.search()._s?$scope.defaults._s:e.search()._s,searchClauses:void 0===e.search()._s?$scope.defaults.searchClauses:v(e.search()._s),limit:r,newLimit:r,offset:void 0===e.search().offset?$scope.defaults.offset:Number(e.search().offset)>0?b(Number(e.search().offset),Number.MAX_VALUE,r):$scope.defaults.offset,orderBy:void 0===e.search().orderBy?$scope.defaults.orderBy:e.search().orderBy,order:void 0===e.search().order?$scope.defaults.order:"asc"===e.search().order?"asc":"desc"},$scope.$watch("query",(function(){var t=angular.copy($scope.query);delete t.searchClauses,delete t.newLimit,delete t.lastOffset,delete t.maxOffset,t._s=""===t.searchParam?null:t.searchParam,delete t.searchParam,t.limit!==$scope.defaults.limit&&""!==t.limit||delete t.limit,t.offset!==$scope.defaults.offset&&""!==t.offset||delete t.offset,t.orderBy!==$scope.defaults.orderBy&&""!==t.orderBy||delete t.orderBy,t.order!==$scope.defaults.order&&""!==t.order||delete t.order,t._s!==$scope.defaults._s&&""!==t._s||delete t._s,e.search(t)}),!0),$scope.addSearchClause=function(e){angular.isDate(e.value)&&(e.value=o("date")(new Date(e.value),ISO_8601_DATE_FORMAT)),$scope.getSearchClause(e)||($scope.query.searchClauses.push(angular.copy(e)),$scope.query.searchParam=h($scope.query.searchClauses),$scope.refresh())},$scope.getSearchClause=function(e){for(var t=0;t<$scope.query.searchClauses.length;t++)if($scope.clauseEquals(e,$scope.query.searchClauses[t]))return $scope.query.searchClauses[t];return null},$scope.clauseEquals=function(e,t){return e.property===t.property&&e.operator===t.operator&&e.value===t.value},$scope.addEpochTimestampSearchClause=function(e){e.value=o("date")(e.value,ISO_8601_DATE_FORMAT),$scope.addSearchClause(e)},$scope.removeSearchClause=function(e){var t,a;(0,u.default)(t=$scope.query.searchClauses).call(t,(0,n.default)(a=$scope.query.searchClauses).call(a,e),1),$scope.query.searchParam=h($scope.query.searchClauses),$scope.refresh()},$scope.removeSearchClauses=function(e){for(var t=0;t<e.length;t++){var a,o,r=(0,n.default)(a=$scope.query.searchClauses).call(a,e[t]);if(r>=0)(0,u.default)(o=$scope.query.searchClauses).call(o,r,1)}$scope.query.searchParam=h($scope.query.searchClauses),$scope.refresh()},$scope.replaceSearchClause=function(e,t){angular.isDate(t.value)&&(t.value=o("date")(new Date(t.value),ISO_8601_DATE_FORMAT));var a=$scope.getSearchClause(e),r=$scope.getSearchClause(t);a?r?$scope.removeSearchClause(e):(a.property=t.property,a.operator=t.operator,a.value=t.value,$scope.query.searchParam=h($scope.query.searchClauses),$scope.refresh()):r||$scope.addSearchClause(t)},$scope.clearSearch=function(){$scope.query.searchClauses.length>0&&($scope.query.searchClauses=[],$scope.query.searchParam="",$scope.refresh())},$scope.changeOrderBy=function(e){$scope.query.orderBy===e?$scope.query.order="asc"===$scope.query.order?"desc":"asc":($scope.query.orderBy=e,$scope.query.order=$scope.defaults.order),$scope.refresh()},$scope.setOffset=function(e){var t=b(e,$scope.query.maxOffset,$scope.query.limit);$scope.query.offset!==t&&($scope.query.offset=t,$scope.refresh())},$scope.setLimit=function(e){e<1?$scope.query.newLimit=$scope.query.limit:$scope.query.limit!==e&&($scope.query.limit=e,$scope.query.offset=b($scope.query.offset,$scope.query.maxOffset,$scope.query.limit),$scope.refresh())},$scope.refresh=function(){a.warn("You need to override $scope.$parent.refresh() in your controller")},$scope.update=function(){a.warn("You need to override $scope.$parent.update() in your controller")},$scope.deleteItem=function(e){a.warn("You need to override $scope.$parent.deleteItem() in your controller")},a.debug("ListCtrl initialized")}]).run(["$rootScope","$log",function(e,t){t.debug("Finished initializing "+f)}]),e.exports={appendTransform:function(e,t){var a=angular.isArray(e)?e:[e];return(0,r.default)(a).call(a,t)},toFiql:h,fromFiql:v,parseContentRange:function(e){if(!e)return{start:0,end:0,total:0};var t=/items\s+?(\d+)\s*-\s*(\d+)\s*\/\s*(\d+)/;return{start:Number(e.replace(t,"$1")),end:Number(e.replace(t,"$2")),total:Number(e.replace(t,"$3"))}},escapeSearchValue:g,normalizeOffset:b}},129:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editInPlace.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<form class="form-inline" ng-submit="submit()" style="margin:0"> <input ng-show="editing" ng-keyup="onKeyup($event)" type="{{valueType}}" step="{{step}}" ng-model="value"> <span style="line-height:24px" ng-hide="editing" ng-click="edit()">{{value}}&nbsp;</span> <a href style="text-decoration:none" ng-click="edit()" ng-hide="editing"><i class="fa fa-edit fa-lg"></i></a> <a href style="text-decoration:none" ng-click="submit()" ng-show="editing"><i class="fa fa-check fa-lg"></i></a> <a href style="text-decoration:none" ng-click="cancel()" ng-show="editing"><i class="fa fa-close fa-lg"></i></a> <span ng-transclude></span> </form> ')}]),e.exports=t},130:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editListInPlace.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span> <span ng-repeat="value in values"> <button class="btn btn-sm btn-secondary" ng-click="confirmAndRemove(values, value)" style="margin-bottom:3px;margin-right:3px"> {{value}}&nbsp;<i class="fa fa-close"></i> </button> </span> <span style="line-height:24px" ng-hide="editing"> <a href style="text-decoration:none" ng-click="edit()"><i class="fa fa-edit fa-lg"></i></a>&nbsp; </span> <span ng-show="editing" class="text-nowrap"> <input type="{{valueType}}" ng-keyup="onKeyup($event)" ng-model="newValue"> <a href style="text-decoration:none" ng-click="add(values, newValue)"><i class="fa fa-plus fa-lg"></i></a> <a href style="text-decoration:none" ng-click="unedit()"><i class="fa fa-close fa-lg"></i></a> </span> <span ng-transclude></span> </span>')}]),e.exports=t},131:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/apps/onms-elementList/templates/angular-onms-elementList-editMapInPlace.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span> <span ng-repeat="(key,value) in values"> <button class="btn btn-sm btn-secondary" ng-click="confirmAndRemove(values, key)" style="margin-bottom:3px;margin-right:3px"> <b>{{key}}:</b> {{value}}&nbsp;<i class="fa fa-close"></i> </button> </span> <span style="line-height:24px" ng-hide="editing"> <a href style="text-decoration:none" ng-click="edit()"><i class="fa fa-edit fa-lg"></i></a>&nbsp; </span> <span ng-show="editing" class="text-nowrap"> <input type="{{keyType}}" ng-keyup="onKeyup($event)" ng-model="newKey"> <input type="{{valueType}}" ng-keyup="onKeyup($event)" ng-model="newValue"> <a href style="text-decoration:none" ng-click="add(values, newKey, newValue)"><i class="fa fa-plus fa-lg"></i></a> <a href style="text-decoration:none" ng-click="unedit()"><i class="fa fa-close fa-lg"></i></a> </span> <span ng-transclude></span> </span>')}]),e.exports=t},22:function(e,exports){var t="/home/epousa/dev/opennms/core/web-assets/src/main/assets/js/lib/onms-http/403-permission-denied.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<span> <div class="modal-header"> <h3><i class="fa fa-exclamation-triangle text-warning"></i> Permission Denied</h3> </div> <div class="modal-body"> <h5> You are not allowed to perform the requested action. </h5> <p class="text-muted"> This is not supposed to happen. Please reload the page and contact your administrator if this occurs more often. </p> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-click="reload()">Reload</button> </div> </span>')}]),e.exports=t},3:function(e,exports,t){"use strict";t(5);var angular=t(40);t(53),t(54),t(55),t(56),t(51),t(57),t(58),t(59),t(60),t(12),t(61),t(62),console.log("init: angular-js "+angular.version.full),e.exports=window.angular=angular},451:function(e,exports,t){"use strict";var a,o=(a=t(107))&&a.__esModule?a:{default:a};var angular=t(3);t(10);var r=function(e,t){var a=angular.isArray(e)?e:[e];return(0,o.default)(a).call(a,t)},n=function(e,t,a,o){return 204===a?[]:angular.isArray(e[o])?e[o]:[e[o]]};angular.module("onms.restResources",["onms.http","ngResource"]).factory("alarmFactory",["$resource","$log","$http","$location",function(e,t,a,o){return e("api/v2/alarms/:id",{id:"@id"},{query:{method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"alarm")}))},update:{method:"PUT"},queryProperties:{url:"api/v2/alarms/properties",method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"searchProperty")}))},queryPropertyValues:{url:"api/v2/alarms/properties/:id",method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"value")}))}})}]).factory("eventFactory",["$resource","$log","$http","$location",function(e,t,a,o){return e("api/v2/events/:id",{id:"@id"},{query:{method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"event")}))},update:{method:"PUT"},queryProperties:{url:"api/v2/events/properties",method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"searchProperty")}))},queryPropertyValues:{url:"api/v2/events/properties/:id",method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"value")}))}})}]).factory("minionFactory",["$resource","$log","$http","$location",function(e,t,a,o){return e("api/v2/minions/:id",{id:"@id"},{query:{method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"minion")}))},update:{method:"PUT"}})}]).factory("monitoringLocationFactory",["$resource","$log","$http","$location",function(e,t,a,o){return e("api/v2/monitoringLocations/:id",{},{query:{method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"location")}))},update:{method:"PUT"}})}]).factory("nodeFactory",["$resource","$log","$http","$location",function(e,t,a,o){return e("api/v2/nodes/:id",{id:"@id"},{query:{method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"node")}))},update:{method:"PUT"},queryProperties:{url:"api/v2/nodes/properties",method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"searchProperty")}))},queryPropertyValues:{url:"api/v2/nodes/properties/:id",method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"value")}))}})}]).factory("notificationFactory",["$resource","$log","$http","$location",function(e,t,a,o){return e("api/v2/notifications/:id",{id:"@id"},{query:{method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"notification")}))},update:{method:"PUT"},queryProperties:{url:"api/v2/notifications/properties",method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"searchProperty")}))},queryPropertyValues:{url:"api/v2/notifications/properties/:id",method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"value")}))}})}]).factory("outageFactory",["$resource","$log","$http","$location",function(e,t,a,o){return e("api/v2/outages/:id",{id:"@id"},{query:{method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"outage")}))},update:{method:"PUT"},queryProperties:{url:"api/v2/outages/properties",method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"searchProperty")}))},queryPropertyValues:{url:"api/v2/outages/properties/:id",method:"GET",isArray:!0,transformResponse:r(a.defaults.transformResponse,(function(e,t,a){return n(e,0,a,"value")}))}})}])},5:function(e,exports,t){"use strict";console.log("init: jquery-js");var jQuery=t(7);t(28),e.exports=jQuery},8:function(e,exports,t){"use strict";console.log("init: moment-js");var a=t(1);t(35),t(36),e.exports=a}},[[1019,0]]])}));
//# sourceMappingURL=monitoringLocation-elementList.min.js.map