import{aE as J,o as x,j as R,Q as Oe,aF as tt,r as S,V as P,b as q,aG as E,ay as B,s as nt,aH as N,aI as ye,v as M,w as X,aJ as be,_ as V,f as ee,d as Z,q as W,U as ge,aA as ot,c as H,u as _,k as u,aK as Me,D as j,J as re,t as O,B as C,z as Ne,I as Te,p as ke,l as we,L as G,M as ve,F as st,aL as Ie,aM as at,aN as Ae,aO as it,aP as lt,A as rt,aQ as Pe,aR as ut,aS as dt}from"./index.5d30604a.js";import{F as ct}from"./app.es.f303a0da.js";var pt=Object.defineProperty,mt=Object.defineProperties,ht=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertySymbols,Re=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,Ce=(e,n,t)=>n in e?pt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ft=(e,n)=>{for(var t in n||(n={}))Re.call(n,t)&&Ce(e,t,n[t]);if(ue)for(var t of ue(n))Ee.call(n,t)&&Ce(e,t,n[t]);return e},vt=(e,n)=>mt(e,ht(n)),yt=(e,n)=>{var t={};for(var o in e)Re.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&ue)for(var o of ue(e))n.indexOf(o)<0&&Ee.call(e,o)&&(t[o]=e[o]);return t};const bt={name:"splitpanes",emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click"],props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce((e,n)=>(e[n.id]=n)&&e,{})}},methods:{updatePaneComponents(){this.panes.forEach(e=>{e.update&&e.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[e.id].size}%`})})},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(e,n){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=n},onMouseMove(e){this.touch.mouseDown&&(e.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(e)),this.$emit("resize",this.panes.map(n=>({min:n.min,max:n.max,size:n.size}))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))),this.touch.mouseDown=!1,setTimeout(()=>{this.touch.dragging=!1,this.unbindEvents()},100)},onSplitterClick(e,n){"ontouchstart"in window&&(e.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===n?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(e,n),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=n,this.splitterTaps.timeoutId=setTimeout(()=>{this.splitterTaps.splitter=null},500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[n])},onSplitterDblClick(e,n){let t=0;this.panes=this.panes.map((o,s)=>(o.size=s===n?o.max:o.min,s!==n&&(t+=o.min),o)),this.panes[n].size-=t,this.$emit("pane-maximize",this.panes[n])},onPaneClick(e,n){this.$emit("pane-click",this.indexedPanes[n])},getCurrentMouseDrag(e){const n=this.container.getBoundingClientRect(),{clientX:t,clientY:o}="ontouchstart"in window&&e.touches?e.touches[0]:e;return{x:t-n.left,y:o-n.top}},getCurrentDragPercentage(e){e=e[this.horizontal?"y":"x"];const n=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(e=n-e),e*100/n},calculatePanesSize(e){const n=this.touch.activeSplitter;let t={prevPanesSize:this.sumPrevPanesSize(n),nextPanesSize:this.sumNextPanesSize(n),prevReachedMinPanes:0,nextReachedMinPanes:0};const o=0+(this.pushOtherPanes?0:t.prevPanesSize),s=100-(this.pushOtherPanes?0:t.nextPanesSize),a=Math.max(Math.min(this.getCurrentDragPercentage(e),s),o);let i=[n,n+1],l=this.panes[i[0]]||null,d=this.panes[i[1]]||null;const f=l.max<100&&a>=l.max+t.prevPanesSize,p=d.max<100&&a<=100-(d.max+this.sumNextPanesSize(n+1));if(f||p){f?(l.size=l.max,d.size=Math.max(100-l.max-t.prevPanesSize-t.nextPanesSize,0)):(l.size=Math.max(100-d.max-t.prevPanesSize-this.sumNextPanesSize(n+1),0),d.size=d.max);return}if(this.pushOtherPanes){const r=this.doPushOtherPanes(t,a);if(!r)return;({sums:t,panesToResize:i}=r),l=this.panes[i[0]]||null,d=this.panes[i[1]]||null}l!==null&&(l.size=Math.min(Math.max(a-t.prevPanesSize-t.prevReachedMinPanes,l.min),l.max)),d!==null&&(d.size=Math.min(Math.max(100-a-t.nextPanesSize-t.nextReachedMinPanes,d.min),d.max))},doPushOtherPanes(e,n){const t=this.touch.activeSplitter,o=[t,t+1];return n<e.prevPanesSize+this.panes[o[0]].min&&(o[0]=this.findPrevExpandedPane(t).index,e.prevReachedMinPanes=0,o[0]<t&&this.panes.forEach((s,a)=>{a>o[0]&&a<=t&&(s.size=s.min,e.prevReachedMinPanes+=s.min)}),e.prevPanesSize=this.sumPrevPanesSize(o[0]),o[0]===void 0)?(e.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((s,a)=>{a>0&&a<=t&&(s.size=s.min,e.prevReachedMinPanes+=s.min)}),this.panes[o[1]].size=100-e.prevReachedMinPanes-this.panes[0].min-e.prevPanesSize-e.nextPanesSize,null):n>100-e.nextPanesSize-this.panes[o[1]].min&&(o[1]=this.findNextExpandedPane(t).index,e.nextReachedMinPanes=0,o[1]>t+1&&this.panes.forEach((s,a)=>{a>t&&a<o[1]&&(s.size=s.min,e.nextReachedMinPanes+=s.min)}),e.nextPanesSize=this.sumNextPanesSize(o[1]-1),o[1]===void 0)?(e.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((s,a)=>{a<this.panesCount-1&&a>=t+1&&(s.size=s.min,e.nextReachedMinPanes+=s.min)}),this.panes[o[0]].size=100-e.prevPanesSize-e.nextReachedMinPanes-this.panes[this.panesCount-1].min-e.nextPanesSize,null):{sums:e,panesToResize:o}},sumPrevPanesSize(e){return this.panes.reduce((n,t,o)=>n+(o<e?t.size:0),0)},sumNextPanesSize(e){return this.panes.reduce((n,t,o)=>n+(o>e+1?t.size:0),0)},findPrevExpandedPane(e){return[...this.panes].reverse().find(t=>t.index<e&&t.size>t.min)||{}},findNextExpandedPane(e){return this.panes.find(t=>t.index>e+1&&t.size>t.min)||{}},checkSplitpanesNodes(){Array.from(this.container.children).forEach(n=>{const t=n.classList.contains("splitpanes__pane"),o=n.classList.contains("splitpanes__splitter");if(!t&&!o){n.parentNode.removeChild(n),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed.");return}})},addSplitter(e,n,t=!1){const o=e-1,s=document.createElement("div");s.classList.add("splitpanes__splitter"),t||(s.onmousedown=a=>this.onMouseDown(a,o),typeof window<"u"&&"ontouchstart"in window&&(s.ontouchstart=a=>this.onMouseDown(a,o)),s.onclick=a=>this.onSplitterClick(a,o+1)),this.dblClickSplitter&&(s.ondblclick=a=>this.onSplitterDblClick(a,o+1)),n.parentNode.insertBefore(s,n)},removeSplitter(e){e.onmousedown=void 0,e.onclick=void 0,e.ondblclick=void 0,e.parentNode.removeChild(e)},redoSplitters(){const e=Array.from(this.container.children);e.forEach(t=>{t.className.includes("splitpanes__splitter")&&this.removeSplitter(t)});let n=0;e.forEach(t=>{t.className.includes("splitpanes__pane")&&(!n&&this.firstSplitter?this.addSplitter(n,t,!0):n&&this.addSplitter(n,t),n++)})},requestUpdate(e){var n=e,{target:t}=n,o=yt(n,["target"]);const s=this.indexedPanes[t._.uid];Object.entries(o).forEach(([a,i])=>s[a]=i)},onPaneAdd(e){let n=-1;Array.from(e.$el.parentNode.children).some(s=>(s.className.includes("splitpanes__pane")&&n++,s===e.$el));const t=parseFloat(e.minSize),o=parseFloat(e.maxSize);this.panes.splice(n,0,{id:e._.uid,index:n,min:isNaN(t)?0:t,max:isNaN(o)?100:o,size:e.size===null?null:parseFloat(e.size),givenSize:e.size,update:e.update}),this.panes.forEach((s,a)=>s.index=a),this.ready&&this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[n]}),this.$emit("pane-add",{index:n,panes:this.panes.map(s=>({min:s.min,max:s.max,size:s.size}))})})},onPaneRemove(e){const n=this.panes.findIndex(o=>o.id===e._.uid),t=this.panes.splice(n,1)[0];this.panes.forEach((o,s)=>o.index=s),this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:vt(ft({},t),{index:n})}),this.$emit("pane-remove",{removed:t,panes:this.panes.map(o=>({min:o.min,max:o.max,size:o.size}))})})},resetPaneSizes(e={}){!e.addedPane&&!e.removedPane?this.initialPanesSizing():this.panes.some(n=>n.givenSize!==null||n.min||n.max<100)?this.equalizeAfterAddOrRemove(e):this.equalize(),this.ready&&this.$emit("resized",this.panes.map(n=>({min:n.min,max:n.max,size:n.size})))},equalize(){const e=100/this.panesCount;let n=0,t=[],o=[];this.panes.forEach(s=>{s.size=Math.max(Math.min(e,s.max),s.min),n-=s.size,s.size>=s.max&&t.push(s.id),s.size<=s.min&&o.push(s.id)}),n>.1&&this.readjustSizes(n,t,o)},initialPanesSizing(){100/this.panesCount;let e=100,n=[],t=[],o=0;this.panes.forEach(a=>{e-=a.size,a.size!==null&&o++,a.size>=a.max&&n.push(a.id),a.size<=a.min&&t.push(a.id)});let s=100;e>.1&&(this.panes.forEach(a=>{a.size===null&&(a.size=Math.max(Math.min(e/(this.panesCount-o),a.max),a.min)),s-=a.size}),s>.1&&this.readjustSizes(e,n,t))},equalizeAfterAddOrRemove({addedPane:e,removedPane:n}={}){let t=100/this.panesCount,o=0,s=[],a=[];e&&e.givenSize!==null&&(t=(100-e.givenSize)/(this.panesCount-1)),this.panes.forEach(i=>{o-=i.size,i.size>=i.max&&s.push(i.id),i.size<=i.min&&a.push(i.id)}),!(Math.abs(o)<.1)&&(this.panes.forEach(i=>{e&&e.givenSize!==null&&e.id===i.id||(i.size=Math.max(Math.min(t,i.max),i.min)),o-=i.size,i.size>=i.max&&s.push(i.id),i.size<=i.min&&a.push(i.id)}),o>.1&&this.readjustSizes(o,s,a))},readjustSizes(e,n,t){let o;e>0?o=e/(this.panesCount-n.length):o=e/(this.panesCount-t.length),this.panes.forEach((s,a)=>{if(e>0&&!n.includes(s.id)){const i=Math.max(Math.min(s.size+o,s.max),s.min);e-=i-s.size,s.size=i}else if(!t.includes(s.id)){const i=Math.max(Math.min(s.size+o,s.max),s.min);e-=i-s.size,s.size=i}s.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[s.id].size}%`})}),Math.abs(e)>.1&&this.$nextTick(()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(e){[...this.container.querySelectorAll(".splitpanes__splitter")].forEach((t,o)=>{t.ondblclick=e?s=>this.onSplitterDblClick(s,o):void 0})}},beforeUnmount(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(){return J("div",{ref:"container",class:["splitpanes",`splitpanes--${this.horizontal?"horizontal":"vertical"}`,{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default())}};var gt=(e,n)=>{const t=e.__vccOpts||e;for(const[o,s]of n)t[o]=s;return t};const _t={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeUnmount(){this.onPaneRemove(this)},methods:{update(e){this.style=e}},computed:{sizeNumber(){return this.size||this.size===0?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(e){this.requestUpdate({target:this,size:e})},minSizeNumber(e){this.requestUpdate({target:this,min:e})},maxSizeNumber(e){this.requestUpdate({target:this,max:e})}}};function St(e,n,t,o,s,a){return x(),R("div",{class:"splitpanes__pane",onClick:n[0]||(n[0]=i=>a.onPaneClick(i,e._.uid)),style:tt(e.style)},[Oe(e.$slots,"default")],4)}var xe=gt(_t,[["render",St]]);const Be=(e,n)=>{let t;return function(...o){const s=this;t&&clearTimeout(t),t=setTimeout(()=>{e.apply(s,o),t=null},n)}},Lt=e=>!e||typeof e.charAt!="function"?e:e.charAt(0).toUpperCase()+e.slice(1),Q=(e,n,t)=>{for(const o in t){const s="set"+Lt(o);e[s]?X(()=>t[o],(a,i)=>{e[s](a,i)}):n[s]&&X(()=>t[o],a=>{n[s](a)})}},te=e=>{const n={};for(const t in e)if(t.startsWith("on")&&!t.startsWith("onUpdate")&&t!=="onReady"){const o=t.slice(2).toLocaleLowerCase();n[o]=e[t]}return n},zt=async e=>{const n=await Promise.all([E(()=>import("./marker-icon-2x.e233d1a6.js"),[]),E(()=>import("./marker-icon.34d9a2d9.js"),[]),E(()=>import("./marker-shadow.ddd1f13b.js"),[])]);delete e.Default.prototype._getIconUrl,e.Default.mergeOptions({iconRetinaUrl:n[0].default,iconUrl:n[1].default,shadowUrl:n[2].default})},ie=e=>{const n=S(()=>console.warn(`Method ${e} has been invoked without being replaced`)),t=(...o)=>n.value(...o);return t.wrapped=n,N(e,t),t},le=(e,n)=>e.wrapped.value=n,$=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||void 0,Y="useGlobalLeaflet",ne={options:{type:Object,default:()=>({})}},oe=e=>({options:e.options,methods:{}}),je={...ne,pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},De=(e,n,t)=>{const o=P("addLayer"),s=P("removeLayer"),{options:a,methods:i}=oe(e),l={...a,attribution:e.attribution,pane:e.pane},d=()=>o({leafletObject:n.value}),f=()=>s({leafletObject:n.value}),p={...i,setAttribution(r,A){this.$parent.leafletObject.attributionControl.removeAttribution(A).addAttribution(r)},setName(){f(),e.visible&&d()},setLayerType(){f(),e.visible&&d()},setVisible(r){n.value&&(r?d():f())},bindPopup({leafletObject:r}){n.value.bindPopup(r)},bindTooltip({leafletObject:r}){n.value.bindTooltip(r)},unbindTooltip(){const r=n.value?n.value.getTooltip():null;r&&r.unbindTooltip()},unbindPopup(){const r=n.value?n.value.getPopup():null;r&&r.unbindPopup()},updateVisibleProp(r){t.emit("update:visible",r)}};return N("bindPopup",p.bindPopup),N("bindTooltip",p.bindTooltip),N("unbindTooltip",p.unbindTooltip),N("unbindPopup",p.unbindPopup),be(()=>{p.unbindPopup(),p.unbindTooltip(),f()}),{options:l,methods:p}},Mt=(e,n)=>{if(e&&n.default)return J("div",{style:{display:"none"}},n.default())},At={...ne,position:{type:String,default:"topright"}},Pt=(e,n)=>{const{options:t,methods:o}=oe(e),s={...t,position:e.position},a={...o,setPosition(i){n.value&&n.value.setPosition(i)}};return be(()=>{n.value&&n.value.remove()}),{options:s,methods:a}},Ct={...At,collapsed:{type:Boolean,default:!0},autoZIndex:{type:Boolean,default:!0},hideSingleBase:{type:Boolean,default:!1},sortLayers:{type:Boolean,default:!1},sortFunction:{type:Function,default:void 0}},xt=(e,n)=>{const{options:t}=Pt(e,n);return{options:{...t,collapsed:e.collapsed,autoZIndex:e.autoZIndex,hideSingleBase:e.hideSingleBase,sortLayers:e.sortLayers,sortFunction:e.sortFunction},methods:{addLayer(a){a.layerType==="base"?n.value.addBaseLayer(a.leafletObject,a.name):a.layerType==="overlay"&&n.value.addOverlay(a.leafletObject,a.name)},removeLayer(a){n.value.removeLayer(a.leafletObject)}}}};var Ue={name:"LControlLayers",props:Ct,setup(e,n){const t=S({}),o=P(Y),s=P("registerLayerControl"),{options:a,methods:i}=xt(e,t);return q(async()=>{const{control:l}=o?$.L:await E(()=>import("./index.5d30604a.js").then(d=>d.aX),["assets/index.5d30604a.js","assets/index.10acf9c5.css"]);t.value=l.layers(null,null,a),Q(i,t.value,e),s({...e,...i,leafletObject:t.value}),B(()=>n.emit("ready",t.value))}),{leafletObject:t.value}},render(){return null}};Ue.__file="src/components/LControlLayers.vue";const Ot={...je,pane:{type:String,default:"tilePane"},opacity:{type:Number,custom:!1,default:1},zIndex:{type:Number,default:1},tileSize:{type:Number,default:256},noWrap:{type:Boolean,default:!1},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:void 0}},Nt=(e,n,t)=>{const{options:o,methods:s}=De(e,n,t);return{options:{...o,pane:e.pane,opacity:e.opacity,zIndex:e.zIndex,tileSize:e.tileSize,noWrap:e.noWrap,minZoom:e.minZoom,maxZoom:e.maxZoom},methods:{...s}}},Tt={iconUrl:{type:String,custom:!0,default:null},iconRetinaUrl:{type:String,custom:!0,default:null},iconSize:{type:[Object,Array],custom:!0,default:null},iconAnchor:{type:[Object,Array],custom:!0,default:null},popupAnchor:{type:[Object,Array],custom:!0,default:()=>[0,0]},tooltipAnchor:{type:[Object,Array],custom:!0,default:()=>[0,0]},shadowUrl:{type:String,custom:!0,default:null},shadowRetinaUrl:{type:String,custom:!0,default:null},shadowSize:{type:[Object,Array],custom:!0,default:null},shadowAnchor:{type:[Object,Array],custom:!0,default:null},bgPos:{type:[Object,Array],custom:!0,default:()=>[0,0]},className:{type:String,custom:!0,default:""},options:{type:Object,custom:!0,default:()=>({})}};var qe={name:"LIcon",props:{...Tt,...ne},setup(e,n){const t=S(null),o=P(Y),s=P("canSetParentHtml"),a=P("setParentHtml"),i=P("setIcon");let l,d,f,p,r;const A=(L,k,w)=>{const I=L&&L.innerHTML;if(!k){w&&r&&s()&&a(I);return}const T=te(n.attrs);r&&d(r,T);const{options:D}=oe(e),c={...D,iconUrl:e.iconUrl,iconRetinaUrl:e.iconRetinaUrl,iconSize:e.iconSize,iconAnchor:e.iconAnchor,popupAnchor:e.popupAnchor,tooltipAnchor:e.tooltipAnchor,shadowUrl:e.shadowUrl,shadowRetinaUrl:e.shadowRetinaUrl,shadowSize:e.shadowSize,shadowAnchor:e.shadowAnchor,bgPos:e.bgPos,className:e.className,html:I||e.html};r=c.html?f(c):p(c),l(r,T),i(r)},v=()=>{B(()=>A(t.value,!0,!1))},y=()=>{B(()=>A(t.value,!1,!0))},m={setIconUrl:v,setIconRetinaUrl:v,setIconSize:v,setIconAnchor:v,setPopupAnchor:v,setTooltipAnchor:v,setShadowUrl:v,setShadowRetinaUrl:v,setShadowAnchor:v,setBgPos:v,setClassName:v,setHtml:v};return q(async()=>{const{DomEvent:L,divIcon:k,icon:w}=o?$.L:await E(()=>import("./index.5d30604a.js").then(T=>T.aX),["assets/index.5d30604a.js","assets/index.10acf9c5.css"]);l=L.on,d=L.off,f=k,p=w,Q(m,{},e),new MutationObserver(y).observe(t.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),v()}),{root:t}},render(){const e=this.$slots.default?this.$slots.default():void 0;return J("div",{ref:"root"},e)}};qe.__file="src/components/LIcon.vue";var Fe={emits:["ready","update:zoom","update:center","update:bounds"],props:{...ne,center:{type:[Object,Array],default:()=>[0,0]},bounds:{type:[Array,Object],default:void 0},maxBounds:{type:[Array,Object],default:void 0},zoom:{type:Number,default:0},minZoom:{type:Number,default:void 0},maxZoom:{type:Number,default:void 0},paddingBottomRight:{type:Array,default:void 0},paddingTopLeft:{type:Array,default:void 0},padding:{type:Array,default:void 0},worldCopyJump:{type:Boolean,default:!1},crs:{type:[String,Object],default:"EPSG3857"},maxBoundsViscosity:{type:Number,default:void 0},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number,default:void 0},inertiaMaxSpeed:{type:Number,default:void 0},easeLinearity:{type:Number,default:void 0},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number,default:void 0},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:!1},useGlobalLeaflet:{type:Boolean,default:!1}},setup(e,n){const t=S(null),o=nt({ready:!1,leafletRef:{},layersToAdd:[],layersInControl:[]}),{options:s}=oe(e),a={...s,minZoom:e.minZoom,maxZoom:e.maxZoom,maxBounds:e.maxBounds,maxBoundsViscosity:e.maxBoundsViscosity,worldCopyJump:e.worldCopyJump,crs:e.crs,center:e.center,zoom:e.zoom,inertia:e.inertia,inertiaDeceleration:e.inertiaDeceleration,inertiaMaxSpeed:e.inertiaMaxSpeed,easeLinearity:e.easeLinearity,zoomAnimation:e.zoomAnimation,zoomAnimationThreshold:e.zoomAnimationThreshold,fadeAnimation:e.fadeAnimation,markerZoomAnimation:e.markerZoomAnimation},i=ie("addLayer"),l=ie("removeLayer"),d=ie("registerControl"),f=ie("registerLayerControl");N(Y,e.useGlobalLeaflet);const p={moveEndHandler(){n.emit("update:zoom",o.leafletRef.getZoom()),n.emit("update:center",o.leafletRef.getCenter()),n.emit("update:bounds",o.leafletRef.getBounds())},overlayAddHandler(v){const y=o.layersInControl.find(m=>m.name===v.name);y&&y.updateVisibleProp(!0)},overlayRemoveHandler(v){const y=o.layersInControl.find(m=>m.name===v.name);y&&y.updateVisibleProp(!1)}};q(async()=>{e.useGlobalLeaflet&&($.L=$.L||await E(()=>import("./index.5d30604a.js").then(c=>c.aX),["assets/index.5d30604a.js","assets/index.10acf9c5.css"]));const{map:v,CRS:y,Icon:m,latLngBounds:L,latLng:k,DomEvent:w}=e.useGlobalLeaflet?$.L:await E(()=>import("./index.5d30604a.js").then(c=>c.aX),["assets/index.5d30604a.js","assets/index.10acf9c5.css"]);try{a.beforeMapMount&&await a.beforeMapMount()}catch(c){console.error(`The following error occurred running the provided beforeMapMount hook ${c.message}`)}await zt(m);const I=typeof a.crs=="string"?y[a.crs]:a.crs;a.crs=I||y.EPSG3857;const T={addLayer(c){c.layerType!==void 0&&(o.layerControl===void 0?o.layersToAdd.push(c):o.layersInControl.find(U=>U.leafletObject._leaflet_id===c.leafletObject._leaflet_id)||(o.layerControl.addLayer(c),o.layersInControl.push(c))),c.visible!==!1&&o.leafletRef.addLayer(c.leafletObject)},removeLayer(c){c.layerType!==void 0&&(o.layerControl===void 0?o.layersToAdd=o.layersToAdd.filter(z=>z.name!==c.name):(o.layerControl.removeLayer(c.leafletObject),o.layersInControl=o.layersInControl.filter(z=>z.leafletObject._leaflet_id!==c.leafletObject._leaflet_id))),o.leafletRef.removeLayer(c.leafletObject)},registerLayerControl(c){o.layerControl=c,o.layersToAdd.forEach(z=>{o.layerControl.addLayer(z)}),o.layersToAdd=[],d(c)},registerControl(c){o.leafletRef.addControl(c.leafletObject)},setZoom(c){const z=o.leafletRef.getZoom();c!==z&&o.leafletRef.setZoom(c,{animate:e.noBlockingAnimations?!1:null})},setPaddingBottomRight(c){o.paddingBottomRight=c},setPaddingTopLeft(c){o.paddingTopLeft=c},setPadding(c){o.padding=c},setCrs(c){const z=o.leafletRef.getBounds();o.leafletRef.options.crs=c,o.leafletRef.fitBounds(z,{animate:!1,padding:[0,0]})},fitBounds(c){o.leafletRef.fitBounds(c,{animate:this.noBlockingAnimations?!1:null})},setBounds(c){if(!c)return;const z=L(c);if(!z.isValid())return;!(o.lastSetBounds||o.leafletRef.getBounds()).equals(z,0)&&(o.lastSetBounds=z,o.leafletRef.fitBounds(z,this.fitBoundsOptions))},setCenter(c){if(c==null)return;const z=k(c),U=o.lastSetCenter||o.leafletRef.getCenter();(U.lat!==z.lat||U.lng!==z.lng)&&(o.lastSetCenter=z,o.leafletRef.panTo(z,{animate:this.noBlockingAnimations?!1:null}))}};le(i,T.addLayer),le(l,T.removeLayer),le(d,T.registerControl),le(f,T.registerLayerControl),o.leafletRef=v(t.value,a),Q(T,o.leafletRef,e);const D=te(n.attrs);o.leafletRef.on("moveend",Be(p.moveEndHandler,100)),o.leafletRef.on("overlayadd",p.overlayAddHandler),o.leafletRef.on("overlayremove",p.overlayRemoveHandler),w.on(o.leafletRef,D),o.ready=!0,B(()=>n.emit("ready",o.leafletRef))}),ye(()=>{o.leafletRef&&o.leafletRef.remove()});const r=M(()=>o.leafletRef),A=M(()=>o.ready);return{root:t,ready:A,leafletObject:r}},render(){return J("div",{style:{width:"100%",height:"100%"},ref:"root"},this.ready?this.$slots.default():{})}};Fe.__file="src/components/LMap.vue";const kt={...je,pane:{type:String,default:"markerPane"},draggable:{type:Boolean,custom:!0,default:!1},latLng:{type:[Object,Array],custom:!0,default:null},icon:{type:[Object],default:()=>{},custom:!1},zIndexOffset:{type:Number,custom:!1,default:null}},wt=(e,n,t)=>{const{options:o,methods:s}=De(e,n,t),a={...o,...e},i={...s,setDraggable(l){n.value.dragging&&(l?n.value.dragging.enable():n.value.dragging.disable())},latLngSync(l){t.emit("update:latLng",l.latlng),t.emit("update:lat-lng",l.latlng)},setLatLng(l){if(l!=null&&n.value){const d=n.value.getLatLng();(!d||!d.equals(l))&&n.value.setLatLng(l)}}};return{options:a,methods:i}};var $e={name:"LMarker",props:kt,setup(e,n){const t=S({}),o=S(!1),s=P(Y),a=P("addLayer");N("canSetParentHtml",()=>!!t.value.getElement()),N("setParentHtml",d=>t.value.getElement().innerHTML=d),N("setIcon",d=>t.value.setIcon&&t.value.setIcon(d));const{options:i,methods:l}=wt(e,t,n);return i.icon===void 0&&delete i.icon,q(async()=>{const{marker:d,DomEvent:f}=s?$.L:await E(()=>import("./index.5d30604a.js").then(r=>r.aX),["assets/index.5d30604a.js","assets/index.10acf9c5.css"]);t.value=d(e.latLng,i);const p=te(n.attrs);f.on(t.value,p),t.value.on("move",Be(l.latLngSync,100)),Q(l,t.value,e),a({...e,...l,leafletObject:t.value}),o.value=!0,B(()=>n.emit("ready",t.value))}),{ready:o,leafletObject:t}},render(){return Mt(this.ready,this.$slots)}};$e.__file="src/components/LMarker.vue";const It={...ne,content:{type:String,default:null}},Rt=(e,n)=>{const{options:t,methods:o}=oe(e),s={...o,setContent(a){n.value&&a!==null&&a!==void 0&&n.value.setContent(a)}};return{options:t,methods:s}},Et=e=>e.default?J("div",{ref:"root"},e.default()):null,Bt={...It,latLng:{type:[Object,Array],default:()=>[]}},jt=(e,n)=>{const{options:t,methods:o}=Rt(e,n),s=P("unbindPopup");return ye(()=>{s()}),{options:t,methods:o}};var Ve={name:"LPopup",props:Bt,setup(e,n){const t=S({}),o=S(null),s=P(Y),a=P("bindPopup"),{options:i,methods:l}=jt(e,t);return q(async()=>{const{popup:d,DomEvent:f}=s?$.L:await E(()=>import("./index.5d30604a.js").then(r=>r.aX),["assets/index.5d30604a.js","assets/index.10acf9c5.css"]);t.value=d(i),e.latLng!==void 0&&t.value.setLatLng(e.latLng),Q(l,t.value,e);const p=te(n.attrs);f.on(t.value,p),t.value.setContent(e.content||o.value),a({leafletObject:t.value}),B(()=>n.emit("ready",t.value))}),{root:o,leafletObject:t}},render(){return Et(this.$slots)}};Ve.__file="src/components/LPopup.vue";const Ze={...Ot,tms:{type:Boolean,default:!1},subdomains:{type:String,default:"abc"},detectRetina:{type:Boolean,default:!1},url:{type:String,default:null}},Dt=(e,n)=>{const{options:t,methods:o}=Nt(e,n);return{options:{...t,tms:e.tms,subdomains:e.subdomains,detectRetina:e.detectRetina},methods:{...o}}};var Ge={props:Ze,setup(e,n){const t=S({}),o=P(Y),s=P("addLayer"),{options:a,methods:i}=Dt(e,t);return q(async()=>{const{tileLayer:l,DomEvent:d}=o?$.L:await E(()=>import("./index.5d30604a.js").then(p=>p.aX),["assets/index.5d30604a.js","assets/index.10acf9c5.css"]);t.value=l(e.url,a);const f=te(n.attrs);d.on(t.value,f),Q(i,t.value,e),s({...e,...i,leafletObject:t.value}),B(()=>n.emit("ready",t.value))}),{leafletObject:t}},render(){return null}};Ge.__file="src/components/LTileLayer.vue";({...Ze});const Ut=e=>!e||typeof e.charAt!="function"?e:e.charAt(0).toUpperCase()+e.slice(1),qt=(e,n,t)=>{for(const o in t){const s="set"+Ut(o);e[s]?X(()=>t[o],(a,i)=>{e[s](a,i)}):n[s]&&X(()=>t[o],a=>{n[s](a)})}},Ft=e=>{const n={};for(const t in e)if(t.startsWith("on")&&!t.startsWith("onUpdate")&&t!=="onReady"){const o=t.slice(2).toLocaleLowerCase();n[o]=e[t]}return n},$t={options:{type:Object,default:()=>({})}},Vt=e=>({options:e.options,methods:{}});({...$t});const Zt=(e,n,t)=>{const o=P("addLayer"),s=P("removeLayer"),{options:a,methods:i}=Vt(e),l={...a,attribution:e.attribution,pane:e.pane},d=()=>o({leafletObject:n.value}),f=()=>s({leafletObject:n.value}),p={...i,setAttribution(r,A){this.$parent.leafletObject.attributionControl.removeAttribution(A).addAttribution(r)},setName(){f(),e.visible&&d()},setLayerType(){f(),e.visible&&d()},setVisible(r){n.value&&(r?d():f())},bindPopup({leafletObject:r}){n.value.bindPopup(r)},bindTooltip({leafletObject:r}){n.value.bindTooltip(r)},unbindTooltip(){const r=n.value?n.value.getTooltip():null;r&&r.unbindTooltip()},unbindPopup(){const r=n.value?n.value.getPopup():null;r&&r.unbindPopup()},updateVisibleProp(r){t.emit("update:visible",r)}};return N("bindPopup",p.bindPopup),N("bindTooltip",p.bindTooltip),N("unbindTooltip",p.unbindTooltip),N("unbindPopup",p.unbindPopup),be(()=>{p.unbindPopup(),p.unbindTooltip(),f()}),{options:l,methods:p}},Gt=(e,n)=>{if(e&&n.default)return J("div",{style:{display:"none"}},n.default())},Ht={options:{type:Object,default(){return{}}},onClusterClick:{type:Function}},Jt={name:"MarkerCluster",props:Ht,setup(e,n){const t=S({}),o=S(!1),s=P("addLayer"),a=P("removeLayer");N("canSetParentHtml",()=>!!t.value.getElement()),N("setParentHtml",l=>t.value.getElement().innerHTML=l),N("addLayer",l=>{t.value.addLayer(l.leafletObject)}),N("removeLayer",l=>{t.value.removeLayer(l.leafletObject)});const{methods:i}=Zt(e,t,n);return q(async()=>{const{bind:l,Browser:d,DivIcon:f,DomEvent:p,DomUtil:r,extend:A,FeatureGroup:v,featureGroup:y,Icon:m,LatLng:L,LatLngBounds:k,LayerGroup:w,Map:I,Marker:T,Path:D,Point:c,Polygon:z,Polyline:U,popup:se,Util:de}=await E(()=>import("./index.5d30604a.js").then(K=>K.aX),["assets/index.5d30604a.js","assets/index.10acf9c5.css"]),ce={bind:l,Browser:d,DivIcon:f,DomUtil:r,extend:A,FeatureGroup:v,featureGroup:y,Icon:m,LatLng:L,LatLngBounds:k,LayerGroup:w,Map:I,Marker:T,Path:D,Point:c,Polygon:z,Polyline:U,popup:se,Util:de};window.L=ce;const{MarkerClusterGroup:pe}=await E(()=>import("./leaflet.markercluster-src.1e1a5850.js").then(K=>K.l),["assets/leaflet.markercluster-src.1e1a5850.js","assets/index.5d30604a.js","assets/index.10acf9c5.css"]);t.value=new pe(e.options);const me=Ft(n.attrs);p.on(t.value,me),e.onClusterClick&&t.value.on("clusterclick",e.onClusterClick),qt(i,t.value,e),s({...e,...i,leafletObject:t.value}),o.value=!0,B(()=>n.emit("ready",t.value))}),ye(()=>t.value&&t.value._leaflet_id&&a({leafletObject:t.value})),{ready:o,leafletObject:t}},render(){return Gt(this.ready,this.$slots)}},Wt={style:{display:"none"}};function Qt(e,n,t,o,s,a){return x(),R("div",Wt,[o.ready?Oe(e.$slots,"default",{key:0}):ee("",!0)])}const Yt=V(Jt,[["render",Qt]]),fe="/opennms/ui/assets/Normal-icon.0e94c8ca.png",Kt="data:image/png;base64,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",Xt="/opennms/ui/assets/Minor-icon.53cd1fc7.png",en="/opennms/ui/assets/Major-icon.2196b275.png",tn="/opennms/ui/assets/Critical-icon.df48b92c.png",nn=Z({__name:"MapSearch",emits:["fly-to-node","set-bounding-box"],setup(e,{emit:n}){const t=W(),o=S(),s=S(!1),a=S(!1),i={noResults:"Searching..."},l=S(i),d=y=>{const m=y.map(L=>L.label);t.dispatch("mapModule/setSearchedNodeLabels",m),m.length&&(m.length===1?n("fly-to-node",m[0]):n("set-bounding-box",m))},f=y=>{l.value=i,p(y)},p=ge.exports.debounce(async y=>{!y||(s.value=!0,await t.dispatch("searchModule/search",y),l.value={noResults:"No results found"},s.value=!1)},1e3),r=M(()=>t.state.searchModule.searchResults[0]?t.state.searchModule.searchResults[0].results:[]),A=M(()=>t.state.mapModule.nodeSearchTerm),v=y=>{if(a.value){a.value=!1;const m=y?.[0].label;m&&d([{label:m}])}};return ot(async()=>{A.value&&(l.value=i,o.value=[{label:A.value}],s.value=!0,a.value=!0,await t.dispatch("searchModule/search",A.value),l.value={noResults:"No results found"},s.value=!1)}),X(r,y=>{v(y)}),(y,m)=>(x(),H(_(ct),{modelValue:o.value,"onUpdate:modelValue":[m[0]||(m[0]=L=>o.value=L),d],type:"multi",results:_(r),label:"Search",class:"map-search",onSearch:f,loading:s.value,hideLabel:!0,"text-prop":"label",labels:l.value},null,8,["modelValue","results","loading","labels"]))}});const on=V(nn,[["__scopeId","data-v-8d368403"]]);var sn=(e,n)=>{const t=e.__vccOpts||e;for(const[o,s]of n)t[o]=s;return t};const an={},ln={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},rn=u("path",{d:"M12,2A7,7,0,0,0,5,9c0,5.25,7,13,7,13s7-7.75,7-13A7,7,0,0,0,12,2ZM7,9A5,5,0,0,1,17,9c0,2.88-2.88,7.19-5,9.88C9.92,16.21,7,11.85,7,9Z"},null,-1),un=u("circle",{cx:"12",cy:"9",r:"2"},null,-1),dn=[rn,un];function cn(e,n){return x(),R("svg",ln,dn)}var He=sn(an,[["render",cn]]);const F=e=>(ke("data-v-1eea9b56"),e=e(),we(),e),pn=["href"],mn={class:"larger-icon"},hn=F(()=>u("br",null,null,-1)),fn=["href"],vn=F(()=>u("br",null,null,-1)),yn=F(()=>u("br",null,null,-1)),bn={class:"flex"},gn=F(()=>u("div",null,"IP Address:",-1)),_n={class:"flex"},Sn=F(()=>u("div",null,"IP Address:",-1)),Ln={class:"flex"},zn=F(()=>u("div",null,"Description:",-1)),Mn={class:"flex"},An=F(()=>u("div",null,"Maint. Contract:",-1)),Pn={class:"flex"},Cn=F(()=>u("div",null,"Severity:",-1)),xn={class:"flex"},On=F(()=>u("div",null,"Category:",-1)),Nn=Z({__name:"MarkerPopup",props:{baseHref:{type:Object},baseNodeUrl:{type:Object},node:{type:Object,default:()=>{}},ipAddress:{type:Object},nodeLabelToAlarmSeverity:{type:Function,required:!0}},setup(e){const n=e,t=M(()=>Me(n.node.assetRecord.latitude,6)),o=M(()=>Me(n.node.assetRecord.longitude,6)),s=a=>`${n.baseHref}topology?provider=Enhanced Linkd&focus-vertices=${a.id}`;return(a,i)=>(x(),H(_(Ve),null,{default:j(()=>[u("h3",null,[re("Node: "),u("a",{href:`${e.baseNodeUrl}${e.node.id}`,target:"_blank"},O(e.node.label),9,pn)]),u("span",mn,[C(_(Ne),{icon:_(He)},null,8,["icon"])]),re(" "+O(_(t))+", "+O(_(o))+" ",1),hn,u("a",{href:s(e.node)},"View in Topology Map",8,fn),vn,yn,u("div",bn,[gn,u("div",null,O(e.ipAddress||"N/A"),1)]),u("div",_n,[Sn,u("div",null,O(e.ipAddress||"N/A"),1)]),u("div",Ln,[zn,u("div",null,O(e.node.assetRecord.description||"N/A"),1)]),u("div",Mn,[An,u("div",null,O(e.node.assetRecord.maintcontract||"N/A"),1)]),u("div",Pn,[Cn,u("div",null,[u("span",{class:Te(["alarm-severity",`${e.nodeLabelToAlarmSeverity(e.node.label)}`])},O(e.nodeLabelToAlarmSeverity(e.node.label)),3)])]),u("div",xn,[On,u("div",null,O(e.node.categories.length?e.node.categories[0].name:"N/A"),1)])]),_:1}))}});const Tn=V(Nn,[["__scopeId","data-v-1eea9b56"]]),_e=e=>(ke("data-v-175f9630"),e=e(),we(),e),kn={key:0,class:"marker-cluster-popup",ref:"clusterPopupContent"},wn={class:"marker-cluster-popup-content"},In=_e(()=>u("br",null,null,-1)),Rn={class:"marker-cluster-header-info"},En={class:"col"},Bn={class:"larger-icon"},jn={class:"col"},Dn=["href"],Un=_e(()=>u("br",null,null,-1)),qn={id:"wrap"},Fn=_e(()=>u("thead",null,[u("th",null,"Node"),u("th",null,"IP Address"),u("th",null,"Status")],-1)),$n=["href"],Vn=Z({__name:"MarkerClusterPopupContent",props:{cluster:{type:Object,default:()=>{}},ipListForNode:{type:Function,required:!0}},setup(e){const n=e,t=W(),o=M(()=>t.state.menuModule.mainMenu),s=M(()=>`${o.value.baseHref}${o.value.baseNodeUrl}`),a=M(()=>t.getters["mapModule/getNodes"]),i=M(()=>t.getters["mapModule/getNodeAlarmSeverityMap"]),l=M(()=>n.cluster.getLatLng().lat.toFixed(6)),d=M(()=>n.cluster.getLatLng().lng.toFixed(6)),f=v=>n.ipListForNode(v).map(m=>m?.ipAddress).join(", ")||"N/A",p=v=>{const y=v.options.name;return a.value.find(m=>m.label===y)||null},r=()=>{const y=n.cluster.getAllChildMarkers().map(m=>p(m)?.id||"").filter(m=>m.length>0).join(",");return`${o.value.baseHref}topology?provider=Enhanced Linkd&focus-vertices=${y}`},A=()=>{const m=n.cluster.getAllChildMarkers().map(L=>p(L)).filter(L=>L!==null).map(L=>{const k=L?.id||"",w=k&&`${s.value}${k}`||"#",I=L?.assetRecord?.description||"N/A",T=i.value[L?.label||""],D=f(L);return{name:L?.label||"",description:I,id:k,ipAddress:D,link:w,severity:T}});return ge.exports.orderBy(m,"name","asc")};return(v,y)=>e.cluster?(x(),R("div",kn,[u("div",wn,[u("h3",null,"Nodes: "+O(e.cluster.getChildCount()),1),In,u("div",Rn,[u("div",En,[u("span",Bn,[C(_(Ne),{icon:_(He)},null,8,["icon"])]),u("span",null,O(_(l))+", "+O(_(d)),1)]),u("div",jn,[u("span",null,[u("a",{href:r()},"View in Topology Map",8,Dn)])])]),Un,u("div",qn,[u("table",null,[Fn,u("tbody",null,[(x(!0),R(G,null,ve(A(),m=>(x(),R("tr",{key:m.name},[u("td",null,[u("a",{href:m.link},O(m.name),9,$n)]),u("td",null,O(m.ipAddress),1),u("td",null,[u("div",{class:Te(["alarm-severity",`${m.severity||"NORMAL"}`])},[u("span",null,O(m.severity||"NORMAL"),1)],2)])]))),128))])])])])],512)):ee("",!0)}});const Zn=V(Vn,[["__scopeId","data-v-175f9630"]]),Gn=Z({__name:"SeverityFilter",setup(e){const n=W(),t=[{id:"NORMAL",option:"Normal"},{id:"WARNING",option:"Warning"},{id:"MINOR",option:"Minor"},{id:"MAJOR",option:"Major"},{id:"CRITICAL",option:"Critical"}],o=S(t[0]),s=()=>n.dispatch("mapModule/setSelectedSeverity",o.value.id);return(a,i)=>(x(),H(_(st),{class:"severity-select",modelValue:o.value,"onUpdate:modelValue":[i[0]||(i[0]=l=>o.value=l),s],options:t,"text-prop":"option",label:"Show Severity >="},null,8,["modelValue"]))}});const Hn={class:"geo-map"},Jn={class:"marker-cluster-popup-hide"},Wn=Z({__name:"LeafletMap",setup(e,{expose:n}){const t=W(),o=S(),s=Ie(),a=S(!1),i=S({}),l=S(!1),d=S(),f=S(),p=S(2),v=[25,42],y=M(()=>["latitude","longitude"].map(h=>t.state.mapModule.mapCenter[h])),m=M(()=>t.getters["mapModule/getNodes"]),L=M(()=>t.state.mapModule.nodesWithCoordinates),k=M(()=>{const h=he.value;return m.value.map(b=>h.get(b.id))}),w=M(()=>t.getters["mapModule/getNodeAlarmSeverityMap"]),I=M(()=>t.state.menuModule.mainMenu),T=M(()=>`${I.value.baseHref}${I.value.baseNodeUrl}`),D=M(()=>t.state.ipInterfacesModule.ipInterfaces),c=M(()=>{const h=new Map;for(let b of D.value){const g=b.nodeId.toString();h.has(g)?h.get(g)?.push(b):h.set(g,[b])}return h}),z=h=>{const b=h?.id||"";return b&&c.value.get(b)||[]},U=h=>{const b=z(h);return b.length>0&&b[0].ipAddress||""},se=h=>w.value[h]||"NORMAL",de=h=>{let b="NORMAL";for(const g of h)Ae(g)>Ae(b)&&(b=g);return b},ce=h=>{const b=h.getAllChildMarkers(),g=[];for(const et of b){const ze=w.value[et.options.name];ze&&g.push(ze)}const ae=de(g);return at({html:`<span class=${ae}>`+h.getChildCount()+"</span>"})},pe=async h=>{const b=h.layer;await me(b),K(b)},me=async h=>{f.value=h,l.value=!0,await B()},K=h=>{const b=d.value.$refs.clusterPopupContent.innerHTML,g={};window.L.popup(g).setLatLng(h.getLatLng()).setContent(b).openOn(o.value.leafletObject)},Je=h=>We(w.value[h.label]),We=h=>{if(h)switch(h.toUpperCase()){case"NORMAL":return fe;case"WARNING":return Kt;case"MINOR":return Xt;case"MAJOR":return en;case"CRITICAL":return tn;default:return fe}return fe},he=M(()=>{const h=new Map;return L.value.forEach(b=>{h.set(b.id,[b.assetRecord.latitude,b.assetRecord.longitude]),h.set(b.label,[b.assetRecord.latitude,b.assetRecord.longitude])}),h}),Qe=async()=>{if(await B(),i.value=o.value.leafletObject,i.value!=null&&i.value!=null){i.value.zoomControl.setPosition("topright"),a.value=!0,await B(),t.dispatch("mapModule/setMapBounds",i.value.getBounds());try{i.value.fitBounds(k.value)}catch(h){console.log(h,`Invalid bounds array: ${k.value}`)}s.query.nodeid&&Se(s.query.nodeid)}},Ye=()=>{p.value=i.value.getZoom(),t.dispatch("mapModule/setMapBounds",i.value.getBounds())},Se=h=>{const g=he.value.get(h);g&&i.value.flyTo(g,7)},Ke=h=>{const b=he.value,g=h.map(ae=>b.get(ae));g.length&&i.value.fitBounds(g)},Le=()=>i.value.invalidateSize(),Xe=[{name:"OpenStreetMap",visible:!0,attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},{name:"OpenTopoMap",visible:!1,url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:'Map data: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}];return q(async()=>{t.dispatch("mapModule/getNodes"),t.dispatch("nodesModule/getNodes"),t.dispatch("ipInterfacesModule/getAllIpInterfaces")}),n({invalidateSizeFn:Le}),(h,b)=>(x(),R(G,null,[u("div",Hn,[C(on,{class:"search-bar",onFlyToNode:Se,onSetBoundingBox:Ke}),C(Gn),C(_(Fe),{ref_key:"map",ref:o,center:_(y),"max-zoom":19,"min-zoom":2,zoomAnimation:!0,onReady:Qe,onMoveend:Ye,onZoom:Le},{default:j(()=>[a.value?(x(),R(G,{key:0},[C(_(Ue)),(x(),R(G,null,ve(Xe,g=>C(_(Ge),{key:g.name,name:g.name,visible:g.visible,url:g.url,attribution:g.attribution,"layer-type":"base"},null,8,["name","visible","url","attribution"])),64)),C(Yt,{options:{showCoverageOnHover:!0,chunkedLoading:!0,disableClusteringAtZoom:19,zoomToBoundsOnClick:!1,iconCreateFunction:ce},onClusterClick:pe},{default:j(()=>[(x(!0),R(G,null,ve(_(m),g=>(x(),H(_($e),{key:g.label,"lat-lng":[g.assetRecord.latitude,g.assetRecord.longitude],name:g.label},{default:j(()=>[C(Tn,{baseHref:_(I).baseHref,baseNodeUrl:_(T),node:g,ipAddress:U(g),nodeLabelToAlarmSeverity:se},null,8,["baseHref","baseNodeUrl","node","ipAddress"]),C(_(qe),{"icon-url":Je(g),"icon-size":v},null,8,["icon-url"])]),_:2},1032,["lat-lng","name"]))),128))]),_:1},8,["options"])],64)):ee("",!0)]),_:1},8,["center"])]),u("div",Jn,[l.value?(x(),H(Zn,{key:0,cluster:f.value,ipListForNode:z,ref_key:"clusterPopupContent",ref:d},null,8,["cluster"])):ee("",!0)])],64))}});const Qn=V(Wn,[["__scopeId","data-v-757d402b"]]),Yn=Z({__name:"GridTabs",setup(e){const n=W(),t=it(),o=Ie(),s=M(()=>n.getters["mapModule/getNodes"]),a=M(()=>n.getters["mapModule/getAlarms"]),i=S(),l=S(),d=()=>t.push(`/map${o.query.nodeid?"?nodeid="+o.query.nodeid:""}`),f=()=>t.push("/map/nodes");return lt(()=>{t.currentRoute.value.name==="MapAlarms"?i.value.tab.click():l.value.tab.click()}),(p,r)=>{const A=rt("router-view");return x(),R(G,null,[C(_(ut),{class:"tabs"},{tabs:j(()=>[C(_(Pe),{ref_key:"alarmTab",ref:i,onClick:d},{default:j(()=>[re("Alarms("+O(_(a).length)+")",1)]),_:1},512),C(_(Pe),{ref_key:"nodesTab",ref:l,onClick:f},{default:j(()=>[re("Nodes("+O(_(s).length)+")",1)]),_:1},512)]),_:1}),C(A)],64)}}});const Kn=V(Yn,[["__scopeId","data-v-87e1b978"]]),Xn={class:"feather-row"},eo={class:"feather-col-12"},to={name:"MapKeepAlive"},no=Z({...to,setup(e){const n=W(),{startSpinner:t,stopSpinner:o}=dt(),s=S(),a=S(!1),i=S(),l=ge.exports.debounce(()=>i.value.invalidateSizeFn(),200),d=()=>{s.value.panes[0].size=96,s.value.panes[1].size=4,l()};return q(async()=>{t(),await n.dispatch("mapModule/getNodes"),await n.dispatch("mapModule/getAlarms"),o(),l(),a.value=!0}),(f,p)=>(x(),R("div",Xn,[u("div",eo,[C(_(bt),{"dbl-click-splitter":!0,onPaneMaximize:d,class:"default-theme",horizontal:"",style:{height:"calc(100vh - 80px)"},ref_key:"split",ref:s,onResize:_(l)},{default:j(()=>[C(_(xe),{"min-size":"1","max-size":"100",size:72},{default:j(()=>[a.value?(x(),H(Qn,{key:0,ref_key:"leafletComponent",ref:i},null,512)):ee("",!0)]),_:1}),C(_(xe),{"min-size":"1","max-size":"100",size:28,class:"bottom-pane"},{default:j(()=>[C(Kn)]),_:1})]),_:1},8,["onResize"])])]))}});const ao=V(no,[["__scopeId","data-v-b25c70f8"]]);export{ao as default};
