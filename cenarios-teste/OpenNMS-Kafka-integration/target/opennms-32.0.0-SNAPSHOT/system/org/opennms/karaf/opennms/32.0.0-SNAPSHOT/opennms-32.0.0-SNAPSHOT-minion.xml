<?xml version="1.0" encoding="UTF-8"?>
<features 
  name="minion-32.0.0-SNAPSHOT"
  xmlns="http://karaf.apache.org/xmlns/features/v1.4.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://karaf.apache.org/xmlns/features/v1.4.0 http://karaf.apache.org/xmlns/features/v1.4.0"
>
    <!-- OpenNMS Features -->
    <repository>mvn:org.opennms.karaf/opennms/32.0.0-SNAPSHOT/xml/core</repository>
    <repository>mvn:org.opennms.karaf/opennms/32.0.0-SNAPSHOT/xml/features</repository>

    <feature name="minion-core-api" description="OpenNMS :: Distributed :: Core :: API" version="32.0.0-SNAPSHOT">
      <feature>opennms-distributed-core-api</feature>
    </feature>

    <feature name="opennms-dao-minion" description="OpenNMS :: DAO :: Minion" version="32.0.0-SNAPSHOT">
      <feature>minion-core-api</feature>
      <feature>opennms-dao-api</feature>
      <bundle>mvn:org.opennms.features.distributed/org.opennms.features.distributed.dao-distributed/32.0.0-SNAPSHOT</bundle>
    </feature>

    <feature name="opennms-trapd-listener" description="OpenNMS :: Trapd :: Listener" version="32.0.0-SNAPSHOT">
      <feature>minion-core-api</feature>
      <feature>opennms-dao-minion</feature>
      <feature>opennms-trapd</feature>
      <feature>opennms-core-ipc-sink-api</feature>
    </feature>

    <feature name="minion-heartbeat-producer" description="OpenNMS :: Minion :: Heartbeat Producer" version="32.0.0-SNAPSHOT">
      <feature version="25.1.0">guava</feature>
      <feature>minion-core-api</feature>
      <feature>opennms-core</feature>
      <feature>opennms-core-ipc-sink-api</feature>
      <bundle>mvn:org.opennms.features.minion.heartbeat/org.opennms.features.minion.heartbeat.common/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.minion.heartbeat/org.opennms.features.minion.heartbeat.producer/32.0.0-SNAPSHOT</bundle>
    </feature>

    <feature name="minion-snmp-proxy" description="OpenNMS :: Minion :: SNMP Proxy" version="32.0.0-SNAPSHOT">
      <feature>opennms-core-ipc-rpc-api</feature>
      <feature>opennms-config-api</feature>
      <feature>opennms-model</feature>
      <bundle>mvn:org.opennms.core.snmp/org.opennms.core.snmp.api/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.core.snmp/org.opennms.core.snmp.proxy.rpc-impl/32.0.0-SNAPSHOT</bundle>
    </feature>

    <feature name="minion-icmp-proxy" description="OpenNMS :: Minion :: ICMP Proxy" version="32.0.0-SNAPSHOT">
        <feature>opennms-core-ipc-rpc-api</feature>
        <feature>opennms-model</feature>

        <bundle>mvn:org.opennms/opennms-icmp-api/32.0.0-SNAPSHOT</bundle>
        <bundle>mvn:org.opennms/org.opennms.icmp.proxy.rpc-impl/32.0.0-SNAPSHOT</bundle>
    </feature>

    <feature name="minion-provisiond-detectors" description="Minion :: Provisond :: Detectors" version="32.0.0-SNAPSHOT">
      <feature>opennms-config</feature>
      <feature>opennms-dao-api</feature>
      <feature>opennms-icmp-best</feature>
      <feature>opennms-provisioning-detectors</feature>
      <feature>opennms-core-ipc-rpc-api</feature>
      <bundle>mvn:org.opennms/opennms-detector-registry/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms/opennms-detectorclient-rpc/32.0.0-SNAPSHOT</bundle>
    </feature>

    <feature name="minion-provisiond-requisitions" description="Minion :: Provisond :: Requisitions" version="32.0.0-SNAPSHOT">
      <feature>opennms-core-web</feature>
      <feature>opennms-dao-api</feature>
      <feature>opennms-provisioning</feature>
      <feature>opennms-core-ipc-rpc-api</feature>
      <bundle>mvn:org.opennms/opennms-requisition-service/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms/opennms-requisition-dns/32.0.0-SNAPSHOT</bundle>
    </feature>

    <feature name="minion-shell" description="Minion :: Shell" version="32.0.0-SNAPSHOT">
      <feature>minion-shell-provision</feature>
      <feature>minion-shell-poller</feature>
      <feature>minion-shell-collection</feature>
    </feature>

    <feature name="minion-shell-provision" description="Minion :: Shell :: Provision" version="32.0.0-SNAPSHOT">
      <feature>commons-lang</feature>
      <feature>opennms-core</feature>
      <feature>opennms-model</feature>
      <feature>opennms-provisioning-api</feature>
      <bundle>mvn:org.opennms/opennms-detector-registry/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.minion.shell/org.opennms.features.minion.shell.provision/32.0.0-SNAPSHOT</bundle>
    </feature>
    
    <feature name="minion-shell-poller" description="Minion :: Shell :: Poller" version="32.0.0-SNAPSHOT">
      <feature>minion-poller</feature>
      <bundle>mvn:org.opennms.features.minion.shell/org.opennms.features.minion.shell.poller/32.0.0-SNAPSHOT</bundle>
    </feature>

    <feature name="minion-poller" description="Minion :: Poller" version="32.0.0-SNAPSHOT">
      <feature>opennms-core-ipc-rpc-api</feature>
      <feature>opennms-config-jaxb</feature>
      <bundle>mvn:org.opennms.features.poller/org.opennms.features.poller.api/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.core.snmp/org.opennms.core.snmp.api/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.poller/org.opennms.features.poller.client-rpc/32.0.0-SNAPSHOT</bundle>
      <feature>opennms-poller-monitors-core</feature>
    </feature>
    
    <feature name="minion-collection" description="Minion :: Collection" version="32.0.0-SNAPSHOT">
      <feature>commons-cli</feature>

      <feature>opennms-config</feature>
      <feature>opennms-config-jaxb</feature>
      <feature>opennms-core-web</feature>
      <!-- System classpath dependency of opennms-vmware -->
      <feature>opennms-prometheus-collector</feature>
      <feature>opennms-provisioning</feature>
      <feature>opennms-vmware</feature>
      <feature>opennms-xml-collector</feature>
      <feature>wmi-integration</feature>
      <feature>wsman-integration</feature>

      <feature>opennms-core-ipc-rpc-api</feature>

      <bundle>mvn:org.opennms.core.jmx/org.opennms.core.jmx.api/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.core.jmx/org.opennms.core.jmx.impl/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.collection/org.opennms.features.collection.api/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.collection/org.opennms.features.collection.client-rpc/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.collection/org.opennms.features.collection.collectors/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features/org.opennms.features.jdbc-collector/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.protocols/org.opennms.protocols.nsclient/32.0.0-SNAPSHOT</bundle>
    </feature>

    <feature name="minion-shell-collection" description="Minion :: Shell :: Collection" version="32.0.0-SNAPSHOT">
      <feature>minion-collection</feature>
      <bundle>mvn:org.opennms.features.minion.shell/org.opennms.features.minion.shell.collection/32.0.0-SNAPSHOT</bundle>
    </feature>

    <feature name="minion-telemetryd-receivers" description="Minion :: Telemetry :: Receivers" version="32.0.0-SNAPSHOT">
      <feature version="4.1.87.Final">netty4</feature>
      <feature>opennms-dnsresolver-api</feature>
      <feature>dropwizard-metrics</feature>
      <feature>opennms-util</feature>
      <bundle>mvn:com.google.protobuf/protobuf-java/3.16.3</bundle>
      <bundle>mvn:com.google.code.gson/gson/2.9.1</bundle>
      <bundle>mvn:org.mongodb/bson/3.5.0</bundle>
      <bundle>mvn:org.apache.commons/commons-csv/1.5</bundle>
      <bundle>wrap:mvn:io.pkts/pkts-core/3.0.0</bundle>
      <bundle>wrap:mvn:io.pkts/pkts-buffers/3.0.0</bundle>
      <bundle>mvn:org.opennms.features.telemetry/org.opennms.features.telemetry.api/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.telemetry.config/org.opennms.features.telemetry.config.api/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.telemetry.config/org.opennms.features.telemetry.config.jaxb/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.telemetry/org.opennms.features.telemetry.common/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.telemetry/org.opennms.features.telemetry.registry/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.telemetry/org.opennms.features.telemetry.listeners/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.telemetry/org.opennms.features.telemetry.shell/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.telemetry.protocols/org.opennms.features.telemetry.protocols.common/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.telemetry.protocols.bmp/org.opennms.features.telemetry.protocols.bmp.parser/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.telemetry.protocols.bmp/org.opennms.features.telemetry.protocols.bmp.transport/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.telemetry.protocols.netflow/org.opennms.features.telemetry.protocols.netflow.parser/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.telemetry.protocols.netflow/org.opennms.features.telemetry.protocols.netflow.transport/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.telemetry.protocols.sflow/org.opennms.features.telemetry.protocols.sflow.parser/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.telemetry.distributed/org.opennms.features.telemetry.distributed.common/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.features.telemetry.distributed/org.opennms.features.telemetry.distributed.minion/32.0.0-SNAPSHOT</bundle>
    </feature>

    <feature name="opennms-core-ipc-grpc-client" description="OpenNMS :: Core :: IPC :: GRPC :: Client" version="32.0.0-SNAPSHOT">
      <feature>opennms-core-ipc-sink-api</feature>
      <feature>opennms-core-ipc-rpc-api</feature>
      <bundle>mvn:org.opennms.core.grpc/org.opennms.core.grpc.osgi/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.core.ipc.grpc/org.opennms.core.ipc.grpc.common/32.0.0-SNAPSHOT</bundle>
      <bundle>mvn:org.opennms.core.ipc.grpc/org.opennms.core.ipc.grpc.client/32.0.0-SNAPSHOT</bundle>
      <feature>opennms-core-ipc-twin-grpc-subscriber</feature>
    </feature>

    <feature name="opennms-core-ipc-twin-grpc-subscriber" description="OpenNMS :: Core :: IPC :: Twin :: GRPC :: Subscriber" version="32.0.0-SNAPSHOT">
        <bundle>mvn:org.opennms.core.grpc/org.opennms.core.grpc.common/32.0.0-SNAPSHOT</bundle>
        <bundle>mvn:org.opennms.core.grpc/org.opennms.core.grpc.osgi/32.0.0-SNAPSHOT</bundle>
        <bundle>mvn:org.opennms.core.ipc.twin/org.opennms.core.ipc.twin.api/32.0.0-SNAPSHOT</bundle>
        <bundle>mvn:org.opennms.core.ipc.twin/org.opennms.core.ipc.twin.common/32.0.0-SNAPSHOT</bundle>
        <bundle>mvn:org.opennms.core.ipc.twin.grpc/org.opennms.core.ipc.twin.grpc.common/32.0.0-SNAPSHOT</bundle>
        <bundle>mvn:org.opennms.core.ipc.twin.grpc/org.opennms.core.ipc.twin.grpc.subscriber/32.0.0-SNAPSHOT</bundle>
        <feature>json-patch</feature>
    </feature>

    <feature name="dominion-grpc-client" description="Dominion :: GRPC :: Client" version="32.0.0-SNAPSHOT">
        <feature>minion-core-api</feature>
        <bundle>mvn:org.opennms.core.grpc/org.opennms.core.grpc.osgi/32.0.0-SNAPSHOT</bundle>
        <bundle>mvn:org.opennms.features.minion/dominion-grpc-client/32.0.0-SNAPSHOT</bundle>
    </feature>

    <feature name="dominion-secure-credentials-vault" description="Dominion :: Secure Credentials Vault" version="32.0.0-SNAPSHOT">
        <feature>scv-api</feature>
        <feature>dominion-grpc-client</feature>
        <bundle>mvn:org.opennms.features.scv/org.opennms.features.scv.dominion-grpc-impl/32.0.0-SNAPSHOT</bundle>
    </feature>

    <feature name="minion-health-check" version="32.0.0-SNAPSHOT" description="Minion :: Health Check">
        <feature>health-api</feature>
        <bundle>mvn:org.opennms.features.minion/health-check/32.0.0-SNAPSHOT</bundle>
    </feature>

    <feature name="minion-api-layer" version="32.0.0-SNAPSHOT" description="Minion :: API Layer">
        <feature version="1.3.0">opennms-integration-api</feature>
        <feature>minion-health-check</feature>
        <feature>opennms-provisioning</feature>
        <feature>opennms-dao-api</feature>
        <feature>scv-api</feature>
        <bundle dependency="true">mvn:org.mapstruct/mapstruct/1.5.2.Final</bundle>
        <bundle>mvn:org.opennms.features.api-layer/org.opennms.features.api-layer.common/32.0.0-SNAPSHOT</bundle>
        <bundle>mvn:org.opennms.features.api-layer/org.opennms.features.api-layer.minion/32.0.0-SNAPSHOT</bundle>
        <bundle>mvn:org.opennms.features.distributed/org.opennms.features.distributed.kv-store.api/32.0.0-SNAPSHOT</bundle>
    </feature>

</features>
